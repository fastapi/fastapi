#
# This file is part of pyasn1 software.
#
# Copyright (c) 2005-2020, Ilya Etingof <etingof@gmail.com>
# License: https://pyasn1.readthedocs.io/en/latest/license.html
#
from sys import version_info

if version_info[0] <= 2:
    int2oct = chr

    # noinspection PyPep8
    def ints2octs(s):
        return "".join([int2oct(x) for x in s])

    null = ""
    oct2int = ord

    # TODO: refactor to return a sequence of ints
    # noinspection PyPep8
    def octs2ints(s):
        return [oct2int(x) for x in s]

    # noinspection PyPep8
    def str2octs(x):
        return x

    # noinspection PyPep8
    def octs2str(x):
        return x

    # noinspection PyPep8
    def isOctetsType(s):
        return isinstance(s, str)

    # noinspection PyPep8
    def isStringType(s):
        return isinstance(s, (str, unicode))

    # noinspection PyPep8
    ensureString = str
else:
    ints2octs = bytes

    # noinspection PyPep8
    def int2oct(x):
        return ints2octs((x,))

    null = ints2octs()

    # noinspection PyPep8
    def oct2int(x):
        return x

    # noinspection PyPep8
    def octs2ints(x):
        return x

    # noinspection PyPep8
    def str2octs(x):
        return x.encode("iso-8859-1")

    # noinspection PyPep8
    def octs2str(x):
        return x.decode("iso-8859-1")

    # noinspection PyPep8
    def isOctetsType(s):
        return isinstance(s, bytes)

    # noinspection PyPep8
    def isStringType(s):
        return isinstance(s, str)

    # noinspection PyPep8
    ensureString = bytes
