# Input ve Output iÃ§in AyrÄ± OpenAPI Schema'larÄ± (Ya da DeÄŸil) { #separate-openapi-schemas-for-input-and-output-or-not }

**Pydantic v2** yayÄ±nlandÄ±ÄŸÄ±ndan beri, Ã¼retilen OpenAPI eskisine gÃ¶re biraz daha net ve **doÄŸru**. ğŸ˜

Hatta bazÄ± durumlarda, aynÄ± Pydantic model iÃ§in OpenAPI iÃ§inde input ve output tarafÄ±nda, **default deÄŸerler** olup olmamasÄ±na baÄŸlÄ± olarak **iki farklÄ± JSON Schema** bile gÃ¶rebilirsiniz.

Bunun nasÄ±l Ã§alÄ±ÅŸtÄ±ÄŸÄ±na ve gerekirse nasÄ±l deÄŸiÅŸtirebileceÄŸinize bir bakalÄ±m.

## Input ve Output iÃ§in Pydantic Modelleri { #pydantic-models-for-input-and-output }

Default deÄŸerleri olan bir Pydantic modeliniz olduÄŸunu varsayalÄ±m; Ã¶rneÄŸin ÅŸÃ¶yle:

{* ../../docs_src/separate_openapi_schemas/tutorial001_py310.py ln[1:7] hl[7] *}

### Input iÃ§in Model { #model-for-input }

Bu modeli ÅŸÃ¶yle input olarak kullanÄ±rsanÄ±z:

{* ../../docs_src/separate_openapi_schemas/tutorial001_py310.py ln[1:15] hl[14] *}

...`description` alanÄ± **zorunlu olmaz**. Ã‡Ã¼nkÃ¼ `None` default deÄŸerine sahiptir.

### DokÃ¼manlarda Input Modeli { #input-model-in-docs }

Bunu dokÃ¼manlarda da doÄŸrulayabilirsiniz; `description` alanÄ±nda **kÄ±rmÄ±zÄ± yÄ±ldÄ±z** yoktur, yani required olarak iÅŸaretlenmemiÅŸtir:

<div class="screenshot">
<img src="/img/tutorial/separate-openapi-schemas/image01.png">
</div>

### Output iÃ§in Model { #model-for-output }

Ancak aynÄ± modeli output olarak ÅŸÃ¶yle kullanÄ±rsanÄ±z:

{* ../../docs_src/separate_openapi_schemas/tutorial001_py310.py hl[19] *}

...`description` default deÄŸere sahip olduÄŸu iÃ§in, o alan iÃ§in **hiÃ§bir ÅŸey dÃ¶ndÃ¼rmeseniz** bile yine de **o default deÄŸeri** alÄ±r.

### Output Response Verisi iÃ§in Model { #model-for-output-response-data }

DokÃ¼manlarla etkileÅŸip response'u kontrol ederseniz, kod `description` alanlarÄ±ndan birine bir ÅŸey eklememiÅŸ olsa bile, JSON response default deÄŸeri (`null`) iÃ§erir:

<div class="screenshot">
<img src="/img/tutorial/separate-openapi-schemas/image02.png">
</div>

Bu, alanÄ±n **her zaman bir deÄŸeri olacaÄŸÄ±** anlamÄ±na gelir; sadece bazen bu deÄŸer `None` olabilir (JSON'da `null`).

DolayÄ±sÄ±yla API'nizi kullanan client'larÄ±n bu deÄŸerin var olup olmadÄ±ÄŸÄ±nÄ± kontrol etmesine gerek yoktur; **alanÄ±n her zaman mevcut olacaÄŸÄ±nÄ± varsayabilirler**, sadece bazÄ± durumlarda default deÄŸer olan `None` gelecektir.

Bunu OpenAPI'de ifade etmenin yolu, bu alanÄ± **required** olarak iÅŸaretlemektir; Ã§Ã¼nkÃ¼ her zaman yer alacaktÄ±r.

Bu nedenle, bir modelin JSON Schema'sÄ± **input mu output mu** kullanÄ±ldÄ±ÄŸÄ±na gÃ¶re farklÄ± olabilir:

* **input** iÃ§in `description` **required olmaz**
* **output** iÃ§in **required olur** (ve `None` olabilir; JSON aÃ§Ä±sÄ±ndan `null`)

### DokÃ¼manlarda Output Modeli { #model-for-output-in-docs }

DokÃ¼manlarda output modelini de kontrol edebilirsiniz; **hem** `name` **hem de** `description` alanlarÄ± **kÄ±rmÄ±zÄ± yÄ±ldÄ±z** ile **required** olarak iÅŸaretlenmiÅŸtir:

<div class="screenshot">
<img src="/img/tutorial/separate-openapi-schemas/image03.png">
</div>

### DokÃ¼manlarda Input ve Output Modelleri { #model-for-input-and-output-in-docs }

OpenAPI iÃ§indeki tÃ¼m kullanÄ±labilir Schema'lara (JSON Schema'lara) bakarsanÄ±z, iki tane olduÄŸunu gÃ¶receksiniz: biri `Item-Input`, diÄŸeri `Item-Output`.

`Item-Input` iÃ§in `description` **required deÄŸildir**, kÄ±rmÄ±zÄ± yÄ±ldÄ±z yoktur.

Ama `Item-Output` iÃ§in `description` **required**'dÄ±r, kÄ±rmÄ±zÄ± yÄ±ldÄ±z vardÄ±r.

<div class="screenshot">
<img src="/img/tutorial/separate-openapi-schemas/image04.png">
</div>

**Pydantic v2**'nin bu Ã¶zelliÄŸiyle API dokÃ¼mantasyonunuz daha **hassas** olur; ayrÄ±ca autogenerated client'lar ve SDK'lar kullanÄ±yorsanÄ±z, onlar da daha tutarlÄ± ve daha iyi bir **developer experience** ile daha doÄŸru Ã¼retilir. ğŸ‰

## Schema'larÄ± AyÄ±rma { #do-not-separate-schemas }

BazÄ± durumlarda **input ve output iÃ§in aynÄ± schema'yÄ±** kullanmak isteyebilirsiniz.

Bunun muhtemelen en yaygÄ±n nedeni, halihazÄ±rda autogenerated client kodlarÄ±nÄ±z/SDK'larÄ±nÄ±zÄ±n olmasÄ± ve henÃ¼z bunlarÄ±n hepsini gÃ¼ncellemek istememenizdir. BÃ¼yÃ¼k ihtimalle bir noktada gÃ¼ncellemek isteyeceksiniz, ama belki ÅŸu an deÄŸil.

Bu durumda **FastAPI**'de bu Ã¶zelliÄŸi `separate_input_output_schemas=False` parametresiyle kapatabilirsiniz.

/// info | Bilgi

`separate_input_output_schemas` desteÄŸi FastAPI `0.102.0` sÃ¼rÃ¼mÃ¼nde eklendi. ğŸ¤“

///

{* ../../docs_src/separate_openapi_schemas/tutorial002_py310.py hl[10] *}

### DokÃ¼manlarda Input ve Output Modelleri iÃ§in AynÄ± Schema { #same-schema-for-input-and-output-models-in-docs }

ArtÄ±k model iÃ§in input ve output tarafÄ±nda tek bir schema olur: sadece `Item`. AyrÄ±ca `description` alanÄ± **required deÄŸildir**:

<div class="screenshot">
<img src="/img/tutorial/separate-openapi-schemas/image05.png">
</div>
