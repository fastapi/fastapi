# ุงุณุชูุงุฏู ุงุฒ Dataclass ูุง

FastAPI ุจุฑุงุณุงุณ ู ุฑู ุงูฺฉุงูุงุช **Pydantic** ุณุงุฎุชู ุดุฏู, ู ุชุง ุงูุงู ุจู ุดูุง ูุดูู ุฏุงุฏู ฺฉู ฺุทูุฑ  request ูุง ู response ูุง ุฎูุฏ ุฑุง ุจุฑ ุงุณุงุณ ูุฏู ูุง Pydantic ุจุณุงุฒุฏ.

ุงูุง FastAPI ุงุฒ ฺฏุฒูู  <a href="https://docs.python.org/3/library/dataclasses.html" class="external-link" target="_blank">`dataclasses`</a> ุจู ุดฺฉู ูุดุงุจู ูพุดุชุจุงู ู ฺฉูู:

{* ../../docs_src/dataclasses/tutorial001.py hl[1,7:12,19:20] *}

ุงู ุงูฺฉุงู ูููุฒ ุจุง ุชฺฉู ุจุฑ  **Pydantic** ูพุดุชุจุงู ูุดูุ ุจุง ุงุณุชูุงุฏู ุงุฒ ุงูฺฉุงู ูพุด ูุฑุถ  <a href="https://docs.pydantic.dev/latest/concepts/dataclasses/#use-of-stdlib-dataclasses-with-basemodel" class="external-link" target="_blank">  `dataclasses`</a>.

ุจูุงุจุฑุงู ุญุช ุจุง ูุฌูุฏ ุงูฺฉู ฺฉุฏ ุจุงูุง ุจู ุตูุฑุช ูุณุชูู ุงุฒ Pydantic ุงุณุชูุงุฏู ูู ฺฉููุ FastAPI ุงุฒ Pydantic ุงุณุชูุงุฏู ู ฺฉูู ุชุง Dataclass ูุง ุงุณุชุงูุฏุงุฑุฏ ุฑู ุจู Dataclass ูุง ุณุจฺฉ Pydantic ุชุจุฏู ฺฉูู.

ู ุงูุจุชู ุงุฒ ุงูฺฉุงูุงุช ูุดุงุจู ูู ูพุดุชุจุงู ู ฺฉูู:

* ุงุนุชุจุงุฑ ุณูุฌ ุฏุงุฏู
* serialize ฺฉุฑุฏู ุฏุงุฏู
* ูุณุชูุฏ ฺฉุฑุฏู ุฏุงุฏูุ ู ุบุฑู...

ุงู ูุดุงุจู ูุฏู ูุง Pydantic ฺฉุงุฑ ู ฺฉูู. ู ุจุง ุงุณุชูุงุฏู ุงุฒ Pydantic ุฏุฑ ูุงู ูุง ูพุงู ุจู ุฑูุด ูุดุงุจู ุงู ฺฉุงุฑู ุงูุฌุงู ูุฏู.

/// info

**ูฺฉุชู:**

ุจู ุฎุงุทุฑ ุจุณูพุงุฑ ฺฉู Dataclass ุชูุงู ูุงุจูุช ูุง Pydantic ุฑู ูุฏุงุฑู.

ุจูุงุจุฑุงู ุดูุง ููฺฉูู ูููุฒ ูุงุฒ ุจู ุงุณุชูุงุฏู ุงุฒ ฺฉูุงุณ ูุง Pydantic ุฏุงุดุชู ุจุงุดู.

ุงูุง ุงฺฏู ุงุฒ ูุจู ฺูุฏุชุง Dataclass ุฏุงุฑู, ุชุฑููุฏ ุฎูุจู ฺฉู ุจุฑุง ูุจ API ุงุฒุด ุงุณุชูุงุฏู ฺฉูู ุจุง ุชฺฉู ุจุฑ FastAPI. ๐ค

///

## ุงุณุชูุงุฏู ุงุฒ Dataclass ูุง ุฏุฑ `response_model`

ุดูุง ู ุชูุงูุฏ ุงุฒ  `ูุง dataclass` ุฏุฑ ูพุงุฑุงูุชุฑ ูุฑูุฏ `response_model` ูู ุงุณุชูุงุฏู ฺฉูุฏ:

{* ../../docs_src/dataclasses/tutorial002.py hl[1,7:13,19] *}

ุจุง ุงุณุชูุงุฏู ุงุฒ ุฑูุด ุจุงูุง dataclass ุจู ุตูุฑุช ุงุชููุงุชฺฉ ุชุจุฏู ฺฉู dataclass ุนู Pydantic ูุดู.

ุจุง ุงู ุฑูุด ุทุฑุญ ู ุณุงุฎุชุงุฑ ุฎุฑูุฌ ุชู ุฑุงุจุท ฺฉุงุฑุจุฑ ูุณุชูุฏุงุช API ูุดูู ุฏุงุฏู ูุดู:

<img src="/img/tutorial/dataclasses/image01.png">

## Dataclass ูุง ุฏุฑ ุณุงุฎุชุงุฑ ูุง ุฏุงุฏู ุชู ุฏุฑ ุชู

ููฺูู ุจุฑุง ุณุงุฎุชู ุณุงุฎุชุงุฑ ูุง ุฏุงุฏู ุชู ุฏุฑ ุชู ุดูุง ู ุชููุฏ `dataclass` ูุง ุฑู ุจุง ุฑูุด ูุง ุฏฺฏุฑ ูุดุงูู ฺฏุฐุงุฑ ุฏุงุฏู ุชุฑฺฉุจ ฺฉูุฏ.

ุฏุฑ ุจุฑุฎ ููุงุฑุฏ ููฺฉูู ุดูุง ูููุฒ ูุงุฒ ุจู ุงุณุชูุงุฏู ุงุฒ  `dataclass` ูุง ูุณุฎู Pydantic ุฏุงุดุชู ุจุงุดุฏ. ุจุฑุง ูููููุ ุงฺฏุฑ ุฎุทุง ุจุง ูุณุชูุฏุงุช API ฺฉู ุจู ุทูุฑ ุงุชููุงุชฺฉ ุชููุฏ ูุดู ูุฌูุฏ ุฏุงุดุชู ุจุงุดู.

ุฏุฑ ุงู ููุฑุฏ ุดูุง ู ุชููุฏ ุจู ุฑุงุญุช `dataclasses` ุฑุง ุจุง `pydantic.dataclasses`, ุฌุงฺฏุฒู ฺฉูุฏุ ฺฉู ุฏุฑ ฺฉู ฺฉ ุฌุงฺฏุฒู ูุณุชูู ุงุณุช:

{* ../../docs_src/dataclasses/tutorial003.py hl[1,5,8:11,14:17,23:25,28] *}

1. ูุง ูููุฒ `field` ุฑุง ุงุฒ ูุงฺูู ุงุณุชุงูุฏุงุฑุฏ `dataclasses` ุงููพูุฑุช ู ฺฉูู.

2. `pydantic.dataclasses` ฺฉ ุฌุงฺฏุฒู ุจ ุฏุฑุฏุณุฑ ุจุฑุง `dataclasses` ุงุณุช.

3. dataclass ุนู `Author`  ุดุงูู ูุณุช ุงุฒ dataclass ูุง `Item` ุงุณุช.

4. dataclass ุนู `Author` ุจู ุนููุงู ูพุงุฑุงูุชุฑ ูุฑูุฏ `response_model` ุงุณุชูุงุฏู ุดุฏู.

5. ุดูุง ู ุชููุฏ ุงุฒ ุฑูุด ูุง ุฏฺฏุฑ ูุดุงูู ฺฏุฐุงุฑ ุฏุงุฏู ููุฑุงู dataclass ูุง ุจุฑุง ูุญุชูุง request ุงุณุชูุงุฏู ฺฉูุฏ.

    ุฏุฑ ุงู ููุฑุฏุ ูุณุช dataclass ูุง `Item` ุงุณุช.

6. ุงูุฌุง ูุง ุฏฺฉุดูุฑ ูพุงุชูู ฺฉู ุดุงูู `items` ูุณุช ุฑู ุจุงุฒ ู ฺฏุฑุฏุงูู ฺฉู ูุณุช ุงุฒ dataclass  ูุงุณุช.

    FastAPI ูููุฒ ูุงุจูุช <abbr title="converting the data to a format that can be transmitted">serializing</abbr> ุฏุงุฏู ุจู JSON ุฑุง ุฏุงุฑุฏ.

7. ุงูุฌุง `response_model` ุงุฒ ูุดุงูู ฺฏุฐุงุฑ list ุจุฑุง dataclass ูุง `Author` ุงุณุชูุงุฏู ู ฺฉูู.

    ุงุฏ ุขูุฑ ุฏูุจุงุฑูุ ุดูุง ู ุชููุฏ `dataclasses` ุจุง ูุดุงูู ฺฏุฐุงุฑ ุงุณุชุงูุฏุงุฑุฏ ุชุฑฺฉุจ ฺฉูุฏ.

8. ุฏูุช ฺฉู *`get_authors()` <- path operation function* ุงุฒ ฺฉููู ฺฉูุฏ `def` ุจู ุฌุง `async def` ุงุณุชูุงุฏู ู ฺฉูู.

    ุทุจู ูุนููู, ุชู FastAPI ุดูุง ู ุชููุฏ ุฏู ุญุงูุช  `def` ู `async def` ุฏุฑ ฺฉูุงุฑ ูู ุจุฑุงุณุงุณ ูุงุฒ ุงุณุชูุงุฏู ฺฉูุฏ.

    ุงฺฏู ูุงุฒ ุจู ุงุฏุขูุฑ ุฏุงุฑ ฺฉู ฺฉุฏูู ุฑู ุงุณุชูุงุฏู ฺฉูู, ุชู ุจุฎุด  _"ุนุฌูู ุฏุงุฑูุ"_ ุฏุฑ ูุณุชูุฏุงุช [`async` ู `await`](../async.md#in-a-hurry){.internal-link target=_blank} ุฑู ฺฺฉ ฺฉู.

9. ุงู *path operation function* ุจู ุนููุงู ุฎุฑูุฌ dataclass ูุง ุฑู ุจุฑ ูู ฺฏุฑุฏููู (ุจุง ุงูฺฉู ู ุชููู), ุงูุง ุจู ุฌุงุด ูุณุช ุงุฒ ุฏฺฉุดูุฑ ูุง ูพุงุชูู ุจุง ููุงุฏุฑ dataclass ุฑู ุจุฑ ู ฺฏุฑุฏููู.

    FastAPI ุงุฒ ูพุงุฑุงูุชุฑ `response_model` ุจุฑุง ุชุจุฏู response ุงุณุชูุงุฏู ุฎูุงูุฏ ฺฉุฑุฏ (ุดุงูู dataclass ูุง ูู ูุดู).

ุดูุง ู ุชููุฏ `dataclasses` ุจุง ุงููุงุน ุฏฺฏู ูุดุงูู ฺฏุฐุงุฑ ุชู ุดฺฉู ูุง ู ุณุงุฎุชุงุฑ ูุง ูุฎุชูู ุชุฑฺฉุจ ฺฉูุฏ ุชุง ุณุงุฎุชุงุฑูุง ุฏุงุฏู ูพฺุฏู ุจุณุงุฒุฏ.

ุจุฑุง ุฌุฒุฆุงุช ุจุดุชุฑ ู ุชููุฏ ุฑุงูููุงูุง ูุดุงูู ฺฏุฐุงุฑ ฺฉู ุฏุงุฎู ฺฉุฏ ูุง ุจุงูุง ูุณุช ุฑู ุจุฑุฑุณ ฺฉูู.

## ุงุฏฺฏุฑ ุจุดุชุฑ

ุดูุง ููฺูู ู ุชููุฏ `dataclasses` ุฑู ุจุง ูุฏู ูุง ุฏฺฏุฑ Pydantic ุชุฑฺฉุจ ฺฉูุฏุ ุงุฒ ุงูู ูุง ุงุฑุซ ุจุฑ ฺฉูุฏุ ุงููุงุฑู ุงุถุงูู ฺฉูู ุจู ูุฏู ูุง ุฎูุฏุชููุ ู ุบุฑู

ุจุฑุง ุงฺฏุฑ ุจุดุชุฑ ูุฑุงุฌุนู ฺฉูุฏ ุจู  <a href="https://docs.pydantic.dev/latest/concepts/dataclasses/" class="external-link" target="_blank">ูุง dataclass ุจุฎุด Pydantic ูุณุชูุฏุงุช</a>.

## ูุณุฎู

ุงู ุงูฺฉุงู ุงุฒ ูุณุฎู `0.67.0` FastAPI ุฏุฑ ุฏุณุชุฑุณ ู ูุงุจู ุงุณุชูุงุฏู ุงุณุช. ๐

## ูุบุช ูุงูู

ุจุนุถ ุงุตุทูุงุญุงุช ูุนู ูุณุชูู ูุฏุงุฑูุ ุจุดุชุฑ ู ููููู ูุณุชู ุชุง ู ุชุฑุฌูู ฺฉูููโุจูโฺฉููู. ุงูุฌุง ุฏูู ุชุฑ ููููู ุฑู ุชู ูุญุชูุง ุจุฑูุงูู ููุณ ู ูพุงุชูู ุชูุถุญ ู ุฏู.

type annotation: ููููู ุงุณุช ฺฉู ุจุฑุง ุงุนุชุจุงุฑ ุณูุฌุ ุชุจุฏู ููุน ุฏุงุฏู ู ุงุฒุด ุชู ุชููุฏ ูุณุชูุฏุงุช API ู ฺูุฏ ุงูฺฉุงู ุฏฺฏู ุงุณุชูุงุฏู ูุดูุ ุงู ููููู โ`ูุดุงูู ฺฏุฐุงุฑ` ุชุฑุฌูู ุดุฏู.

path operation fucntion: ู ูุงูฺฉุดู ูพุงุชูู ูุณุช ฺฉู ููุช ุจู ุขุฏุฑุณ ูุซู โโ`/hello` ุชู ูุฑูฺฏุฑ ุฏุฑุฎูุงุณุช ุฏุงุฏู ูุดู ุงูู ูุงูฺฉุดู ุงุฌุฑุง ูุดูุ ุจุฑุง ูุซุงู:

    @app.get('/hello')  -> path operation decorator
    def hello():        -> path operation function
       ...
