# برنامه فرعی - نصب

اگر نیاز دارید که دو برنامه مستقل FastAPI، با OpenAPI مستقل و رابط‌های کاربری اسناد خود داشته باشید، می‌توانید یک برنامه
اصلی داشته باشید و یک (یا چند) برنامه فرعی را "mount" کنید.

## نصب کردن یک برنامه **FastAPI**

"Mounting" به معنای افزودن یک برنامه کاملاً مستقل در یک مسیر خاص است، که پس از آن به مدیریت همه چیز در آن مسیر، با
عملیات مسیر اعلام شده در آن برنامه فرعی، رسیدگی می کند.

### برنامه سطح بالا

ابتدا برنامه اصلی سطح بالا، **FastAPI** و عملیات مسیر آن را ایجاد کنید:

```Python hl_lines="3  6-8"
{!../../../ docs_src / sub_applications / tutorial001.py!}
```

### برنامه فرعی

سپس، برنامه فرعی خود و عملیات مسیر آن را ایجاد کنید.

این برنامه فرعی فقط یکی دیگر از برنامه های استاندارد FastAPI است، اما این برنامه ای است که "mount" می شود:

```Python hl_lines="11  14-16"
{!../../../ docs_src / sub_applications / tutorial001.py!}
```

### نصب برنامه فرعی

در برنامه سطح بالا `app` نصب میکند برنامه فرعی `subapi` در این نمونه `/subapi` در مسیر قرار میگیرد و میشود:

```Python hl_lines="11  19"
{!../../../ docs_src / sub_applications / tutorial001.py!}
```

### اسناد API خودکار را بررسی کنید

حالا ‘uvicorn’ را برای برنامه اصلی اجرا کنید، برای مثال اگر فایل شما`main.py` هست:
<div class="termy">

```console
$ uvicorn main:app --reload

<span style="color: green;">INFO</span>:     Uvicorn running on http://127.0.0.1:8000 (Press CTRL+C to quit)
```

</div>

و باز کنید مستندات را در
آدرس <a href="http://127.0.0.1:8000/docs" class="external-link" target="_blank">http://127.0.0.1:8000/docs</a>
اسناد API خودکار برنامه اصلی را مشاهده خواهید کرد که فقط شامل عملیات مسیر خود می شود:

<img src="/img/tutorial/sub-applications/image01.png">

و سپس اسناد برنامه فرعی را در آدرس <a href="http://127.0.0.1:8000/subapi/docs" class="external-link" target="_blank">http://127.0.0.1:8000/subapi/docs</a>. باز کنید.

اسناد API خودکار برای برنامه فرعی را خواهید دید، که فقط شامل عملیات مسیر خود می شود، همه در زیر مسیر `/subapi` قرار دارند:

<img src="/img/tutorial/sub-applications/image02.png">

اگر سعی کنید با هر یک از این دو رابط کاربری تعامل داشته باشید، آنها به درستی کار می کنند، زیرا مرورگر می تواند با هر یک از برنامه ها یا برنامه های فرعی خاص صحبت کند.

### جرئیات فنی : `root_path`

هنگامی که یک برنامه فرعی را همانطور که در بالا توضیح داده شد نصب می کنید,FastAPI با استفاده از مکانیزمی از مشخصات ASGI به نام `root_path` ارتباط مسیر mount را برای برنامه فرعی انجام می دهد.

به این ترتیب، برنامه فرعی می داند که از آن پیشوند مسیر برای رابط کاربری اسناد استفاده کند.

و برنامه فرعی نیز می تواند برنامه های فرعی نصب شده خود را داشته باشد و همه چیز به درستی کار کند، زیرا FastAPI تمام این مسیرهای `root_path` را به طور خودکار مدیریت می کند.

در بخش [پشت پراکسی](./behind-a-proxy.md){.internal-link target=_blank}. درباره `root_path` و نحوه استفاده صریح از آن بیشتر خواهید آموخت.
