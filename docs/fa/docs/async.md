# Concurrency ู async / await

ุงู ุจุฎุด ุจู ุชูุถุญ ุณูุชฺฉุณ `async def` ุจุฑุง *path operation functions* ู ููุฏููโุง ุจุฑ asynchronous codeุ concurrency ู parallelism ูโูพุฑุฏุงุฒุฏ.

## ุนุฌูู ุฏุงุฑุฏ ุ

<abbr title="ุทููุงูู; ูุฎููุฏุด "><strong>TL;DR:</strong></abbr>

ุงฺฏุฑ ุงุฒ ฺฉุชุงุจุฎุงููโูุง third party ุงุณุชูุงุฏู ูโฺฉูุฏ ฺฉู ูุงุฒ ุฏุงุฑูุฏ ุจุง ุงุณุชูุงุฏู ุงุฒ `await` ูุฑุงุฎูุงู ุดููุฏุ ูุซูุงู:

```Python
results = await some_library()
```

ุขูฺฏุงู ุชูุงุจุน ุนููุงุช ูุณุฑ ุฎูุฏ ุฑุง ุจุง `async def` ุชุนุฑู ฺฉูุฏุ ูุงููุฏ:

```Python hl_lines="2"
@app.get('/')
async def read_results():
    results = await some_library()
    return results
```

/// note  
ุชูุฌู ุฏุงุดุชู ุจุงุดุฏ ฺฉู ุชููุง ุฏุฑ ุชูุงุจุน ฺฉู ุจุง `async def` ุณุงุฎุชู ุดุฏูโุงูุฏ ูโุชูุงูุฏ ุงุฒ `await` ุงุณุชูุงุฏู ฺฉูุฏ.  
///

---

ุงฺฏุฑ ุงุฒ ฺฉุชุงุจุฎุงููโุง ุงุณุชูุงุฏู ูโฺฉูุฏ ฺฉู ุจุง ฺฉ ููุจุน (ูุงููุฏ ุฏุชุงุจุณุ APIุ ูุงู ุณุณุชู ู ...) ุงุฑุชุจุงุท ุจุฑูุฑุงุฑ ูโฺฉูุฏ ู ุงุฒ ุงุณุชูุงุฏู ุงุฒ `await` ูพุดุชุจุงู ููโฺฉูุฏ (ฺฉู ุฏุฑ ุญุงู ุญุงุถุฑ ุจุฑุง ุงฺฉุซุฑ ฺฉุชุงุจุฎุงููโูุง ุฏุชุงุจุณ ุฑุงุฌ ุงุณุช)ุ ุขูฺฏุงู ุชูุงุจุน ุนููุงุช ูุณุฑ ุฎูุฏ ุฑุง ุจูโุตูุฑุช ุนุงุฏ ู ุจุง ุงุณุชูุงุฏู ุงุฒ `def` ุชุนุฑู ฺฉูุฏุ ูุงููุฏ:

```Python hl_lines="2"
@app.get('/')
def results():
    results = some_library()
    return results
```

---

ุงฺฏุฑ ุจุฑูุงููโ ุดูุง (ุจู ูุฑ ุฏูู) ูุงุฒ ุจู ุงุฑุชุจุงุท ุจุง ููุงุจุน ุฎุงุฑุฌ ู ุงูุชุธุงุฑ ุจุฑุง ูพุงุณุฎ ูุฏุงุฑุฏุ ุงุฒ `async def` ุงุณุชูุงุฏู ฺฉูุฏ.

---

ู ุฏุฑ ุตูุฑุช ฺฉู ูุทูุฆู ูุณุชุฏุ ุงุฒ ุชุนุฑู ูุนููู `def` ุจูุฑู ุจุจุฑุฏ.

---

**Note**: ุดูุง ูโุชูุงูุฏ ุจู ุงูุฏุงุฒู ุฏูุฎูุงู ุฏุฑ ุชูุงุจุน ุนููุงุช ูุณุฑ ุงุฒ ุชุฑฺฉุจ `def` ู `async def` ุงุณุชูุงุฏู ฺฉูุฏ ู ูุฑ ฺฉุฏุงู ุฑุง ุจู ุจูุชุฑู ุดฺฉู ููฺฉู ุชุนุฑู ฺฉูุฏ. FastAPI ุจูโุทูุฑ ููุดููุฏ ุจุง ุงู ุชุฑฺฉุจโูุง ุฑูุชุงุฑ ูโฺฉูุฏ.

ุจู ูุฑ ุญุงูุ ุฏุฑ ูุฑ ฺฉ ุงุฒ ููุงุฑุฏ ุจุงูุงุ FastAPI ููฺูุงู ุจูโุตูุฑุช asynchronous ฺฉุงุฑ ฺฉุฑุฏู ู ุนููฺฉุฑุฏ ุจุณุงุฑ ุณุฑุน ุฏุงุฑุฏุ ุงูุง ุจุง ูพุฑู ุงุฒ ุฏุณุชูุฑุงูุนููโูุง ูููุ ุจูููโุณุงุฒโูุง ุนููฺฉุฑุฏ ุจุดุชุฑ ูุฒ ุญุงุตู ูโุดูุฏ.

## ุฌุฒุฆุงุช ูู 

ูุณุฎูโูุง ูุฏุฑู ูพุงุชูู ุงุฒ asynchronous code ุจุง ุงุณุชูุงุฏู ุงุฒ ููููู ุจู ูุงู **coroutines** ู ุณูุชฺฉุณ **`async` ู `await`** ูพุดุชุจุงู ูโฺฉููุฏ.

ุจฺฏุฐุงุฑุฏ ุงู ููุถูุน ุฑุง ุฏุฑ ุจุฎุดโูุง ุฒุฑ ุจุฑุฑุณ ฺฉูู:

* **Asynchronous Code**
* **`async` ู `await`**
* **Coroutines**

## Asynchronous ฺฉุฏ

Asynchronous code ุจู ุงู ูุนูุงุณุช ฺฉู ุฒุจุงู ุจุฑูุงููโููุณ ูโุชูุงูุฏ ุจู ฺฉุงููพูุชุฑ/ุจุฑูุงูู ุจฺฏูุฏ ฺฉู ุฏุฑ ููุทูโุง ุงุฒ ฺฉุฏุ ุจุงุฏ ููุชุธุฑ ุชฺฉูู ฺฉ ฺฉุงุฑ ุฏฺฏุฑ ุดูุฏ. ูุฑุถ ฺฉูุฏ ุขู ฺฉุงุฑ "slow-file" ูุงูุฏู ุดูุฏ.

ุฏุฑ ุงู ูุฏุชุ ฺฉุงููพูุชุฑ ูโุชูุงูุฏ ฺฉุงุฑ ุฏฺฏุฑ ุงูุฌุงู ุฏูุฏ ุฏุฑ ุญุงู ฺฉู "slow-file" ูุดุบูู ุงูุฌุงู ูุธูู ุงุณุช.

ุณูพุณุ ูุฑ ุฒูุงู ฺฉู ูุฑุตุช ุงูุชุ ฺฉุงููพูุชุฑ/ุจุฑูุงูู ุจุฑูโฺฏุฑุฏุฏุ ุง ููุช ฺฉู ุชูุงู ฺฉุงุฑูุงุด ุจู ูพุงุงู ุฑุณุฏูุ ุจุฑุฑุณ ูโฺฉูุฏ ฺฉู ุขุง ูุธุงู ฺฉู ููุชุธุฑ ุขูโูุง ุจูุฏูุ ุชฺฉูู ุดุฏูโุงูุฏ ู ุณูพุณ ฺฉุงุฑ ูุฑุจูุท ุจู ุขูโูุง ุฑุง ุงุฏุงูู ูโุฏูุฏ.

ุจู ุนููุงู ูุซุงูุ ุงููู ูุธููโุง ฺฉู ุชฺฉูู ูโุดูุฏ (ูุซูุงู "slow-file") ุงูุชุฎุงุจ ุดุฏู ู ุงุฏุงููโ ูพุฑุฏุงุฒุด ุฑู ุขู ุงูุฌุงู ูโุดูุฏ.

ุงู "ุงูุชุธุงุฑ ุจุฑุง ฺุฒ ุฏฺฏุฑ" ูุนูููุงู ุจู ุนููุงุชโูุง **I/O** ุงุดุงุฑู ุฏุงุฑุฏ ฺฉู ูุณุจุช ุจู ุณุฑุนุช ูพุฑุฏุงุฒูุฏู ู ุญุงูุธูโ RAM ูุณุจุชุงู ฺฉูุฏ ูุณุชูุฏุ ูุงููุฏ ุงูุชุธุงุฑ ุจุฑุง:

* ุงุฑุณุงู ุฏุงุฏู ุงุฒ ุณูุช client ุจู ุดุจฺฉู
* ุฏุฑุงูุช ุฏุงุฏูโุง ฺฉู ุจุฑูุงูู ุดูุง ุงุฑุณุงู ฺฉุฑุฏู ุงุฒ ุทุฑู ุดุจฺฉู ุจู client
* ุฎูุงูุฏู ูุญุชูุง ฺฉ ูุงู ุงุฒ ุฏุณฺฉ ุชูุณุท ุณุณุชู ู ุงุฑุงุฆู ุขู ุจู ุจุฑูุงูู ุดูุง
* ููุดุชู ุฏุงุฏูโูุง ฺฉู ุจุฑูุงูู ุดูุง ุจู ุณุณุชู ุฏุงุฏู ุงุณุช ุจุฑ ุฑู ุฏุณฺฉ
* ุงูุฌุงู ฺฉ ุนููุงุช API ุงุฒ ุฑุงู ุฏูุฑ
* ุชฺฉูู ฺฉ ุนููุงุช ุฏุชุงุจุณ
* ุฏุฑุงูุช ูุชุงุฌ ฺฉ query ุฏุชุงุจุณ
* ู ุบุฑู.

ุงุฒ ุขูุฌุง ฺฉู ุจุดุชุฑ ุฒูุงู ุงุฌุฑุง ุตุฑู ุงูุชุธุงุฑ ุจุฑุง ุนููุงุชโูุง **I/O** ูโุดูุฏุ ุงู ุนููุงุชโูุง "I/O bound" ูุงูุฏู ูโุดููุฏ.

ุงู ุณุณุชู asynchronous ูุงูุฏู ูโุดูุฏ ฺูู ุจุฑูุงูู ูุฌุจูุฑ ูุณุช ุฏููุง synchronized ุจุง ฺฉุงุฑ ฺฉูุฏ ุจุงุดุฏ ู ููุชุธุฑ ูุญุธูโ ุฏูู ูพุงุงู ุขู ุจูุงูุฏ ุชุง ูุชุฌู ุฑุง ุจฺฏุฑุฏุ ุจูฺฉู ูพุณ ุงุฒ ุงุชูุงู ฺฉุงุฑุ ูโุชูุงูุฏ ุจุฑุง ฺูุฏ ูฺฉุฑูุซุงูู ุฏุฑ ุตู ุจูุงูุฏ ุชุง ุฒูุงู ฺฉู ฺฉุงุฑ ุฏฺฏุฑ ุจู ูพุงุงู ุจุฑุณุฏ ู ุณูพุณ ุฏูุจุงุฑู ุจู ฺฉุงุฑ ุฎูุฏ ุงุฏุงูู ุฏูุฏ.

ุจุฑุง ฺฉุงุฑูุง synchronous (ุฏุฑ ููุงุจู asynchronous) ูุนูููุงู ุงุฒ ูุงฺูโ "sequential" ุงุณุชูุงุฏู ูโุดูุฏุ ุฒุฑุง ุฏุฑ ุงู ุญุงูุชุ ุจุฑูุงูู ุชูุงู ูุฑุงุญู ุฑุง ุจู ุชุฑุชุจ ุงูุฌุงู ุฏุงุฏู ู ุณูพุณ ุจู ูุธููโ ุจุนุฏ ูโูพุฑุฏุงุฒุฏุ ุญุช ุงฺฏุฑ ุงู ูุฑุงุญู ุดุงูู ุฒูุงู ุงูุชุธุงุฑ ูุฒ ุดููุฏ.

### ููุฒูุงู ู ุจุฑฺฏุฑ ( Concurrency and Burgers)

ุงู ููููู asynchronous code ฺฉู ุชูุถุญ ุฏุงุฏู ุดุฏุ ฺฏุงู ุจู ุนููุงู **concurrency** ูุฒ ุดูุงุฎุชู ูโุดูุฏ. ูุงุฒู ุจู ุฐฺฉุฑ ุงุณุช ฺฉู concurrency ุจุง parallelism ูุชูุงูุช ุงุณุช.

ูุฑ ุฏู ููููู ุจู "ุงุชูุงู ุงูุชุงุฏู ฺูุฏ ฺฉุงุฑ ุจูโุทูุฑ ููุฒูุงู" ุงุดุงุฑู ุฏุงุฑูุฏุ ุงูุง ุฌุฒุฆุงุช ุจู ุขูโูุง ุจุณุงุฑ ูุชูุงูุช ุงุณุช.

ุจุฑุง ุฏุฑฺฉ ุชูุงูุชุ ุฏุงุณุชุงู ุฒุฑ ุฏุฑุจุงุฑูโ burgers ุฑุง ุชุตูุฑ ฺฉูุฏ:

### ููุจุฑฺฏุฑูุง ููุฒูุงู (Concurrent Burgers)

ูุฑุถ ฺฉูุฏ ุจุง crush ุฎูุฏ ุจู ูุณุชโููุฏ ูโุฑูุฏ. ุฏุฑ ุตู ุงุณุชุงุฏูโุงุฏ ุฏุฑ ุญุงู ฺฉู cashier ุณูุงุฑุดโูุง ูุดุชุฑุงู ุฌูู ุดูุง ุฑุง ูโฺฏุฑุฏ. ๐

<img src="/img/async/concurrent-burgers/concurrent-burgers-01.png" class="illustration">

ุณูพุณ ููุจุช ุดูุง ูโุดูุฏุ ุณูุงุฑุด ฒ burgers ุจุณุงุฑ ุฎุงุต ุจุฑุง crush ู ุฎูุฏุชุงู ูโุฏูุฏ. ๐๐

<img src="/img/async/concurrent-burgers/concurrent-burgers-02.png" class="illustration">

Cashier ุจู cook ุฏุฑ ูพุดุช ุตุญูู ูโฺฏูุฏ ฺฉู ุจุงุฏ burgers ุดูุง ุฑุง ุขูุงุฏู ฺฉูุฏ (ุญุช ุงฺฏุฑ ุฏุฑ ุญุงู ุญุงุถุฑ burgers ุณูุงุฑุด ูุดุชุฑุงู ูุจู ุฑุง ุขูุงุฏู ูโฺฉููุฏ).

<img src="/img/async/concurrent-burgers/concurrent-burgers-03.png" class="illustration">

ุดูุง ูพุฑุฏุงุฎุช ูโฺฉูุฏ. ๐ธ

Cashier ุดูุงุฑู ููุจุช ุดูุง ุฑุง ุจู ุดูุง ูโุฏูุฏ.

<img src="/img/async/concurrent-burgers/concurrent-burgers-04.png" class="illustration">

ุฏุฑ ุญุงู ฺฉู ููุชุธุฑ ูุณุชุฏุ ุจุง crush ุฎูุฏ ุจู ุณูุช ฺฉ ูุฒ ูโุฑูุฏุ ูโูุดูุฏ ู ุจุฑุง ูุฏุช ุทููุงู ฺฏูุชฺฏู ูโฺฉูุฏ (ฺูู burgers ููุช ูโุจุฑูุฏ ุชุง ุขูุงุฏู ุดููุฏ).

ููฺฏุงู ฺฉู ูุดุณุชูโุงุฏ ู ููุชุธุฑ burgers ูุณุชุฏุ ูโุชูุงูุฏ ุงุฒ ุงู ุฒูุงู ุจุฑุง ุชุญุณู ุงูฺฉู crush ุดูุง ฺูุฏุฑ ุจุงุญุงูุ ุจุงูุฒู ู ุจุงููุด ุงุณุช ุงุณุชูุงุฏู ฺฉูุฏ. โจ๐โจ

<img src="/img/async/concurrent-burgers/concurrent-burgers-05.png" class="illustration">

ุฏุฑ ุญู ุงูุชุธุงุฑ ู ุตุญุจุช ุจุง crushุ ฺฏูฺฏุงู ุดูุงุฑูโุง ฺฉู ุฑู ุตูุญู ููุงุด ูุฑุงุฑ ุฏุงุฑุฏ ุฑุง ุจุฑุฑุณ ูโฺฉูุฏ ุชุง ุจุจูุฏ ููุจุช ุดูุง ูุฑุง ุฑุณุฏู ุง ุฎุฑ.

ุณูพุณ ุฏุฑ ููุงุช ููุจุช ุดูุง ูโุดูุฏ. ุจู ูพุดุฎูุงู ูโุฑูุฏุ burgers ุฎูุฏ ุฑุง ุฏุฑุงูุช ูโฺฉูุฏ ู ุจู ูุฒ ุจุงุฒูโฺฏุฑุฏุฏ.

<img src="/img/async/concurrent-burgers/concurrent-burgers-06.png" class="illustration">

ุดูุง ู crush burgers ุฑุง ูโุฎูุฑุฏ ู ุงุฒ ูุญุธุงุช ุฎูุด ูุฐุช ูโุจุฑุฏ. โจ

/// info  
ุชุตุงูุฑ ุฒุจุง ุจุง ุงูุชุฎุงุฑ ุชูุณุท <a href="https://www.instagram.com/ketrinadrawsalot" class="external-link" target="_blank">Ketrina Thompson</a> ุงุฑุงุฆู ุดุฏู ุงุณุช. ๐จ  
///

---

ุชุตูุฑ ฺฉูุฏ ุดูุง ุฏุฑ ุงู ุฏุงุณุชุงู ุจู ุนููุงู ฺฉ ุจุฑูุงูู ูุณุชุฏ.

ุฏุฑ ุญุงู ฺฉู ุฏุฑ ุตู ูุณุชุฏุ ฺฉุงููุงู idle ุจูุฏู ู ููุชุธุฑ ููุจุช ุฎูุฏ ูโูุงูุฏุ ุจุฏูู ุงูฺฉู ฺฉุงุฑ ุจุณุงุฑ "productive" ุงูุฌุงู ุฏูุฏ. ุงูุง ุตู ุณุฑุน ุงุณุช ฺูู cashier ุชููุง ุณูุงุฑุดโูุง ุฑุง ูโฺฏุฑุฏ (ูู ุขูุงุฏูโุณุงุฒ ุขูโูุง)ุ ุจูุงุจุฑุงู ูุดฺฉู ูุณุช.

ุณูพุณ ููุช ููุจุช ุดูุง ูโุดูุฏุ ฺฉุงุฑูุง ูุงูุน ู "productive" ุงูุฌุงู ูโุฏูุฏุ ููู ุฑุง ุจุฑุฑุณ ูโฺฉูุฏุ ุชุตูู ูโฺฏุฑุฏ ฺู ูโุฎูุงูุฏุ ุงูุชุฎุงุจ crush ุฑุง ูโฺฏุฑุฏุ ูพุฑุฏุงุฎุช ูโฺฉูุฏุ ฺฺฉ ูโฺฉูุฏ ฺฉู ูุจุถ ุง ฺฉุงุฑุช ุฏุฑุณุช ุงุฑุงุฆู ุดุฏูุ ุงุทููุงู ุญุงุตู ูโฺฉูุฏ ฺฉู ูุจูุบ ุจู ุฏุฑุณุช ุดุงุฑฺ ุดุฏู ู ุณูุงุฑุด ุดุงูู ููุงุฑุฏ ุตุญุญ ุงุณุช ู ุบุฑู.

ุงูุง ุณูพุณุ ุญุช ุงฺฏุฑ ูููุฒ burgers ุฎูุฏ ุฑุง ุฏุฑุงูุช ูฺฉุฑุฏู ุจุงุดุฏุ ฺฉุงุฑ ุดูุง ุจุง cashier "on pause" ูโุดูุฏุ ุฒุฑุง ุจุงุฏ ููุชุธุฑ ุจุงุดุฏ ุชุง burgers ุขูุงุฏู ุดููุฏ.

ุงูุง ุฒูุงู ฺฉู ุงุฒ ูพุดุฎูุงู ุฏูุฑ ูโุดูุฏ ู ุจู ูุฒ ูโูุดูุฏ (ุจุง ุดูุงุฑู ููุจุช ุฏุฑ ุฏุณุช)ุ ูโุชูุงูุฏ ุชูุฌู ุฎูุฏ ุฑุง ุจู crush ุชุบุฑ ุฏูุฏ ู ุฑู ุขู "work" ฺฉูุฏ. ุณูพุณ ุฏูุจุงุฑู ฺฉุงุฑ "productive" ูุงููุฏ flirting ุจุง crush ุงูุฌุงู ูโุฏูุฏ.

ุจุนุฏุ cashier ุงุนูุงู ูโฺฉูุฏ ฺฉู "Burgers ุขูุงุฏู ุดุฏูุฏ" ู ุดูุงุฑูโ ุดูุง ุฑุง ุฑู ููุงุดฺฏุฑ ูุฑุงุฑ ูโุฏูุฏุ ุงูุง ุดูุง ุจูุงูุงุตูู ูุงฺฉูุด ูุดุงู ููโุฏูุฏุ ุฒุฑุง ูโุฏุงูุฏ ูฺโฺฉุณ burgers ุดูุง ุฑุง ูุฎูุงูุฏ ฺฏุฑูุช ฺูู ุดูุงุฑู ููุจุช ุดูุง ูุดุฎุต ุงุณุช.

ูพุณ ููุชุธุฑ ูโูุงูุฏ ุชุง crush ุฏุงุณุชุงู ุฎูุฏ ุฑุง ุชูุงู ฺฉูุฏ (ุง ฺฉุงุฑ ูุนู ุจู ูพุงุงู ุจุฑุณุฏ)ุ ุจู ุขุฑุงู ูุจุฎูุฏ ูโุฒูุฏ ู ุงุนูุงู ูโฺฉูุฏ ฺฉู ูโุฑูุฏ burgers ุฑุง ุฏุฑุงูุช ฺฉูุฏ.

ุณูพุณ ุจู ูพุดุฎูุงู ุจุงุฒ ูโฺฏุฑุฏุฏุ ฺฉุงุฑ ุงููู ฺฉู ุงฺฉููู ุจู ูพุงุงู ุฑุณุฏู ุฑุง ุชฺฉูู ูโฺฉูุฏุ burgers ุฑุง ุฏุฑุงูุช ูโฺฉูุฏุ ุชุดฺฉุฑ ูโฺฉูุฏ ู ุขูโูุง ุฑุง ุจู ูุฒ ูโุจุฑุฏ. ุงู ฺฉุงุฑ ุขู ูุฑุญูู ุงุฒ ุชุนุงูู ุจุง ูพุดุฎูุงู ุฑุง ุจู ูพุงุงู ูโุฑุณุงูุฏ ู ุฏุฑ ุนูุถุ ูุธูู ุฌุฏุฏ "ุฎูุฑุฏู burgers" ุงุฌุงุฏ ูโฺฉูุฏุ ุฏุฑ ุญุงู ฺฉู ฺฉุงุฑ ูุจู "ุฏุฑุงูุช burgers" ุจู ูพุงุงู ุฑุณุฏู ุงุณุช.

### ุจุฑฺฏุฑูุง ููุงุฒ (Parallel Burgers)

ุญุงู ุชุตูุฑ ฺฉูุฏ ุงูโูุง "Concurrent Burgers" ูุณุชูุฏ ุจูฺฉู "Parallel Burgers" ูุณุชูุฏ.

ูุฑุถ ฺฉูุฏ ุจุง crush ุฎูุฏ ุจุฑุง ุฏุฑุงูุช fast food ุจู ฺฉ ูุญู ูโุฑูุฏ.

ุฏุฑ ุตู ุงุณุชุงุฏูโุงุฏุ ุฏุฑ ุญุงู ฺฉู ฺูุฏู cashier (ูุซูุงู ธ ููุฑ) ฺฉู ููุฒูุงู ุจู ุนููุงู cook ุนูู ูโฺฉููุฏุ ุณูุงุฑุดโูุง ูุดุชุฑุงู ุฌูู ุดูุง ุฑุง ูโฺฏุฑูุฏ.

ูููโ ูุดุชุฑุงู ุฌูู ุดูุง ููุชุธุฑ ูโูุงููุฏ ุชุง burgers ุขูโูุง ุขูุงุฏู ุดูุฏ ู ูุจู ุงุฒ ุชุฑฺฉ ูพุดุฎูุงูุ ูุฑ ฺฉุฏุงู cashier ูุฑุจูุทู ุจู ุณุฑุนุช ุณูุงุฑุด ุฑุง ุขูุงุฏู ูโฺฉูุฏ ู ุณูพุณ ุณูุงุฑุด ุจุนุฏ ุฑุง ูโฺฏุฑุฏ.

<img src="/img/async/parallel-burgers/parallel-burgers-01.png" class="illustration">

ุณูพุณ ุจุงูุงุฎุฑู ููุจุช ุดูุง ูโุดูุฏุ ุณูุงุฑุด ฒ burgers ุจุณุงุฑ ุฎุงุต ุจุฑุง crush ู ุฎูุฏุชุงู ูโุฏูุฏ.

ุดูุง ูพุฑุฏุงุฎุช ูโฺฉูุฏ. ๐ธ

<img src="/img/async/parallel-burgers/parallel-burgers-02.png" class="illustration">

Cashier ุจู ุขุดูพุฒุฎุงูู ูโุฑูุฏ.

ุดูุง ููุชุธุฑ ูโูุงูุฏุ ุฏุฑ ุญุงู ฺฉู ุฌูู ูพุดุฎูุงู ุงุณุชุงุฏูโุงุฏ ๐ ุชุง ูฺโฺฉุณ burgers ุดูุง ุฑุง ูุจู ุงุฒ ุดูุง ูฺฏุฑุฏุ ฺูู ุดูุงุฑู ููุจุช ูุฌูุฏ ูุฏุงุฑุฏ.

<img src="/img/async/parallel-burgers/parallel-burgers-03.png" class="illustration">

ุฏุฑ ุญุงู ฺฉู ุดูุง ู crush ูุดุบูู ุฌููฺฏุฑ ุงุฒ ุนุจูุฑ ุฏฺฏุฑุงู ู ุฏุฒุฏุฏู burgers ูุณุชุฏุ ููโุชูุงูุฏ ุชูุฌู ุฎูุฏ ุฑุง ุจู crush ูุนุทูู ฺฉูุฏ. ๐

ุงู ุญุงูุชุ ฺฉุงุฑ synchronous ุงุณุชุ ุดูุง ฺฉุงููุงู ุจุง cashier/cook ููุงููฺฏ ูุณุชุฏ ๐จโ๐ณ. ุจุงุฏ ููุชุธุฑ ุจูุงูุฏ ู ุฏุฑ ูุญุธูโ ุฏูู ุงุชูุงู burgers ู ุชุญูู ุขูโูุง ุญุถูุฑ ุฏุงุดุชู ุจุงุดุฏุ ุฏุฑ ุบุฑ ุงู ุตูุฑุช ููฺฉู ุงุณุช ฺฉุณ ุฏฺฏุฑ ุขูโูุง ุฑุง ุจฺฏุฑุฏ.

<img src="/img/async/parallel-burgers/parallel-burgers-04.png" class="illustration">

ุณูพุณ cashier/cook ูพุณ ุงุฒ ูุฏุช ุทููุงู ุงูุชุธุงุฑุ burgers ุดูุง ุฑุง ุจุฑูโฺฏุฑุฏุงูุฏ.

<img src="/img/async/parallel-burgers/parallel-burgers-05.png" class="illustration">

ุดูุง burgers ุฑุง ุฏุฑุงูุช ฺฉุฑุฏู ู ุจู ูุฒ ุจุง crush ูโุฑูุฏ.

ููุท burgers ุฑุง ูโุฎูุฑุฏ ู ฺฉุงุฑุชุงู ุจู ูพุงุงู ูโุฑุณุฏ. โน

<img src="/img/async/parallel-burgers/parallel-burgers-06.png" class="illustration">

ุฏุฑ ุงู ุญุงูุชุ ุตุญุจุช ุง flirting ฺูุฏุงู ูุฌูุฏ ูุฏุงุฑุฏ ฺุฑุง ฺฉู ุจุดุชุฑ ุฒูุงู ุตุฑู ุงูุชุธุงุฑ ุฌูู ูพุดุฎูุงู ุดุฏู ุงุณุช. ๐

/// info  
ุชุตุงูุฑ ุฒุจุง ุจุง ุงูุชุฎุงุฑ ุชูุณุท <a href="https://www.instagram.com/ketrinadrawsalot" class="external-link" target="_blank">Ketrina Thompson</a> ุงุฑุงุฆู ุดุฏู ุงุณุช. ๐จ  
///

---

ุฏุฑ ุงู ุณูุงุฑู ุจุฑุง Parallel Burgersุ ุดูุง ุจู ุนููุงู ฺฉ ุจุฑูุงูู ุจุง ุฏู processor (ุดูุง ู crush) ูุณุชุฏ ฺฉู ูุฑ ุฏู ุจุฑุง ูุฏุช ุทููุงู ููุชุธุฑ ูโูุงููุฏ ุชุง "ุฑู ูพุดุฎูุงู" ุญุถูุฑ ุฏุงุดุชู ุจุงุดูุฏ.

ูุณุชโููุฏ ูุฐฺฉูุฑ ุฏุงุฑุง ธ processor (cashier/cook) ุงุณุชุ ุฏุฑ ุญุงู ฺฉู ูุฑูุดฺฏุงู Concurrent Burgers ููฺฉู ุงุณุช ุชููุง ุฏุงุฑุง ฒ processor (ฺฉ cashier ู ฺฉ cook) ุจุงุดุฏ.

ุงูุง ุจุงุฒ ูู ุชุฌุฑุจู ููุง ูุทููุจ ูุณุช. ๐

---

ุงู ุฏุงุณุชุงู ูุนุงุฏู Parallel ุจุฑุง burgers ุงุณุช. ๐

ุจุฑุง ฺฉ ูุซุงู "real life" ุงุฒ ุงู ููุถูุนุ ุชุตูุฑ ฺฉูุฏ ฺฉู ุฏุฑ ฺฉ ุจุงูฺฉ ูุณุชุฏ.

ุชุง ฺูุฏ ูพุดุ ุงฺฉุซุฑ ุจุงูฺฉโูุง ุฏุงุฑุง ฺูุฏู cashier ๐จโ๐ผ๐จโ๐ผ๐จโ๐ผ๐จโ๐ผ ู ุตูโูุง ุทููุงู ุจูุฏูุฏ ๐๐๐๐๐๐๐๐.

ุชูุงู cashierูุง ฺฉ ูพุณ ุงุฒ ุฏฺฏุฑ ุจุง ฺฉ ูุดุชุฑ ฺฉุงุฑ ูโฺฉุฑุฏูุฏ ๐จโ๐ผโฏ.

ู ุดูุง ูุฌุจูุฑ ุจูุฏุฏ ุจุฑุง ูุฏุช ุทููุงู ุฏุฑ ุตู ุจูุงูุฏ ุชุง ููุจุชโุชุงู ุจุฑุณุฏุ ุฏุฑ ุบุฑ ุงู ุตูุฑุช ููุจุชโุชุงู ุงุฒ ุฏุณุช ูโุฑูุช.

ุงุญุชูุงูุงู ููโุฎูุงุณุชุฏ crush ุฎูุฏ ุฑุง ููุฑุงู ุฏุงุดุชู ุจุงุดุฏ ุชุง ุจู ุจุงูฺฉ ุจุฑูุฏ. ๐ฆ๐

### ูุชุฌู ฺฏุฑ ุจุฑฺฏุฑ (Burger Conclusion)

ุฏุฑ ุงู ุณูุงุฑู ุงุฒ "fast food burgers with your crush"ุ ุจู ุฏูู ูุฌูุฏ ุฒูุงูโูุง ุทููุงู ุงูุชุธุงุฑุ ุงุณุชูุงุฏู ุงุฒ ฺฉ ุณุณุชู concurrent ุจุณุงุฑ ููุทูโุชุฑ ุจู ูุธุฑ ูโุฑุณุฏ.

ุงู ุญุงูุช ุจุฑุง ุงฺฉุซุฑ ุจุฑูุงููโูุง ูุจ ุตุงุฏู ุงุณุช.

ฺฉุงุฑุจุฑุงู ุฒุงุฏ ูุฌูุฏ ุฏุงุฑูุฏุ ุงูุง ุณุฑูุฑ ุดูุง ููุชุธุฑ connectionโูุง ุถุนู ุขูโูุง ุจุฑุง ุงุฑุณุงู requestโูุง ูโูุงูุฏ.

ุณูพุณ ุฏูุจุงุฑู ููุชุธุฑ ูพุงุณุฎโูุง ูโูุงูุฏ.

ุงู "waiting" ุฏุฑ ูฺฉุฑูุซุงูู ุงูุฏุงุฒูโฺฏุฑ ูโุดูุฏุ ุงูุง ุฏุฑ ูุฌููุนุ ุฒูุงู ุงูุชุธุงุฑ ุจุณุงุฑ ุฒุงุฏ ุงุณุช.

ุจู ููู ุฏูู ุงุณุช ฺฉู ุงุณุชูุงุฏู ุงุฒ asynchronous code ุจุฑุง web APIs ุจุณุงุฑ ููุทู ุจู ูุธุฑ ูโุฑุณุฏ.

ููู ููุน asynchronous ุงุณุช ฺฉู ุจุงุนุซ ูุญุจูุจุช NodeJS ุดุฏ (ุญุช ุงฺฏุฑ NodeJS parallel ูุจุงุดุฏ) ู ูููโุทูุฑ ููุทู ููุช ุฒุจุงู ุจุฑูุงููโููุณ Go ูุญุณูุจ ูโุดูุฏ.

ููฺูู ุจุง ุฏุงุดุชู ููุฒูุงู parallelism ู asynchronicityุ ุนููฺฉุฑุฏ ุจุงูุงุชุฑ ูุณุจุช ุจู ุงฺฉุซุฑ ฺุงุฑฺูุจโูุง ุขุฒูุงุดโุดุฏูโ NodeJS ุจู ุฏุณุช ูโุขูุฑุฏ ฺฉู ุจุง Go (ฺฉ ุฒุจุงู compiled ูุฒุฏฺฉ ุจู C <a href="https://www.techempower.com/benchmarks/#section=data-r17&hw=ph&test=query&l=zijmkf-1" class="external-link" target="_blank">(ููู ุจู ูุทู Starlette)</a>) ูุงุจู ุฑูุงุจุช ุงุณุช.

### ุขุง concurrency ุจูุชุฑ ุงุฒ parallelism ุงุณุชุ

ุฎุฑ! ุงู ูพุงู ุงุตู ุฏุงุณุชุงู ูุณุช.

Concurrency ุจุง parallelism ูุชูุงูุช ุงุณุช ู ุฏุฑ ุณูุงุฑููุง **ุฎุงุต** ฺฉู ุดุงูู ุฒูุงู ุงูุชุธุงุฑ ุฒุงุฏ ูุณุชูุฏุ ุนููฺฉุฑุฏ ุจูุชุฑ ุฏุงุฑุฏ. ุจู ููู ุฏููุ ุจุฑุง ุชูุณุนูโ ุจุฑูุงููโูุง ูุจ ุจูโุทูุฑ ฺฉู concurrency ุจูุชุฑ ุงุฒ parallelism ุงุณุชุ ุงูุง ูู ุจุฑุง ููู ููุงุฑุฏ.

ุจุฑุง ุชูุถุญ ุจุดุชุฑุ ุฏุงุณุชุงู ฺฉูุชุงู ุฒุฑ ุฑุง ุชุตูุฑ ฺฉูุฏ:

> ุดูุง ุจุงุฏ ฺฉ ุฎุงููโ ุจุฒุฑฺฏ ู ฺฉุซู ุฑุง ุชูุฒ ฺฉูุฏ.

*ุจููุ ุงู ุชูุงู ุฏุงุณุชุงู ุงุณุช.*

---

ุฏุฑ ุงู ุญุงูุช ุฌุง ุจุฑุง waiting ูุฌูุฏ ูุฏุงุฑุฏุ ููุท ููุฏุงุฑ ุฒุงุฏ ฺฉุงุฑ ุฏุฑ ููุงุท ูุฎุชูู ุฎุงูู ุจุงุฏ ุงูุฌุงู ุดูุฏ.

ููฺฉู ุงุณุช ุจุชูุงูุฏ ููุงููุฏ ูุซุงู burgersุ ุงุจุชุฏุง ุงุชุงู ูุดูู ู ุณูพุณ ุขุดูพุฒุฎุงูู ุฑุง ุชูุฒ ฺฉูุฏุ ุงูุง ุงุฒ ุขูุฌุง ฺฉู ุฏุฑ ุงู ฺฉุงุฑ ูุงุฒ ุจู waiting ูุณุช ู ููุท ุชูุฒฺฉุงุฑ ูโฺฉูุฏุ ููุจุชโุจูุฏ ุชุฃุซุฑ ูุฎูุงูุฏ ุฏุงุดุช.

ูุฏุช ุฒูุงู ูุงุฒู ุจุฑุง ุงุชูุงู ฺฉุงุฑ ุจุง ุง ุจุฏูู turns (concurrency) ุชูุฑุจุงู ฺฉุณุงู ุฎูุงูุฏ ุจูุฏ ู ููุฏุงุฑ ฺฉุงุฑ ฺฉู ุงูุฌุงู ูโุฏูุฏ ูุฒ ุชุบุฑ ูุฎูุงูุฏ ฺฉุฑุฏ.

ุงูุง ุฏุฑ ุงู ุญุงูุชุ ุงฺฏุฑ ุจุชูุงูุฏ ธ ููุฑ (ูุงููุฏ cashier/cook ุณุงุจู ฺฉู ุญุงูุง cleaner ูุณุชูุฏ) ููุฑุงู ุฏุงุดุชู ุจุงุดุฏ ู ูุฑ ฺฉุฏุงู (ุจู ููุฑุงู ุดูุง) ฺฉ ูุงุญู ุงุฒ ุฎุงูู ุฑุง ุจู ุนูุฏู ุจฺฏุฑูุฏุ ูโุชูุงูุฏ ุชูุงู ฺฉุงุฑ ุฑุง ุจูโุตูุฑุช parallel ุงูุฌุงู ุฏูุฏ ู ุจุง ฺฉูฺฉ ุงุถุงูุ ุฎู ุฒูุฏุชุฑ ฺฉุงุฑ ุชูุงู ุดูุฏ.

ุฏุฑ ุงู ุณูุงุฑูุ ูุฑ ฺฉ ุงุฒ cleaners (ุงุฒ ุฌููู ุดูุง) ูุงููุฏ ฺฉ processor ุนูู ูโฺฉููุฏ ู ูุฑ ฺฉุฏุงู ูุณูุช ูุดุฎุต ุงุฒ ฺฉุงุฑ ุฑุง ุงูุฌุงู ูโุฏููุฏ.

ู ุงุฒ ุขูุฌุง ฺฉู ุจุดุชุฑ ุฒูุงู ุงุฌุฑุง ุตุฑู ฺฉุงุฑ ูุงูุน (ุจู ุฌุง waiting) ูโุดูุฏ ู ฺฉุงุฑ ุฏุฑ ฺฉุงููพูุชุฑ ุชูุณุท <abbr title="Central Processing Unit">CPU</abbr> ุงูุฌุงู ูโุดูุฏุ ุงู ูุณุงุฆู "CPU bound" ูุงูุฏู ูโุดููุฏ.

---

ูุซุงูโูุง ุฑุงุฌ ุจุฑุง ุนููุงุชโูุง CPU boundุ ูุณุงุฆู ูุณุชูุฏ ฺฉู ูุงุฒ ุจู ูพุฑุฏุงุฒุด ุฑุงุถ ูพฺุฏู ุฏุงุฑูุฏ.

ุจุฑุง ูุซุงู:

* **Audio** ุง **image processing**.
* **Computer vision**: ฺฉ ุชุตูุฑ ุงุฒ ููููโูุง ูพฺฉุณู ุชุดฺฉู ุดุฏู ุงุณุชุ ูุฑ ูพฺฉุณู ุดุงูู ณ value/ุฑูฺฏ ุงุณุช ู ูพุฑุฏุงุฒุด ุขู ูุนูููุงู ูุงุฒ ุจู ุงูุฌุงู ูุญุงุณุจุงุช ุจุฑ ุฑู ุงู ูพฺฉุณูโูุง ุจูโุทูุฑ ููุฒูุงู ุฏุงุฑุฏ.
* **Machine Learning**: ูุนูููุงู ุจู ุถุฑุจโูุง ูุฑุงูุงู matrix ู vector ูุงุฒ ุฏุงุฑุฏ. ุชุตูุฑ ฺฉูุฏ ฺฉ spreadsheet ุนุธู ุจุง ุงุนุฏุงุฏ ฺฉู ูููโ ุขูโูุง ุจูโุทูุฑ ููุฒูุงู ุฏุฑ ุญุงู ุถุฑุจ ุดุฏู ูุณุชูุฏ.
* **Deep Learning**: ฺฉู ุฒุฑุดุงุฎูโุง ุงุฒ Machine Learning ุงุณุชุ ุฏุฑ ุงูุฌุง ูุฒ ููุงู ููุถูุน ุตุฏู ูโฺฉูุฏ. ุชูุงูุช ุงูุฌุงุณุช ฺฉู ุชููุง ฺฉ spreadsheet ุจุฑุง ุถุฑุจ ูุฌูุฏ ูุฏุงุฑุฏ ุจูฺฉู ูุฌููุนูโ ุนุธู ุงุฒ ุงุนุฏุงุฏ ูุฌูุฏ ุฏุงุฑุฏ ู ุฏุฑ ุจุณุงุฑ ุงุฒ ููุงุฑุฏ ุงุฒ ูพุฑุฏุงุฒูุฏูโูุง ูฺูโุง ุจุฑุง ุณุงุฎุช ู/ุง ุงุณุชูุงุฏู ุงุฒ ุงู ูุฏูโูุง ุจูุฑู ฺฏุฑูุชู ูโุดูุฏ.

### Concurrency + Parallelism: Web + Machine Learning

ุจุง **FastAPI** ุดูุง ูโุชูุงูุฏ ุงุฒ concurrency ุจูุฑู ุจุจุฑุฏ ฺฉู ุฏุฑ ุชูุณุนู ูุจ ุจุณุงุฑ ุฑุงุฌ ุงุณุช (ููุงู ูฺฺฏ ุฌุฐุงุจ NodeJS).

ุงูุง ููฺูู ูโุชูุงูุฏ ุงุฒ ูุฒุงุง parallelism ู multiprocessing (ุงุฌุฑุง ฺูุฏ ูุฑุขูุฏ ุจูโุทูุฑ ููุงุฒ) ุจุฑุง ฺฉุงุฑูุง **CPU bound** ูุงููุฏ ุณุณุชูโูุง Machine Learning ุจูุฑู ุจุจุฑุฏ.

ุงู ููุถูุน ุจู ุนูุงููโ ุงู ูุงูุนุช ุณุงุฏู ุงุณุช ฺฉู Python ุฒุจุงู ุงุตู Data Scienceุ Machine Learning ู ุจูโูฺู Deep Learning ูุญุณูุจ ูโุดูุฏุ FastAPI ุฑุง ฺฏุฒููโ ุจุณุงุฑ ููุงุณุจ ุจุฑุง APIูุง ู ุงูพูฺฉุดูโูุง ูุจ ูุฑุจูุท ุจู Data Science/Machine Learning ูโุณุงุฒุฏ (ุฏุฑ ูุงู ุจุณุงุฑ ุฏฺฏุฑ).

ุจุฑุง ูุดุงูุฏู ูุญููโ ุฏุณุชุงุจ ุจู ุงู parallelism ุฏุฑ ูุญุท productionุ ุจู ุจุฎุด [Deployment](deployment/index.md){.internal-link target="_blank"} ูุฑุงุฌุนู ฺฉูุฏ.

## `async` ู `await`

ูุณุฎูโูุง ูุฏุฑู Python ุฑูุด ุจุณุงุฑ ุดููุฏ ุจุฑุง ุชุนุฑู asynchronous code ุงุฑุงุฆู ูโุฏููุฏ. ุงู ููุถูุน ุจุงุนุซ ูโุดูุฏ ฺฉุฏ ฺฉุงููุงู ุดุจู ุจู ฺฉุฏ sequential ุจู ูุธุฑ ุจุฑุณุฏ ู ุนููุงุช waiting ุฏุฑ ูุญุธุงุช ููุงุณุจ ุจู ุทูุฑ ุฎูุฏฺฉุงุฑ ุงูุฌุงู ุดูุฏ.

ุฒูุงู ฺฉู ุนููุงุช ูุฌูุฏ ุฏุงุฑุฏ ฺฉู ูุจู ุงุฒ ุงุฑุงุฆูโ ูุชุฌู ูุงุฒ ุจู waiting ุฏุงุฑุฏ ู ุงุฒ ุงู ูฺฺฏโูุง ุฌุฏุฏ ูพุดุชุจุงู ูโฺฉูุฏุ ูโุชูุงูุฏ ุขู ุฑุง ุจู ุงู ุตูุฑุช ุจููุณุฏ:

```Python
burgers = await get_burgers(2)
```

ฺฉูุฏ ุงูุฌุง ุงุณุชูุงุฏู ุงุฒ `await` ุงุณุช. ุงู ฺฉููู ุจู Python ูโฺฏูุฏ ฺฉู ุจุงุฏ โธ ููุชุธุฑ ุจูุงูุฏ ุชุง `get_burgers(2)` ฺฉุงุฑ ุฎูุฏ ุฑุง ุจู ุงุชูุงู ุจุฑุณุงูุฏ ู ุณูพุณ ูุชุฌู ุฑุง ุฏุฑ ูุชุบุฑ `burgers` ุฐุฎุฑู ฺฉูุฏ. ุจุฏู ุชุฑุชุจุ Python ูโุฏุงูุฏ ฺฉู ุฏุฑ ููู ุญู ูโุชูุงูุฏ ฺฉุงุฑ ุฏฺฏุฑ ุงูุฌุงู ุฏูุฏ (ูุซูุงู ุฏุฑุงูุช request ุฏฺฏุฑ).

ุจุฑุง ุงูฺฉู `await` ฺฉุงุฑ ฺฉูุฏุ ูุงุฒู ุงุณุช ฺฉู ุฏุฑ ุฏุงุฎู ุชุงุจุน ุงุณุชูุงุฏู ุดูุฏ ฺฉู ุงุฒ asynchronous ุจูุฏู ูพุดุชุจุงู ูโฺฉูุฏ. ุจุฑุง ุงู ููุธูุฑุ ฺฉุงูุณุช ุชุงุจุน ุฑุง ุจุง `async def` ุชุนุฑู ฺฉูุฏ:

```Python hl_lines="1"
async def get_burgers(number: int):
    # ุงูุฌุงู ฺฉุงุฑูุง asynchronous ุจุฑุง ุขูุงุฏูโุณุงุฒ burgers
    return burgers
```

...ุจู ุฌุง:

```Python hl_lines="2"
# ุงู ฺฉุฏ asynchronous ูุณุช
def get_sequential_burgers(number: int):
    # ุงูุฌุงู ฺฉุงุฑูุง sequential ุจุฑุง ุขูุงุฏูโุณุงุฒ burgers
    return burgers
```

ุจุง ุงุณุชูุงุฏู ุงุฒ `async def`ุ Python ูโุฏุงูุฏ ฺฉู ุฏุฑ ุฏุงุฎู ุขู ุชุงุจุน ุจุงุฏ ุงุฒ ุนุจุงุฑุงุช `await` ุขฺฏุงู ุจุงุดุฏ ู ูโุชูุงูุฏ ุงุฌุฑุง ุขู ุชุงุจุน ุฑุง pause ุฏุงุฏู ู ูุจู ุงุฒ ุจุงุฒฺฏุดุชุ ฺฉุงุฑ ุฏฺฏุฑ ุงูุฌุงู ุฏูุฏ.

ููฺฏุงู ฺฉู ูโุฎูุงูุฏ ุงุฒ ุชุงุจุน ฺฉู ุจุง `async def` ุชุนุฑู ุดุฏู ูุฑุงุฎูุงู ฺฉูุฏุ ุจุงุฏ ุขู ุฑุง "await" ฺฉูุฏ. ุจู ุนููุงู ูุซุงูุ ฺฉุฏ ุฒุฑ ฺฉุงุฑ ูุฎูุงูุฏ ฺฉุฑุฏ:

```Python
# ุงู ฺฉุฏ ฺฉุงุฑ ููโฺฉูุฏุ ฺูู get_burgers ุจุง async def ุชุนุฑู ุดุฏู ุงุณุช
burgers = get_burgers(2)
```

---

ุจูุงุจุฑุงูุ ุงฺฏุฑ ุงุฒ ฺฉุชุงุจุฎุงููโุง ุงุณุชูุงุฏู ูโฺฉูุฏ ฺฉู ุจู ุดูุง ูโฺฏูุฏ ูโุชูุงูุฏ ุขู ุฑุง ุจุง `await` ูุฑุงุฎูุงู ฺฉูุฏุ ุจุงุฏ ุชูุงุจุน ุนููุงุช ูุณุฑ ูุฑุจูุทู ุฑุง ุจุง `async def` ุชุนุฑู ฺฉูุฏุ ูุงููุฏ:

```Python hl_lines="2-3"
@app.get('/burgers')
async def read_burgers():
    burgers = await get_burgers(2)
    return burgers
```

### ุฌุฒุฆุงุช ูู ุจุดุชุฑ 

ุดุงุฏ ูุชูุฌู ุดุฏู ุจุงุดุฏ ฺฉู `await` ุชููุง ุฏุฑ ุฏุงุฎู ุชูุงุจุน ุชุนุฑูโุดุฏู ุจุง `async def` ูุงุจู ุงุณุชูุงุฏู ุงุณุช.

ุงูุง ุฏุฑ ุนู ุญุงูุ ุชูุงุจุน ุชุนุฑูโุดุฏู ุจุง `async def` ูุฒ ุจุงุฏ "await" ุดููุฏุ ุนู ุงู ุชูุงุจุน ุชููุง ุฏุฑ ุฏุงุฎู ุชูุงุจุน ุฏฺฏุฑ ฺฉู ุจุง `async def` ุชุนุฑู ุดุฏูโุงูุฏ ูุงุจู ูุฑุงุฎูุงู ูุณุชูุฏ.

ูพุณ ุณูุงู ูพุด ูโุขุฏ: ุฏุฑุจุงุฑูโ ูุณุฆููโ "egg and chicken"ุ ฺฺฏููู ุงููู ุชุงุจุน `async` ุฑุง ูุฑุงุฎูุงู ฺฉููุ

ุงฺฏุฑ ุจุง **FastAPI** ฺฉุงุฑ ูโฺฉูุฏุ ูุงุฒ ุจู ูฺฏุฑุงู ูุฏุงุฑุฏุ ฺุฑุง ฺฉู ุงููู ุชุงุจุน ุดูุง ููุงู path operation function ุฎูุงูุฏ ุจูุฏ ู FastAPI ูโุฏุงูุฏ ฺฺฏููู ฺฉุงุฑ ุฑุง ุงูุฌุงู ุฏูุฏ.

ุงูุง ุงฺฏุฑ ูโุฎูุงูุฏ ุจุฏูู FastAPI ุงุฒ `async`/`await` ุงุณุชูุงุฏู ฺฉูุฏุ ููฺูุงู ูโุชูุงูุฏ ุงู ฺฉุงุฑ ุฑุง ุงูุฌุงู ุฏูุฏ.

### ููุดุชู ฺฉุฏ asynchronous ุฎูุฏุชุงู

Starlette (ู **FastAPI**) ุจุฑ ูพุงูโ <a href="https://anyio.readthedocs.io/en/stable/" class="external-link" target="_blank">AnyIO</a> ุณุงุฎุชู ุดุฏูโุงูุฏ ฺฉู ุจุงุนุซ ูโุดูุฏ ุจุง ูุฑ ุฏู ฺฉุชุงุจุฎุงููโ ุงุณุชุงูุฏุงุฑุฏ Python ุนู <a href="https://docs.python.org/3/library/asyncio-task.html" class="external-link" target="_blank">asyncio</a> ู <a href="https://trio.readthedocs.io/en/stable/" class="external-link" target="_blank">Trio</a> ุณุงุฒฺฏุงุฑ ุจุงุดุฏ.

ุจูโูฺูุ ุดูุง ูโุชูุงูุฏ ูุณุชููุงู ุงุฒ <a href="https://anyio.readthedocs.io/en/stable/" class="external-link" target="_blank">AnyIO</a> ุจุฑุง ุณูุงุฑููุง ูพุดุฑูุชู concurrency ุงุณุชูุงุฏู ฺฉูุฏ ฺฉู ูุงุฒ ุจู ุงูฺฏููุง ูพฺุฏูโุชุฑ ุฏุฑ ฺฉุฏ ุดูุง ุฏุงุฑุฏ.

ู ุญุช ุงฺฏุฑ ุงุฒ FastAPI ุงุณุชูุงุฏู ููโฺฉูุฏุ ูโุชูุงูุฏ ุงูพูฺฉุดูโูุง asynchronous ุฎูุฏ ุฑุง ุจุง <a href="https://anyio.readthedocs.io/en/stable/" class="external-link" target="_blank">AnyIO</a> ุจููุณุฏ ุชุง ุณุงุฒฺฏุงุฑ ุจุงูุง ู ูุฒุงุง ุขู (ูุงููุฏ structured concurrency) ุฑุง ุฏุฑุงูุช ฺฉูุฏ.

ูู ููฺูู ฺฉ ฺฉุชุงุจุฎุงููโ ุฏฺฏุฑ ุจู ุนููุงู ฺฉ ูุงูโ ูุงุฒฺฉ ุจุฑ ุฑู AnyIO ุงุฌุงุฏ ฺฉุฑุฏูโุงู ุชุง type annotations ุฑุง ุจูุจูุฏ ุจุฎุดู ู **autocompletion** ู **inline errors** ุจูุชุฑ ุงุฑุงุฆู ุฏูู. ุงู ฺฉุชุงุจุฎุงูู ููฺูู ุฏุงุฑุง ูุนุฑู ู ุขููุฒุด ุฏูุณุชุงููโุง ุจุฑุง ฺฉูฺฉ ุจู ุดูุง ุฏุฑ ุฏุฑฺฉ ู ููุดุชู ฺฉุฏ asynchronous ุฎูุฏุชุงู ุงุณุช: <a href="https://asyncer.tiangolo.com/" class="external-link" target="_blank">Asyncer</a>. ุงู ฺฉุชุงุจุฎุงูู ุจูโูฺู ุจุฑุง ุฒูุงู ููุฏ ุงุณุช ฺฉู ูุงุฒ ุจู ุชุฑฺฉุจ ฺฉุฏ asynchronous ุจุง ฺฉุฏ ุนุงุฏ (blocking/synchronous) ุฏุงุดุชู ุจุงุดุฏ.

### ุงุดฺฉุงู ุฏฺฏุฑ ฺฉุฏ asynchronous 

ุงู ุณุจฺฉ ุงุณุชูุงุฏู ุงุฒ `async` ู `await` ูุณุจุชุงู ุฌุฏุฏ ุฏุฑ Python ุงุณุช.

ุงูุง ุจุงุนุซ ูโุดูุฏ ฺฉุงุฑ ุจุง asynchronous code ุจุณุงุฑ ุณุงุฏูโุชุฑ ุดูุฏ.

ุงู ุณูุชฺฉุณ (ุง ุชูุฑุจุงู ูุดุงุจู ุขู) ุงุฎุฑุงู ุฏุฑ ูุณุฎูโูุง ูุฏุฑู JavaScript (ุฏุฑ Browser ู NodeJS) ูุฒ ฺฏูุฌุงูุฏู ุดุฏู ุงุณุช.

ุงูุง ูพุด ุงุฒ ุขูุ ูุฏุฑุช asynchronous code ุจุณุงุฑ ูพฺุฏูโุชุฑ ู ุฏุดูุงุฑุชุฑ ุจูุฏ.

ุฏุฑ ูุณุฎูโูุง ูุจู Pythonุ ูโุชูุงูุณุชุฏ ุงุฒ threads ุง <a href="https://www.gevent.org/" class="external-link" target="_blank">Gevent</a> ุงุณุชูุงุฏู ฺฉูุฏุ ุงูุง ฺฉุฏ ุจุณุงุฑ ูพฺุฏูโุชุฑ ุจุฑุง ุฏุฑฺฉุ ุฑูุน ุงุดฺฉุงู ู ุชูฺฉุฑ ูุงุฒ ุฏุงุดุช.

ุฏุฑ ูุณุฎูโูุง ูุจู NodeJS/Browser JavaScriptุ ุงุฒ "callbacks" ุงุณุชูุงุฏู ูโฺฉุฑุฏูุฏ ฺฉู ุจู ุงุตุทูุงุญ ููุฌุฑ ุจู "callback hell" ูโุดุฏ.

## Coroutines

**Coroutine** ุงุตุทูุงุญ ุจุณุงุฑ ุดฺฉ ุจุฑุง ุดุฆ ุงุณุช ฺฉู ุชูุณุท ุชุงุจุน ฺฉู ุจุง `async def` ุชุนุฑู ุดุฏู ุจุงุฒฺฏุฑุฏุงูุฏู ูโุดูุฏ. Python ูโุฏุงูุฏ ฺฉู ุงู ุดุก ุดุจู ฺฉ ุชุงุจุน ุงุณุช ฺฉู ูโุชูุงูุฏ ุดุฑูุน ุดูุฏ ู ุฏุฑ ููุงุช ุจู ูพุงุงู ุจุฑุณุฏุ ุงูุง ููฺฉู ุงุณุช ุจูโุทูุฑ ุฏุงุฎู ูุฒ ุฏุฑ ูุญุธุงุช ฺฉู `await` ูุฌูุฏ ุฏุงุฑุฏุ pause ฺฉูุฏ.

ุชูุงู ุงู ูุงุจูุชโูุง ุงุณุชูุงุฏู ุงุฒ asynchronous code ุจุง `async` ู `await` ุงุบูุจ ุจู ุตูุฑุช "coroutines" ุฎูุงุตู ูโุดูุฏ. ุงู ููููู ูุงุจู ููุงุณู ุจุง ูฺฺฏ ุงุตู ุฏุฑ Goุ ุนู "Goroutines" ุงุณุช.

## Conclusion

ุจุงุฏ ููุงู ุฌููู ุจุงูุง ุฑุง ูุฑูุฑ ฺฉูู:

> ูุณุฎูโูุง ูุฏุฑู Python ุงุฒ asynchronous code ุจุง ุงุณุชูุงุฏู ุงุฒ ููููู ุจู ูุงู coroutines ู ุณูุชฺฉุณ `async` ู `await` ูพุดุชุจุงู ูโฺฉููุฏ.

ุงูุฏูุงุฑู ุงฺฉููู ุจุฑุง ุดูุง ูุนูุง ุงู ููุถูุน ูุงุถุญโุชุฑ ุดุฏู ุจุงุดุฏ. โจ

ููู ุงุณุช ฺฉู FastAPI (ุงุฒ ุทุฑู Starlette) ุฑุง ุจู ุขูฺู ฺฉู ุนููฺฉุฑุฏ ุจุณุงุฑ ฺุดูฺฏุฑ ุฏุงุฑุฏุ ูุฌูุฒ ูโฺฉูุฏ.

## ุฌุฒุฆุงุช ุจุณุงุฑ ูู 

/// warning  
ุดุงุฏ ุจุชูุงูุฏ ุงู ุจุฎุด ุฑุง ุฑุฏ ุจุฒูุฏ.  
ุงูโูุง ุฌุฒุฆุงุช ุจุณุงุฑ ูู ุฏุฑุจุงุฑูโ ูุญููโ ุนููฺฉุฑุฏ ุฏุฑูู FastAPI ูุณุชูุฏ.

ุงฺฏุฑ ุฏุงูุด ูู ฺฉุงู (ูุงููุฏ coroutinesุ threadsุ blocking ู ุบุฑู) ุฏุงุฑุฏ ู ฺฉูุฌฺฉุงู ูุณุชุฏ ฺฉู ุจุฏุงูุฏ FastAPI ฺฺฏููู ุจุง `async def` ุฏุฑ ููุงุจู `def` ุฑูุชุงุฑ ูโฺฉูุฏุ ุงุฏุงูู ุฏูุฏ.  
///

### Path operation functions

ููุช ฺฉ path operation function ุฑุง ุจุง ุงุณุชูุงุฏู ุงุฒ `def` ูุนููู ุจู ุฌุง `async def` ุชุนุฑู ูโฺฉูุฏุ ุขู ุชุงุจุน ุฏุฑ ฺฉ threadpool ุฎุงุฑุฌ ุงุฌุฑุง ูโุดูุฏ ฺฉู ุณูพุณ await ูโุดูุฏุ ุจู ุฌุง ุงูฺฉู ุจูโุตูุฑุช ูุณุชูู ูุฑุงุฎูุงู ุดูุฏ (ฺูู ุงู ฺฉุงุฑ ูโุชูุงูุฏ ุจุงุนุซ blocking ุณุฑูุฑ ุดูุฏ).

ุงฺฏุฑ ุงุฒ ฺุงุฑฺูุจ asynchronous ุฏฺฏุฑ ุขูุฏูโุงุฏ ฺฉู ุจู ุดูู ุชูุถุญ ุฏุงุฏูโุดุฏู ฺฉุงุฑ ููโฺฉูุฏ ู ุนุงุฏุช ุฏุงุฑุฏ ุชูุงุจุน ุนููุงุช ูุณุฑ ูุญุถ ูุญุงุณุจุงุช ุฑุง ุจุง `def` ุชุนุฑู ฺฉูุฏ (ุจุฑุง ุจู ุฏุณุช ุขูุฑุฏู ุงูุฒุงุด ุฌุฒุฆ ุนููฺฉุฑุฏ ุจู ุงูุฏุงุฒูโุง ุญุฏูุฏ ฑฐฐ ูุงููุซุงูู)ุ ุชูุฌู ุฏุงุดุชู ุจุงุดุฏ ฺฉู ุฏุฑ FastAPI ุงุซุฑ ุฏููุง ุจุฑุนฺฉุณ ุฎูุงูุฏ ุจูุฏ. ุฏุฑ ุงู ููุงุฑุฏ ุจูุชุฑ ุงุณุช ุงุฒ `async def` ุงุณุชูุงุฏู ฺฉูุฏ ูฺฏุฑ ุงูฺฉู ุชูุงุจุน ุนููุงุช ูุณุฑ ุดูุง ุงุฒ ฺฉุฏ ุงุณุชูุงุฏู ฺฉููุฏ ฺฉู ุนููุงุช blocking (I/O) ุงูุฌุงู ูโุฏูุฏ.

ุจุง ุงู ุญุงูุ ุฏุฑ ูุฑ ุฏู ุญุงูุช ุงุญุชูุงูุงู FastAPI ููฺูุงู [ุณุฑุนโุชุฑ ุฎูุงูุฏ ุจูุฏ](index.md#performance){.internal-link target="_blank"} (ุง ุญุฏุงูู ูุงุจู ููุงุณู ุจุง) ฺุงุฑฺูุจ ูุจู ุดูุง.

### ูุงุจุณุชฺฏ ูุง (Dependencies)

ููู ููุถูุน ุจุฑุง [dependencies](tutorial/dependencies/index.md){.internal-link target="_blank"} ูุฒ ุตุงุฏู ุงุณุช. ุงฺฏุฑ ฺฉ dependency ุจูโุตูุฑุช ุชุงุจุน `def` ุงุณุชุงูุฏุงุฑุฏ ุชุนุฑู ุดุฏู ุจุงุดุฏ ุจู ุฌุง `async def`ุ ุฏุฑ threadpool ุฎุงุฑุฌ ุงุฌุฑุง ูโุดูุฏ.

### ูุงุจุณุชฺฏ ูุง ูุฑุน (Sub-dependencies)

ุดูุง ูโุชูุงูุฏ ฺูุฏู dependency ู [sub-dependency](tutorial/dependencies/sub-dependencies.md){.internal-link target="_blank"} ุฏุงุดุชู ุจุงุดุฏ ฺฉู ุจู ฺฉุฏฺฏุฑ ูุงุจุณุชูโุงูุฏ (ุจู ุนููุงู ูพุงุฑุงูุชุฑูุง ุชุนุงุฑู ุชูุงุจุน). ุจุฑุฎ ุงุฒ ุขูโูุง ููฺฉู ุงุณุช ุจุง `async def` ู ุจุฑุฎ ุจุง `def` ุณุงุฎุชู ุดููุฏ. ุจุงุฒ ูู ฺฉุงุฑ ูโฺฉูุฏ ู ุขูโูุง ฺฉู ุจุง `def` ุณุงุฎุชู ุดุฏูโุงูุฏ ุฏุฑ ฺฉ threadpool ุฎุงุฑุฌ ูุฑุงุฎูุงู ูโุดููุฏ ุจู ุฌุง ุงูฺฉู await ุดููุฏ.

### ุณุงุฑ utility functions

ูุฑ ุชุงุจุน utility ุฏฺฏุฑ ฺฉู ูุณุชููุงู ูุฑุงุฎูุงู ูโฺฉูุฏุ ูโุชูุงูุฏ ุจุง ุงุณุชูุงุฏู ุงุฒ `def` ูุนููู ุง `async def` ุชุนุฑู ุดูุฏ ู FastAPI ุชุงุซุฑ ุฏุฑ ูุญููโ ูุฑุงุฎูุงู ุขู ูุฏุงุฑุฏ.

ุงู ููุถูุน ุฏุฑ ุชุถุงุฏ ุจุง ุชูุงุจุน ุงุณุช ฺฉู FastAPI ุจุฑุง ุดูุง ูุฑุงุฎูุงู ูโฺฉูุฏ: path operation functions ู dependencies.

ุงฺฏุฑ ุชุงุจุน utility ุดูุง ุจูโุตูุฑุช ุชุงุจุน ูุนููู (`def`) ุชุนุฑู ุดุฏู ุจุงุดุฏุ ูุณุชููุงู (ููุงูุทูุฑ ฺฉู ุฏุฑ ฺฉุฏ ููุดุชูโุงุฏ) ูุฑุงุฎูุงู ูโุดูุฏ ู ุฏุฑ threadpool ุงุฌุฑุง ููโุดูุฏุ ุงูุง ุงฺฏุฑ ุชุงุจุน ุจุง `async def` ุณุงุฎุชู ุดุฏู ุจุงุดุฏุ ุจุงุฏ ููฺฏุงู ูุฑุงุฎูุงู ุขู ุงุฒ `await` ุงุณุชูุงุฏู ฺฉูุฏ.

---

ุจุงุฒ ููุ ุงูโูุง ุฌุฒุฆุงุช ุจุณุงุฑ ูู ูุณุชูุฏ ฺฉู ุงุญุชูุงูุงู ููุฏ ุฎูุงููุฏ ุจูุฏ ุงฺฏุฑ ุจู ุฏูุจุงู ุขูโูุง ุจุงุดุฏ.

ุฏุฑ ุบุฑ ุงู ุตูุฑุชุ ฺฉุงู ุงุณุช ุงุฒ ุฏุณุชูุฑุงูุนููโูุง ุจุฎุด In a hurry? ูพุฑู ฺฉูุฏ.

