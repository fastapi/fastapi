# ููโุฒูุงู ู async / await

ุฌุฒุฆุงุช ุฏุฑ ููุฑุฏ ุณูุชฺฉุณ `async def` ุจุฑุง *ุชูุงุจุน ุนููุงุช ูุณุฑ* ู ู ููุฏุงุฑ ุงุทูุงุนุงุช ูพุณโุฒููู ุฏุฑ ููุฑุฏ ฺฉุฏ ูุงููโุฒูุงูุ ููโุฒูุงู ู ููุงุฒโุณุงุฒ.

## ุนุฌูู ุฏุงุฑุ

<abbr title="too long; didn't read"><strong>TL;DR:</strong></abbr>

ุงฺฏู ุงุฒ ฺฉุชุงุจุฎูููโูุง third-party ุงุณุชูุงุฏู ูโฺฉู ฺฉู ุจูุช ูโฺฏู ุจุงุฏ ุจุง `await` ุตุฏุงุดูู ฺฉูุ ูุซู:

```Python
results = await some_library()
```

ุงูู ููุชุ *ุชูุงุจุน ุนููุงุช ูุณุฑุช* ุฑู ุจุง `async def` ุชุนุฑู ฺฉูุ ูุซู:

```Python hl_lines="2"
@app.get('/')
async def read_results():
    results = await some_library()
    return results
```

/// note

ููุท ุชู ุชูุงุจุน ฺฉู ุจุง `async def` ุณุงุฎุชู ุดุฏู ูโุชูู ุงุฒ `await` ุงุณุชูุงุฏู ฺฉู.

///

---

ุงฺฏู ุงุฒ ู ฺฉุชุงุจุฎููู third-party ุงุณุชูุงุฏู ูโฺฉู ฺฉู ุจุง ู ฺุฒ (ูุซู ุฏุชุงุจุณุ APIุ ูุงู ุณุณุชู ู ุบุฑู) ุงุฑุชุจุงุท ุฏุงุฑู ู ุงุฒ `await` ูพุดุชุจุงู ููโฺฉูู (ฺฉู ุงูุงู ุจุดุชุฑ ฺฉุชุงุจุฎูููโูุง ุฏุชุงุจุณ ุงูุฌูุฑู)ุ ุงูู ููุช *ุชูุงุจุน ุนููุงุช ูุณุฑุช* ุฑู ูุซู ููุดู ุจุง `def` ูุนููู ุชุนุฑู ฺฉูุ ูุซู:

```Python hl_lines="2"
@app.get('/')
def results():
    results = some_library()
    return results
```

---

ุงฺฏู ุจุฑูุงููโุงุช (ุจู ูุฑ ุฏูู) ูุงุฒ ุจู ุงุฑุชุจุงุท ุจุง ฺุฒ ุฏฺฏูโุง ูุฏุงุฑู ู ููุชุธุฑ ุฌูุงุจุด ููโููููุ ุงุฒ `async def` ุงุณุชูุงุฏู ฺฉู.

---

ุงฺฏู ููโุฏูู ฺฺฉุงุฑ ฺฉูุ ุงุฒ `def` ูุนููู ุงุณุชูุงุฏู ฺฉู.

---

**ุชูุฌู**: ูโุชูู ุจู ูุฑ ุชุนุฏุงุฏ ฺฉู ูุงุฒู ุฏุงุฑุ `def` ู `async def` ุฑู ุชู *ุชูุงุจุน ุนููุงุช ูุณุฑุช* ูุงุท ฺฉู ู ูุฑ ฺฉุฏูู ุฑู ุจุง ุจูุชุฑู ฺฏุฒูู ุจุฑุง ุฎูุฏุช ุชุนุฑู ฺฉู. FastAPI ุฎูุฏุด ฺฉุงุฑ ุฏุฑุณุช ุฑู ุจุงูุงุดูู ุงูุฌุงู ูโุฏู.

ุจู ูุฑ ุญุงูุ ุชู ูุฑ ฺฉุฏูู ุงุฒ ุญุงูุชโูุง ุจุงูุงุ FastAPI ูููุฒ ุจู ุตูุฑุช ูุงููโุฒูุงู ฺฉุงุฑ ูโฺฉูู ู ุฎู ุณุฑุน ุนูู ูโฺฉูู.

ูู ุจุง ุฑุนุงุช ูฺฉุงุช ุจุงูุงุ ูโุชููู ู ุณุฑ ุจูููโุณุงุฒโูุง ุนููฺฉุฑุฏ ูู ุงูุฌุงู ุจุฏู.

## ุฌุฒุฆุงุช ูู

ูุณุฎูโูุง ูุฏุฑู ูพุงุชูู ุงุฒ **"ฺฉุฏ ูุงููโุฒูุงู"** ูพุดุชุจุงู ูโฺฉูู ฺฉู ุจุง ฺุฒ ุจู ุงุณู **"coroutines"** ฺฉุงุฑ ูโฺฉูู ู ุงุฒ ุณูุชฺฉุณ **`async` ู `await`** ุงุณุชูุงุฏู ูโฺฉูู.

ุจุงุฏ ุงู ุฌููู ุฑู ุชฺฉูโุชฺฉู ุจุฑุฑุณ ฺฉูู ุชู ุจุฎุดโูุง ุฒุฑ:

* **ฺฉุฏ ูุงููโุฒูุงู**
* **`async` ู `await`**
* **Coroutines**

## ฺฉุฏ ูุงููโุฒูุงู

ฺฉุฏ ูุงููโุฒูุงู ุนู ุฒุจูู ุจุฑูุงููโููุณ ๐ฌ ู ุฑุงู ุฏุงุฑู ฺฉู ุจู ฺฉุงููพูุชุฑ / ุจุฑูุงูู ๐ค ุจฺฏู ุชู ู ุฌุง ฺฉุฏุ ุจุงุฏ ููุชุธุฑ ุจูููู ุชุง *ู ฺุฒ ุฏฺฏู* ุฌุง ุฏฺฏู ุชููู ุจุดู. ูุฑุถ ฺฉูู ุงูู *ฺุฒ ุฏฺฏู* ุงุณูุด "ูุงู ฺฉูุฏ" ๐ ุจุงุดู.

ูพุณ ุชู ุงูู ูุฏุชุ ฺฉุงููพูุชุฑ ูโุชููู ุจุฑู ู ฺฉุงุฑ ุฏฺฏู ุงูุฌุงู ุจุฏูุ ุชุง ููุช ฺฉู "ูุงู ฺฉูุฏ" ๐ ุชููู ุจุดู.

ุจุนุฏุด ฺฉุงููพูุชุฑ / ุจุฑูุงูู ๐ค ูุฑ ููุช ูุฑุตุช ูพุฏุง ฺฉุฑุฏ ุจุฑูโฺฏุฑุฏูุ ฺูู ุฏูุจุงุฑู ููุชุธุฑู ุง ููุช ููู ฺฉุงุฑุง ฺฉู ุงูู ูุญุธู ุฏุงุดุชู ุชููู ุดุฏู. ุงูู ูููุน ูโฺุฑุฎู ุจุจูู ฺฉุฏูู ุงุฒ ฺฉุงุฑุง ฺฉู ููุชุธุฑุดูู ุจูุฏู ุชููู ุดุฏู ู ูุฑ ฺฉุงุฑ ฺฉู ุจุงุฏ ุจุงูุงุดูู ุจฺฉูู ุฑู ุงูุฌุงู ูโุฏู.

ุจุนุฏุดุ ุงููู ฺฉุงุฑ ฺฉู ุชููู ุดุฏู (ูุซูุงู "ูุงู ฺฉูุฏ" ๐) ุฑู ุจุฑูโุฏุงุฑู ู ูุฑ ฺุฒ ฺฉู ุจุงุฏ ุจุงูุงุด ุงูุฌุงู ุจุฏู ุฑู ุงุฏุงูู ูโุฏู.

ุงู "ููุชุธุฑ ฺุฒ ุฏฺฏู ุจูุฏู" ูุนูููุงู ุจู ุนููุงุช <abbr title="ูุฑูุฏ ู ุฎุฑูุฌ">I/O</abbr> ุงุดุงุฑู ุฏุงุฑู ฺฉู ูุณุจุชุงู "ฺฉูุฏ" ูุณุชู (ุฏุฑ ููุงุณู ุจุง ุณุฑุนุช ูพุฑุฏุงุฒูุฏู ู ุญุงูุธู RAM)ุ ูุซู ููุชุธุฑ ูููุฏู ุจุฑุง:

* ุฏุงุฏูโูุง ฺฉู ุงุฒ ฺฉูุงูุช ุงุฒ ุทุฑู ุดุจฺฉู ูุฑุณุชุงุฏู ูโุดู
* ุฏุงุฏูโูุง ฺฉู ุจุฑูุงููโุงุช ูุฑุณุชุงุฏู ุชุง ุงุฒ ุทุฑู ุดุจฺฉู ุจู ฺฉูุงูุช ุจุฑุณู
* ูุญุชูุง ู ูุงู ุชู ุฏุณฺฉ ฺฉู ุณุณุชู ุจุงุฏ ุจุฎููุฏุด ู ุจู ุจุฑูุงููโุงุช ุจุฏู
* ูุญุชูุง ฺฉู ุจุฑูุงููโุงุช ุจู ุณุณุชู ุฏุงุฏู ุชุง ุชู ุฏุณฺฉ ุจููุณู
* ู ุนููุงุช API ุงุฒ ุฑุงู ุฏูุฑ
* ู ุนููุงุช ุฏุชุงุจุณ ฺฉู ุชููู ุจุดู
* ู ฺฉูุฆุฑ ุฏุชุงุจุณ ฺฉู ูุชุฌูโุด ุจุฑฺฏุฑุฏู
* ู ุบุฑู

ฺูู ุจุดุชุฑ ุฒูุงู ุงุฌุฑุง ุตุฑู ููุชุธุฑ ูููุฏู ุจุฑุง ุนููุงุช <abbr title="ูุฑูุฏ ู ุฎุฑูุฌ">I/O</abbr> ูโุดูุ ุจู ุงูุง ูโฺฏู ุนููุงุช "I/O bound".

ุจูุด ูโฺฏู "ูุงููโุฒูุงู" ฺูู ฺฉุงููพูุชุฑ / ุจุฑูุงูู ูุฌุจูุฑ ูุณุช ุจุง ฺฉุงุฑ ฺฉูุฏ "ููโุฒูุงู" ุจุงุดูุ ุนู ุฏููุงู ูุญุธูโุง ฺฉู ฺฉุงุฑ ุชููู ูโุดู ููุชุธุฑุด ุจูููู ู ูฺ ฺฉุงุฑ ูฺฉูู ุชุง ูุชุฌู ุฑู ุจฺฏุฑู ู ุงุฏุงูู ุจุฏู.

ุจู ุฌุงุดุ ฺูู ู ุณุณุชู "ูุงููโุฒูุงูู"ุ ููุช ฺฉุงุฑ ุชููู ุดุฏุ ูโุชููู ู ฺฉู ุชู ุตู ููุชุธุฑ ุจูููู (ฺูุฏ ูฺฉุฑูุซุงูู) ุชุง ฺฉุงููพูุชุฑ / ุจุฑูุงูู ูุฑ ฺฉุงุฑ ฺฉู ุฑูุชู ุงูุฌุงู ุจุฏู ุฑู ุชููู ฺฉููุ ุจุนุฏ ุจุฑฺฏุฑุฏู ูุชุฌู ุฑู ุจฺฏุฑู ู ุจุงูุงุด ฺฉุงุฑ ฺฉูู.

ุจุฑุง "ููโุฒูุงู" (ุจุฑุฎูุงู "ูุงููโุฒูุงู") ูุนูููุงู ุงุฒ ุงุตุทูุงุญ "ุชุฑุชุจ" ูู ุงุณุชูุงุฏู ูโฺฉููุ ฺูู ฺฉุงููพูุชุฑ / ุจุฑูุงูู ููู ูุฑุงุญู ุฑู ุจู ุชุฑุชุจ ุฏูุจุงู ูโฺฉูู ูุจู ุงุฒ ุงูฺฉู ุจุฑู ุณุฑุงุบ ู ฺฉุงุฑ ุฏฺฏูุ ุญุช ุงฺฏู ุงูู ูุฑุงุญู ุดุงูู ููุชุธุฑ ูููุฏู ุจุงุดู.

### ููโุฒูุงู ู ุจุฑฺฏุฑูุง

ุงุฏู **ูุงููโุฒูุงู** ฺฉู ุจุงูุง ุชูุถุญ ุฏุงุฏู ฺฏุงู ุจูุด **"ููโุฒูุงู"** ูู ูโฺฏู. ุงู ุจุง **"ููุงุฒโุณุงุฒ"** ูุฑู ุฏุงุฑู.

**ููโุฒูุงู** ู **ููุงุฒโุณุงุฒ** ูุฑ ุฏู ุจู "ุงุชูุงู ุงูุชุงุฏู ฺุฒุง ูุฎุชูู ุชูุฑุจุงู ููุฒูุงู" ุฑุจุท ุฏุงุฑู.

ูู ุฌุฒุฆุงุช ุจู *ููโุฒูุงู* ู *ููุงุฒโุณุงุฒ* ุฎู ูุชูุงูุชู.

ุจุฑุง ุฏุฏู ูุฑูุดุ ุงู ุฏุงุณุชุงู ุจุฑฺฏุฑูุง ุฑู ุชุตูุฑ ฺฉู:

### ุจุฑฺฏุฑูุง ููโุฒูุงู

ุจุง ุนุดูุช ูโุฑ ูุณุชโููุฏ ุจุฎุฑุ ุชู ุตู ูุงูุณุช ุชุง ุตูุฏููโุฏุงุฑ ุณูุงุฑุด ุขุฏูุง ุฌููุช ุฑู ุจฺฏุฑู. ๐

<img src="/img/async/concurrent-burgers/concurrent-burgers-01.png" class="illustration">

ุจุนุฏ ููุจุชุช ูโุดูุ ุณูุงุฑุด ุฏู ุชุง ุจุฑฺฏุฑ ุฎู ุดฺฉ ุจุฑุง ุฎูุฏุช ู ุนุดูุช ูโุฏ. ๐๐

<img src="/img/async/concurrent-burgers/concurrent-burgers-02.png" class="illustration">

ุตูุฏููโุฏุงุฑ ู ฺุฒ ุจู ุขุดูพุฒ ุชู ุขุดูพุฒุฎููู ูโฺฏู ฺฉู ุจุฏููู ุจุงุฏ ุจุฑฺฏุฑุงุชู ุขูุงุฏู ฺฉูู (ูุฑฺูุฏ ุงูุงู ุฏุงุฑู ุจุฑฺฏุฑุง ูุดุชุฑุง ูุจู ุฑู ุฏุฑุณุช ูโฺฉูู).

<img src="/img/async/concurrent-burgers/concurrent-burgers-03.png" class="illustration">

ูพูู ุฑู ูโุฏ. ๐ธ

ุตูุฏููโุฏุงุฑ ุดูุงุฑู ููุจุชุช ุฑู ุจูุช ูโุฏู.

<img src="/img/async/concurrent-burgers/concurrent-burgers-04.png" class="illustration">

ุชุง ููุช ููุชุธุฑุ ุจุง ุนุดูุช ูโุฑ ู ูุฒ ุงูุชุฎุงุจ ูโฺฉูุ ูโุดู ู ฺฉู ุจุงูู ุญุฑู ูโุฒู (ฺูู ุจุฑฺฏุฑุงุช ุฎู ุดฺฉู ู ุขูุงุฏู ฺฉุฑุฏูุดูู ุทูู ูโฺฉุดู).

ููุช ุฑู ูุฒ ุจุง ุนุดูุช ูุดุณุช ู ููุชุธุฑ ุจุฑฺฏุฑูุงุ ูโุชูู ุงูู ูุฏุช ุฑู ุตุฑู ุชุญุณู ฺฉุฑุฏู ุงู ุจฺฉู ฺฉู ุนุดูุช ฺูุฏุฑ ุจุงุญุงูุ ูุงุฒ ู ุจุงููุดู โจ๐โจ.

<img src="/img/async/concurrent-burgers/concurrent-burgers-05.png" class="illustration">

ุชู ุงู ูุฏุช ฺฉู ุจุง ุนุดูุช ุญุฑู ูโุฒูุ ูุฑ ฺูุฏ ููุช ู ุจุงุฑ ุดูุงุฑูโุง ฺฉู ุฑู ูพุดุฎูู ูุดูู ูโุฏู ุฑู ฺฺฉ ูโฺฉู ฺฉู ุจุจู ููุจุชุช ุดุฏู ุง ูู.

ุจุนุฏ ุจุงูุงุฎุฑู ููุจุชุช ูโุดู. ูโุฑ ูพุดุฎููุ ุจุฑฺฏุฑุงุชู ูโฺฏุฑ ู ุจุฑูโฺฏุฑุฏ ุณุฑ ูุฒ.

<img src="/img/async/concurrent-burgers/concurrent-burgers-06.png" class="illustration">

ุชู ู ุนุดูุช ุจุฑฺฏุฑูุง ุฑู ูโุฎูุฑุฏ ู ู ููุช ุฎูุจ ุจุงูู ุฏุงุฑุฏ. โจ

<img src="/img/async/concurrent-burgers/concurrent-burgers-07.png" class="illustration">

/// ุงุทูุงุนุงุช

ุชุตุงูุฑ ูุดูฺฏ ุงุฒ <a href="https://www.instagram.com/ketrinadrawsalot" class="external-link" target="_blank">ฺฉุชุฑูุง ุชุงููพุณูู</a>. ๐จ

///

---

ุชุตูุฑ ฺฉู ุชู ุชู ุงู ุฏุงุณุชุงู ฺฉุงููพูุชุฑ / ุจุฑูุงูู ๐ค ูุณุช.

ุชุง ููุช ุชู ุตูุ ููุท ุจฺฉุงุฑ ๐ด ู ููุชุธุฑ ููุจุชุช ูุณุชุ ฺฉุงุฑ ุฎู "ููุฏ" ููโฺฉู. ูู ุตู ุณุฑุน ูพุด ูโุฑู ฺูู ุตูุฏููโุฏุงุฑ ููุท ุณูุงุฑุด ูโฺฏุฑู (ุขูุงุฏู ููโฺฉูู)ุ ูพุณ ุงุดฺฉุงู ูุฏุงุฑู.

ุจุนุฏ ฺฉู ููุจุชุช ูโุดูุ ฺฉุงุฑ "ููุฏ" ูุงูุน ูโฺฉูุ ููู ุฑู ูฺฏุงู ูโฺฉูุ ุชุตูู ูโฺฏุฑ ฺ ูโุฎูุงุ ุงูุชุฎุงุจ ุนุดูุช ุฑู ูโูพุฑุณุ ูพูู ูโุฏุ ฺฺฉ ูโฺฉู ุงุณฺฉูุงุณ ุง ฺฉุงุฑุช ุฏุฑุณุช ุจุงุดูุ ูุทูุฆู ูโุด ุฏุฑุณุช ุญุณุงุจ ุดุฏูุ ุณูุงุฑุด ุฑู ฺฺฉ ูโฺฉู ฺฉู ุฏุฑุณุช ุจุงุดู ู ุบุฑู.

ูู ุจุนุฏุดุ ุญุช ุงฺฏู ูููุฒ ุจุฑฺฏุฑุงุชู ูฺฏุฑูุชุ ฺฉุงุฑุช ุจุง ุตูุฏููโุฏุงุฑ "ูุชููู" โธ ูโุดูุ ฺูู ุจุงุฏ ููุชุธุฑ ุจููู ๐ ุชุง ุจุฑฺฏุฑุงุช ุขูุงุฏู ุจุดู.

ูู ููุช ุงุฒ ูพุดุฎูู ุฏูุฑ ูโุด ู ุจุง ุดูุงุฑู ููุจุชุช ุณุฑ ูุฒ ูโุดูุ ูโุชูู ุชูุฌูุช ุฑู ุจู ุนุดูุช ุนูุถ ฺฉู ๐ ู ุฑู ุงูู "ฺฉุงุฑ" โฏ ๐ค ฺฉู. ุงูู ูููุน ุฏูุจุงุฑู ู ฺฉุงุฑ ุฎู "ููุฏ" ุฏุงุฑ ฺฉู ูุนุงุดูู ุจุง ุนุดูุชู ๐.

ุจุนุฏ ุตูุฏููโุฏุงุฑ ๐ ุจุง ฺฏุฐุงุดุชู ุดูุงุฑูโุงุช ุฑู ุชุงุจูู ูพุดุฎูู ูโฺฏู "ูู ุจุง ุฏุฑุณุช ฺฉุฑุฏู ุจุฑฺฏุฑุง ุชููู ฺฉุฑุฏู"ุ ูู ุชู ููุฑุงู ูุซู ุฏููููโูุง ููุช ุดูุงุฑูโุงุช ูุงุฏ ููโูพุฑ. ูโุฏูู ฺฉุณ ุจุฑฺฏุฑุงุชู ููโุฏุฒุฏู ฺูู ุดูุงุฑู ููุจุชุช ุฑู ุฏุงุฑ ู ุงููุง ูู ูุงู ุฎูุฏุดูู ุฑู ุฏุงุฑู.

ูพุณ ููุชุธุฑ ูโููู ุชุง ุนุดูุช ุฏุงุณุชุงูุด ุฑู ุชููู ฺฉูู (ฺฉุงุฑ ูุนู โฏ / ุชุณฺฉ ุฏุฑ ุญุงู ูพุฑุฏุงุฒุด ๐ค ุชููู ุจุดู)ุ ุจุง ูุจุฎูุฏ ุขุฑูู ูโฺฏ ฺฉู ูโุฑ ุจุฑฺฏุฑุง ุฑู ุจุงุฑ โธ.

ุจุนุฏ ูโุฑ ูพุดุฎูู ๐ุ ุจู ุชุณฺฉ ุงููู ฺฉู ุญุงูุง ุชููู ุดุฏู โฏ ุจุฑูโฺฏุฑุฏุ ุจุฑฺฏุฑุง ุฑู ูโฺฏุฑุ ุชุดฺฉุฑ ูโฺฉู ู ูโุจุฑุดูู ุณุฑ ูุฒ. ุงู ูุฑุญูู / ุชุณฺฉ ุชุนุงูู ุจุง ูพุดุฎูู ุฑู ุชููู ูโฺฉูู โน. ุงู ุฎูุฏุด ู ุชุณฺฉ ุฌุฏุฏ ุฏุฑุณุช ูโฺฉููุ ุนู "ุฎูุฑุฏู ุจุฑฺฏุฑุง" ๐ โฏุ ูู ุชุณฺฉ ูุจู "ฺฏุฑูุชู ุจุฑฺฏุฑุง" ุชููู ุดุฏู โน.

### ุจุฑฺฏุฑูุง ููุงุฒ

ุญุงูุง ูุฑุถ ฺฉู ุงูุง "ุจุฑฺฏุฑูุง ููโุฒูุงู" ูุณุชูุ ุจูฺฉู "ุจุฑฺฏุฑูุง ููุงุฒู".

ุจุง ุนุดูุช ูโุฑ ูุณุชโููุฏ ููุงุฒ ุจุฎุฑ.

ุชู ุตู ูุงูุณุช ุฏุฑ ุญุงู ฺฉู ฺูุฏ ุชุง (ูุซูุงู 8 ุชุง) ุตูุฏููโุฏุงุฑ ฺฉู ููุฒูุงู ุขุดูพุฒ ูู ูุณุชู ุณูุงุฑุด ุขุฏูุง ุฌููุช ุฑู ูโฺฏุฑู.

ููู ูุจู ุงุฒ ุชู ููุชุธุฑู ุชุง ุจุฑฺฏุฑุงุดูู ุขูุงุฏู ุจุดู ู ุงุฒ ูพุดุฎูู ุจุฑู ฺูู ูุฑ ฺฉุฏูู ุงุฒ 8 ุชุง ุตูุฏููโุฏุงุฑ ูโุฑู ู ุจุฑฺฏุฑ ุฑู ูููู ูููุน ุฏุฑุณุช ูโฺฉูู ูุจู ุงุฒ ุงูฺฉู ุณูุงุฑุด ุจุนุฏ ุฑู ุจฺฏุฑู.

<img src="/img/async/parallel-burgers/parallel-burgers-01.png" class="illustration">

ุจุงูุงุฎุฑู ููุจุชุช ูโุดูุ ุณูุงุฑุด ุฏู ุชุง ุจุฑฺฏุฑ ุฎู ุดฺฉ ุจุฑุง ุฎูุฏุช ู ุนุดูุช ูโุฏ.

ูพูู ุฑู ูโุฏ ๐ธ.

<img src="/img/async/parallel-burgers/parallel-burgers-02.png" class="illustration">

ุตูุฏููโุฏุงุฑ ูโุฑู ุขุดูพุฒุฎููู.

ููุชุธุฑ ูโูููุ ุฌูู ูพุดุฎูู ูุงุณุชุงุฏูโุง ๐ุ ฺฉู ฺฉุณ ูุจู ุงุฒ ุชู ุจุฑฺฏุฑุงุชู ูฺฏุฑูุ ฺูู ุดูุงุฑู ููุจุช ูุณุช.

<img src="/img/async/parallel-burgers/parallel-burgers-03.png" class="illustration">

ฺูู ุชู ู ุนุดูุช ูุดุบูู ุงู ฺฉู ูุฐุงุฑ ฺฉุณ ุฌููุชูู ุฏุฑุจุงุฏ ู ุจุฑฺฏุฑุงุชู ุจฺฏุฑูุ ููโุชูู ุจู ุนุดูุช ุชูุฌู ฺฉู. ๐

ุงู ฺฉุงุฑ "ููโุฒูุงูู"ุ ุชู ุจุง ุตูุฏููโุฏุงุฑ/ุขุดูพุฒ ๐จโ๐ณ "ููโุฒูุงู" ูุณุช. ุจุงุฏ ููุชุธุฑ ุจููู ๐ ู ุฏููุงู ูููู ูุญุธู ฺฉู ุตูุฏููโุฏุงุฑ/ุขุดูพุฒ ๐จโ๐ณ ุจุฑฺฏุฑุง ุฑู ุชููู ูโฺฉูู ู ุจูุช ูโุฏู ุงููุฌุง ุจุงุดุ ูฺฏุฑูู ููฺฉูู ฺฉ ุฏฺฏู ุจุฑุดูู ุฏุงุฑู.

<img src="/img/async/parallel-burgers/parallel-burgers-04.png" class="illustration">

ุจุนุฏ ุจุงูุงุฎุฑู ุตูุฏููโุฏุงุฑ/ุขุดูพุฒุช ๐จโ๐ณ ุจุนุฏ ุงุฒ ู ุงูุชุธุงุฑ ุทููุงู ๐ ุฌูู ูพุดุฎูู ุจุง ุจุฑฺฏุฑุง ุจุฑูโฺฏุฑุฏู.

<img src="/img/async/parallel-burgers/parallel-burgers-05.png" class="illustration">

ุจุฑฺฏุฑุงุชู ูโฺฏุฑ ู ุจุง ุนุดูุช ูโุฑ ุณุฑ ูุฒ.

ููุท ูโุฎูุฑุฏุดูู ู ุชููู ูโุดู. โน

<img src="/img/async/parallel-burgers/parallel-burgers-06.png" class="illustration">

ฺูู ุจุดุชุฑ ููุชุชูู ุตุฑู ุงูุชุธุงุฑ ๐ ุฌูู ูพุดุฎูู ุดุฏูุ ุญุฑู ุฒุฏู ุง ูุนุงุดูู ุฒุงุฏ ูุจูุฏู. ๐

/// ุงุทูุงุนุงุช

ุชุตุงูุฑ ูุดูฺฏ ุงุฒ <a href="https://www.instagram.com/ketrinadrawsalot" class="external-link" target="_blank">ฺฉุชุฑูุง ุชุงููพุณูู</a>. ๐จ

///

---

ุชู ุงู ุณูุงุฑู ุจุฑฺฏุฑูุง ููุงุฒุ ุชู ู ฺฉุงููพูุชุฑ / ุจุฑูุงูู ๐ค ุจุง ุฏู ุชุง ูพุฑุฏุงุฒูุฏู (ุชู ู ุนุดูุช) ูุณุช ฺฉู ูุฑุฏูุชูู ูุฏุช ุทููุงู ููุชุธุฑ ๐ ู ูุชูุฑฺฉุฒ โฏ ุฑู "ุงูุชุธุงุฑ ุฌูู ูพุดุฎูู" ๐ ุจูุฏุฏ.

ูุณุชโููุฏ 8 ุชุง ูพุฑุฏุงุฒูุฏู (ุตูุฏููโุฏุงุฑ/ุขุดูพุฒ) ุฏุงุฑู. ุฏุฑ ุญุงู ฺฉู ูุณุชโููุฏ ุจุฑฺฏุฑูุง ููโุฒูุงู ููฺฉูู ููุท 2 ุชุง (ู ุตูุฏููโุฏุงุฑ ู ู ุขุดูพุฒ) ุฏุงุดุชู ุจุงุดู.

ูู ุจุง ุงู ุญุงูุ ุชุฌุฑุจู ููุง ุฎู ุฎูุจ ูุณุช. ๐

---

ุงู ู ุฏุงุณุชุงู ูุนุงุฏู ููุงุฒ ุจุฑุง ุจุฑฺฏุฑูุง ุจูุฏ. ๐

ุจุฑุง ู ูุซุงู "ูุงูุนโุชุฑ" ุงุฒ ุฒูุฏฺฏุ ู ุจุงูฺฉ ุฑู ุชุตูุฑ ฺฉู.

ุชุง ููู ฺูุฏ ููุช ูพุดุ ุจุดุชุฑ ุจุงูฺฉโูุง ฺูุฏ ุชุง ุตูุฏููโุฏุงุฑ ๐จโ๐ผ๐จโ๐ผ๐จโ๐ผ๐จโ๐ผ ุฏุงุดุชู ู ู ุตู ุจุฒุฑฺฏ ๐๐๐๐๐๐๐๐.

ููู ุตูุฏููโุฏุงุฑุง ุจุง ู ูุดุชุฑ ุจุนุฏ ุงุฒ ุงูู ฺฉ ฺฉุงุฑ ูโฺฉุฑุฏู ๐จโ๐ผโฏ.

ู ุชู ุจุงุฏ ุชู ุตู ฺฉู ููุชุธุฑ ูโูููุฏ ๐ ูฺฏุฑูู ููุจุชุช ุฑู ุงุฒ ุฏุณุช ูโุฏุงุฏ.

ุงุญุชูุงูุงู ููโุฎูุง ุนุดูุช ๐ ุฑู ุจุง ุฎูุฏุช ุจุจุฑ ุจุงูฺฉ ๐ฆ ุจุฑุง ฺฉุงุฑุง ุฑูุฒูุฑู.

### ูุชุฌูโฺฏุฑ ุจุฑฺฏุฑูุง

ุชู ุงู ุณูุงุฑู "ูุณุชโููุฏ ุจุฑฺฏุฑ ุจุง ุนุดูุช"ุ ฺูู ฺฉู ุงูุชุธุงุฑ ๐ ุฏุงุฑุ ุฎู ููุทูโุชุฑู ฺฉู ู ุณุณุชู ููโุฒูุงู โธ๐โฏ ุฏุงุดุชู ุจุงุด.

ุงู ุจุฑุง ุจุดุชุฑ ุจุฑูุงููโูุง ูุจ ูู ุตุฏู ูโฺฉูู.

ฺฉุงุฑุจุฑุง ุฎู ุฎู ุฒุงุฏุ ูู ุณุฑูุฑุช ููุชุธุฑู ๐ ุชุง ุงุชุตุงู ููโฺูุฏุงู ุฎูุจุดูู ุฏุฑุฎูุงุณุชุงุดูู ุฑู ุจูุฑุณุชู.

ู ุจุนุฏ ุฏูุจุงุฑู ููุชุธุฑู ๐ ุชุง ุฌูุงุจโูุง ุจุฑฺฏุฑุฏู.

ุงู "ุงูุชุธุงุฑ" ๐ ุชู ูฺฉุฑูุซุงููโูุง ุงูุฏุงุฒูโฺฏุฑ ูโุดูุ ูู ุฏุฑ ฺฉูุ ุฌูุนุด ูโุดู ฺฉู ุงูุชุธุงุฑ.

ุจุฑุง ููู ุงุณุชูุงุฏู ุงุฒ ฺฉุฏ ูุงููโุฒูุงู โธ๐โฏ ุจุฑุง APIูุง ูุจ ุฎู ููุทูู.

ุงู ููุน ูุงููโุฒูุงู ูููู ฺุฒู ฺฉู NodeJS ุฑู ูุญุจูุจ ฺฉุฑุฏ (ูุฑฺูุฏ NodeJS ููุงุฒ ูุณุช) ู ููุทู ููุช ุฒุจุงู ุจุฑูุงููโููุณ Go ูู ูููู.

ู ุงู ูููู ุณุทุญ ุนููฺฉุฑุฏู ฺฉู ุจุง **FastAPI** ุจู ุฏุณุช ูุงุฑ.

ู ฺูู ูโุชูู ููโุฒูุงู ู ููุงุฒโุณุงุฒ ุฑู ููุฒูุงู ุฏุงุดุชู ุจุงุดุ ุนููฺฉุฑุฏ ุจูุชุฑ ูุณุจุช ุจู ุจุดุชุฑ ูุฑูโูุฑฺฉโูุง ุชุณุชโุดุฏู NodeJS ู ููโุชุฑุงุฒ ุจุง Go ฺฉู ู ุฒุจุงู ฺฉุงููพุงูโุดุฏู ูุฒุฏฺฉ ุจู C ูุณุช ูโฺฏุฑุฏ <a href="https://www.techempower.com/benchmarks/#section=data-r17&hw=ph&test=query&l=zijmkf-1" class="external-link" target="_blank">(ููู ุงูุง ุจู ูุทู Starlette)</a>.

### ุขุง ููโุฒูุงู ุงุฒ ููุงุฒโุณุงุฒ ุจูุชุฑูุ

ูู! ุงู ูุชุฌู ุฏุงุณุชุงู ูุณุช.

ููโุฒูุงู ุจุง ููุงุฒโุณุงุฒ ูุฑู ุฏุงุฑู. ู ุชู **ุณูุงุฑููุง ุฎุงุต** ฺฉู ฺฉู ุงูุชุธุงุฑ ุฏุงุฑู ุจูุชุฑู. ุจู ููู ุฏููุ ูุนูููุงู ุจุฑุง ุชูุณุนู ุจุฑูุงููโูุง ูุจ ุฎู ุจูุชุฑ ุงุฒ ููุงุฒโุณุงุฒู. ูู ูู ุจุฑุง ููู ฺุฒ.

ุจุฑุง ุงูฺฉู ุชุนุงุฏู ุฑู ุญูุธ ฺฉููุ ุงู ุฏุงุณุชุงู ฺฉูุชุงู ุฑู ุชุตูุฑ ฺฉู:

> ุจุงุฏ ู ุฎููู ุจุฒุฑฺฏ ู ฺฉุซู ุฑู ุชูุฒ ฺฉู.

*ููููุ ฺฉู ุฏุงุณุชุงู ูููู*.

---

ูฺ ุงูุชุธุงุฑ ๐ ูุณุชุ ููุท ฺฉู ฺฉุงุฑ ฺฉู ุจุงุฏ ุชู ุฌุงูุง ูุฎุชูู ุฎููู ุงูุฌุงู ุจุดู.

ูโุชูู ูุซู ูุซุงู ุจุฑฺฏุฑูุง ููุจุช ุจุฐุงุฑุ ุงูู ูพุฐุฑุงุ ุจุนุฏ ุขุดูพุฒุฎูููุ ูู ฺูู ููุชุธุฑ ฺุฒ ูุณุช ๐ ู ููุท ุฏุงุฑ ุชูุฒ ูโฺฉูุ ููุจุชโูุง ฺุฒ ุฑู ุนูุถ ููโฺฉูู.

ุจุง ููุจุช ุง ุจุฏูู ููุจุช (ููโุฒูุงู) ูููู ููุฏุงุฑ ุฒูุงู ูโุจุฑู ุชุง ุชููู ฺฉู ู ูููู ููุฏุงุฑ ฺฉุงุฑ ุฑู ุงูุฌุงู ุฏุงุฏ.

ูู ุชู ุงู ูููุนุชุ ุงฺฏู ุจุชูู ุงูู 8 ุชุง ุตูุฏููโุฏุงุฑ/ุขุดูพุฒ/ุญุงูุง-ุชูุฒฺฉุงุฑ ุฑู ุจุงุฑ ู ูุฑ ฺฉุฏูู (ุจู ุนูุงูู ุฎูุฏุช) ู ุจุฎุด ุฎููู ุฑู ุชูุฒ ฺฉููุ ูโุชูู ููู ฺฉุงุฑ ุฑู **ููุงุฒ** ุงูุฌุงู ุจุฏุ ุจุง ฺฉูฺฉ ุงุถุงููุ ู ุฎู ุฒูุฏุชุฑ ุชููู ฺฉู.

ุชู ุงู ุณูุงุฑูุ ูุฑ ฺฉุฏูู ุงุฒ ุชูุฒฺฉุงุฑุง (ุงุฒ ุฌููู ุชู) ู ูพุฑุฏุงุฒูุฏูโุงู ฺฉู ุฏุงุฑู ุจุฎุด ุฎูุฏุดูู ุงุฒ ฺฉุงุฑ ุฑู ุงูุฌุงู ูโุฏู.

ู ฺูู ุจุดุชุฑ ุฒูุงู ุงุฌุฑุง ุตุฑู ฺฉุงุฑ ูุงูุน ูโุดู (ูู ุงูุชุธุงุฑ)ุ ู ฺฉุงุฑ ุชู ฺฉุงููพูุชุฑ ุชูุณุท <abbr title="ูุงุญุฏ ูพุฑุฏุงุฒุด ูุฑฺฉุฒ">CPU</abbr> ุงูุฌุงู ูโุดูุ ุจู ุงู ูุดฺฉูุงุช ูโฺฏู "CPU bound".

---

ูุซุงูโูุง ุฑุงุฌ ุนููุงุช CPU bound ฺุฒุง ูุณุชู ฺฉู ูุงุฒ ุจู ูพุฑุฏุงุฒุด ุฑุงุถ ูพฺุฏู ุฏุงุฑู.

ูุซูุงู:

* ูพุฑุฏุงุฒุด **ุตุฏุง** ุง **ุชุตูุฑ**.
* **ุจูุง ฺฉุงููพูุชุฑ**: ู ุชุตูุฑ ุงุฒ ููููโูุง ูพฺฉุณู ุชุดฺฉู ุดุฏูุ ูุฑ ูพฺฉุณู 3 ุชุง ููุฏุงุฑ / ุฑูฺฏ ุฏุงุฑูุ ูพุฑุฏุงุฒุดุด ูุนูููุงู ูุงุฒ ุฏุงุฑู ุฑู ุงู ูพฺฉุณูุง ููุฒูุงู ฺุฒ ูุญุงุณุจู ุจุดู.
* **ุงุฏฺฏุฑ ูุงุดู**: ูุนูููุงู ฺฉู ุถุฑุจ "ูุงุชุฑุณ" ู "ุจุฑุฏุงุฑ" ูโุฎูุงุฏ. ู ุตูุญู ฺฏุณุชุฑุฏู ุจุฒุฑฺฏ ุจุง ุงุนุฏุงุฏ ุฑู ุชุตูุฑ ฺฉู ฺฉู ูููโุดูู ุฑู ููุฒูุงู ุถุฑุจ ูโฺฉู.
* **ุงุฏฺฏุฑ ุนูู**: ู ุฒุฑุดุงุฎู ุงุฒ ุงุฏฺฏุฑ ูุงุดููุ ูพุณ ูููู ฺุฒุง ุตุฏู ูโฺฉูู. ููุท ุงูุฌุง ู ุตูุญู ฺฏุณุชุฑุฏู ูุณุชุ ุจูฺฉู ู ูุฌููุนู ุจุฒุฑฺฏ ุงุฒ ุงููุง ุฏุงุฑ ู ุชู ุฎู ููุงุฑุฏ ุงุฒ ู ูพุฑุฏุงุฒูุฏู ุฎุงุต ุจุฑุง ุณุงุฎุชู ุง ุงุณุชูุงุฏู ุงุฒ ุงู ูุฏูโูุง ุงุณุชูุงุฏู ูโฺฉู.

### ููโุฒูุงู + ููุงุฒโุณุงุฒ: ูุจ + ุงุฏฺฏุฑ ูุงุดู

ุจุง **FastAPI** ูโุชูู ุงุฒ ููโุฒูุงู ฺฉู ุชู ุชูุณุนู ูุจ ุฎู ุฑุงุฌู (ูููู ุฌุฐุงุจุช ุงุตู NodeJS) ุงุณุชูุงุฏู ฺฉู.

ูู ูโุชูู ุงุฒ ูุฒุงุง ููุงุฒโุณุงุฒ ู multiprocessing (ุงุฌุฑุง ฺูุฏ ูพุฑูุณู ุจู ุตูุฑุช ููุงุฒ) ูู ุจุฑุง ฺฉุงุฑุง **CPU bound** ูุซู ุณุณุชูโูุง ุงุฏฺฏุฑ ูุงุดู ุจูุฑู ุจุจุฑ.

ุงูุ ุจู ุนูุงูู ุงู ูุงูุนุช ุณุงุฏู ฺฉู ูพุงุชูู ุฒุจุงู ุงุตู ุจุฑุง **ุนููู ุฏุงุฏู**ุ ุงุฏฺฏุฑ ูุงุดู ู ุจูโุฎุตูุต ุงุฏฺฏุฑ ุนูููุ ุจุงุนุซ ูโุดู FastAPI ู ฺฏุฒูู ุฎู ุฎูุจ ุจุฑุง APIูุง ู ุจุฑูุงููโูุง ูุจ ุนููู ุฏุงุฏู / ุงุฏฺฏุฑ ูุงุดู ุจุงุดู (ุจู ุฎู ฺุฒุง ุฏฺฏู).

ุจุฑุง ุฏุฏู ุงูฺฉู ฺุทูุฑ ุชู ูุญุท ูุงูุน ุงู ููุงุฒโุณุงุฒ ุฑู ูพุงุฏู ฺฉูุ ุจุฎุด [ุงุณุชูุฑุงุฑ](deployment/index.md){.internal-link target=_blank} ุฑู ุจุจู.

## `async` ู `await`

ูุณุฎูโูุง ูุฏุฑู ูพุงุชูู ู ุฑุงู ุฎู ุณุงุฏู ู ูุงุจูโููู ุจุฑุง ุชุนุฑู ฺฉุฏ ูุงููโุฒูุงู ุฏุงุฑู. ุงู ุจุงุนุซ ูโุดู ูุซู ฺฉุฏ "ุชุฑุชุจ" ูุนููู ุจู ูุธุฑ ุจุงุฏ ู ุชู ูุญุธูโูุง ุฏุฑุณุช ุจุฑุงุช "ููุชุธุฑ ุจูููู".

ููุช ู ุนููุงุช ูุณุช ฺฉู ุจุงุฏ ูุจู ุงุฒ ุฏุงุฏู ูุชุฌู ููุชุธุฑ ุจูููู ู ุงุฒ ุงู ูุงุจูุชโูุง ุฌุฏุฏ ูพุงุชูู ูพุดุชุจุงู ูโฺฉููุ ูโุชูู ุงูุฌูุฑ ฺฉุฏููุณ ฺฉู:

```Python
burgers = await get_burgers(2)
```

note ฺฉูุฏ ุงูุฌุง `await` ูุณุช. ุจู ูพุงุชูู ูโฺฏู ุจุงุฏ ููุชุธุฑ ุจูููู โธ ุชุง `get_burgers(2)` ฺฉุงุฑุด ๐ ุชููู ุจุดู ูุจู ุงุฒ ุงูฺฉู ูุชุฌู ุฑู ุชู `burgers` ุฐุฎุฑู ฺฉูู. ุจุง ุงูุ ูพุงุชูู ูโูููู ฺฉู ูโุชููู ุจุฑู ู ฺฉุงุฑ ุฏฺฏู ๐ โฏ ุงูุฌุงู ุจุฏู ุชู ุงู ูุฏุช (ูุซูุงู ู ุฏุฑุฎูุงุณุช ุฏฺฏู ุฑู ุจฺฏุฑู).

ุจุฑุง ุงูฺฉู `await` ฺฉุงุฑ ฺฉููุ ุจุงุฏ ุชู ู ุชุงุจุน ุจุงุดู ฺฉู ุงุฒ ุงู ูุงููโุฒูุงู ูพุดุชุจุงู ฺฉูู. ุจุฑุง ุงู ฺฉุงุฑุ ููุท ุจุง `async def` ุชุนุฑูุด ฺฉู:

```Python hl_lines="1"
async def get_burgers(number: int):
    # ู ุณุฑ ฺฉุงุฑ ูุงููโุฒูุงู ุจุฑุง ุณุงุฎุชู ุจุฑฺฏุฑุง ุงูุฌุงู ุจุฏู
    return burgers
```

...ุจู ุฌุง `def`:

```Python hl_lines="2"
# ุงู ูุงููโุฒูุงู ูุณุช
def get_sequential_burgers(number: int):
    # ู ุณุฑ ฺฉุงุฑ ุชุฑุชุจ ุจุฑุง ุณุงุฎุชู ุจุฑฺฏุฑุง ุงูุฌุงู ุจุฏู
    return burgers
```

ุจุง `async def`ุ ูพุงุชูู ูโูููู ฺฉู ุชู ุงูู ุชุงุจุน ุจุงุฏ ุญูุงุณุด ุจู ุนุจุงุฑุชโูุง `await` ุจุงุดู ู ูโุชููู ุงุฌุฑุง ุงูู ุชุงุจุน ุฑู "ูุชููู" ฺฉูู โธ ู ุจุฑู ู ฺฉุงุฑ ุฏฺฏู ุจฺฉูู ๐ ูุจู ุงุฒ ุงูฺฉู ุจุฑฺฏุฑุฏู.

ููุช ูโุฎูุง ู ุชุงุจุน `async def` ุฑู ุตุฏุง ฺฉูุ ุจุงุฏ "ููุชุธุฑุด" ุจููู. ูพุณ ุงู ฺฉุงุฑ ููโฺฉูู:

```Python
# ุงู ฺฉุงุฑ ููโฺฉููุ ฺูู get_burgers ุจุง async def ุชุนุฑู ุดุฏู
burgers = get_burgers(2)
```

---

ูพุณ ุงฺฏู ุงุฒ ู ฺฉุชุงุจุฎููู ุงุณุชูุงุฏู ูโฺฉู ฺฉู ูโฺฏู ูโุชูู ุจุง `await` ุตุฏุงุด ฺฉูุ ุจุงุฏ *ุชูุงุจุน ุนููุงุช ูุณุฑุช* ฺฉู ุงุฒุด ุงุณุชูุงุฏู ูโฺฉูู ุฑู ุจุง `async def` ุจุณุงุฒุ ูุซู:

```Python hl_lines="2-3"
@app.get('/burgers')
async def read_burgers():
    burgers = await get_burgers(2)
    return burgers
```

### ุฌุฒุฆุงุช ููโุชุฑ

ุดุงุฏ ูุชูุฌู ุดุฏู ุจุงุด ฺฉู `await` ููุท ุชู ุชูุงุจุน ฺฉู ุจุง `async def` ุชุนุฑู ุดุฏู ูโุชููู ุงุณุชูุงุฏู ุจุดู.

ูู ุฏุฑ ุนู ุญุงูุ ุชูุงุจุน ฺฉู ุจุง `async def` ุชุนุฑู ุดุฏู ุจุงุฏ "ููุชุธุฑ" ุจูููู. ูพุณ ุชูุงุจุน ุจุง `async def` ููุท ุชู ุชูุงุจุน ุฏฺฏูโุง ฺฉู ุจุง `async def` ุชุนุฑู ุดุฏู ูโุชููู ุตุฏุง ุจุดู.

ุญุงูุงุ ูุฑุบ ู ุชุฎูโูุฑุบ ฺฉุฏูู ุงูู ุจูุฏุ ฺุทูุฑ ุงููู ุชุงุจุน `async` ุฑู ุตุฏุง ูโฺฉูุ

ุงฺฏู ุจุง **FastAPI** ฺฉุงุฑ ูโฺฉูุ ูุงุฒู ูุณุช ูฺฏุฑุงู ุงู ุจุงุดุ ฺูู ุงูู "ุงููู" ุชุงุจุน ูููู *ุชุงุจุน ุนููุงุช ูุณุฑุช* ูุณุช ู FastAPI ูโุฏููู ฺุทูุฑ ฺฉุงุฑ ุฏุฑุณุช ุฑู ุจฺฉูู.

ูู ุงฺฏู ุจุฎูุง ุจุฏูู FastAPI ุงุฒ `async` / `await` ุงุณุชูุงุฏู ฺฉูุ ุงููู ูโุชูู.

### ฺฉุฏ ูุงููโุฒูุงู ุฎูุฏุช ุฑู ุจููุณ

Starlette (ู **FastAPI**) ุจุฑ ูพุงู <a href="https://anyio.readthedocs.io/en/stable/" class="external-link" target="_blank">AnyIO</a> ูุณุชูุ ฺฉู ุจุงุนุซ ูโุดู ุจุง ูุฑ ุฏู ฺฉุชุงุจุฎููู ุงุณุชุงูุฏุงุฑุฏ ูพุงุชูู <a href="https://docs.python.org/3/library/asyncio-task.html" class="external-link" target="_blank">asyncio</a> ู <a href="https://trio.readthedocs.io/en/stable/" class="external-link" target="_blank">Trio</a> ุณุงุฒฺฏุงุฑ ุจุงุดู.

ุจูโุฎุตูุตุ ูโุชูู ูุณุชููุงู ุงุฒ <a href="https://anyio.readthedocs.io/en/stable/" class="external-link" target="_blank">AnyIO</a> ุจุฑุง ููุงุฑุฏ ูพุดุฑูุชูโุชุฑ ููโุฒูุงู ฺฉู ูุงุฒ ุจู ุงูฺฏููุง ูพฺุฏูโุชุฑ ุชู ฺฉุฏ ุฎูุฏุช ุฏุงุฑ ุงุณุชูุงุฏู ฺฉู.

ุญุช ุงฺฏู ุงุฒ FastAPI ูู ุงุณุชูุงุฏู ููโฺฉุฑุฏุ ูโุชูู ุจุฑูุงููโูุง ูุงููโุฒูุงู ุฎูุฏุช ุฑู ุจุง <a href="https://anyio.readthedocs.io/en/stable/" class="external-link" target="_blank">AnyIO</a> ุจููุณ ฺฉู ุฎู ุณุงุฒฺฏุงุฑ ุจุงุดู ู ูุฒุงุงุด (ูุซู *structured concurrency*) ุฑู ุจฺฏุฑ.

ูู ู ฺฉุชุงุจุฎููู ุฏฺฏู ุฑู ุจุงูุง AnyIO ุณุงุฎุชูุ ุจูโุนููุงู ู ูุงู ูุงุฒฺฉุ ฺฉู ุชุงูพโููุชุดูโูุง ุฑู ุจูุชุฑ ฺฉูู ู **ุงุชูฺฉุงููพูุดู**ุ **ุฎุทุงูุง ุฏุฑููโุฎุท** ู ุบุฑู ุฑู ุจูุชุฑ ฺฉูู. ู ููุฏูู ู ุขููุฒุด ุณุงุฏู ูู ุฏุงุฑู ฺฉู ุจูุช ฺฉูฺฉ ูโฺฉูู **ุจููู** ู **ฺฉุฏ ูุงููโุฒูุงู ุฎูุฏุช ุฑู ุจููุณ**: <a href="https://asyncer.tiangolo.com/" class="external-link" target="_blank">Asyncer</a>. ุงฺฏู ุจุฎูุง **ฺฉุฏ ูุงููโุฒูุงู ุฑู ุจุง ฺฉุฏ ูุนููู** (ุจูุงฺฉโฺฉููุฏู/ููโุฒูุงู) ุชุฑฺฉุจ ฺฉู ุฎู ุจูโุฏุฑุฏุช ูโุฎูุฑู.

### ุดฺฉูโูุง ุฏฺฏู ฺฉุฏ ูุงููโุฒูุงู

ุงู ุณุจฺฉ ุงุณุชูุงุฏู ุงุฒ `async` ู `await` ุชู ุฒุจุงู ูุณุจุชุงู ุฌุฏุฏู.

ูู ฺฉุงุฑ ุจุง ฺฉุฏ ูุงููโุฒูุงู ุฑู ุฎู ุณุงุฏูโุชุฑ ูโฺฉูู.

ููู ุณูุชฺฉุณ (ุง ุชูุฑุจุงู ูุดุงุจู) ุชุงุฒฺฏโูุง ุชู ูุณุฎูโูุง ูุฏุฑู ุฌุงูุงุงุณฺฉุฑูพุช (ุชู ูุฑูุฑฺฏุฑ ู NodeJS) ูู ุงุถุงูู ุดุฏู.

ูู ูุจู ุงุฒ ุงููุ ูุฏุฑุช ฺฉุฏ ูุงููโุฒูุงู ุฎู ูพฺุฏูโุชุฑ ู ุณุฎุชโุชุฑ ุจูุฏ.

ุชู ูุณุฎูโูุง ูุฏูโุชุฑ ูพุงุชููุ ูโุชููุณุช ุงุฒ threadูุง ุง <a href="https://www.gevent.org/" class="external-link" target="_blank">Gevent</a> ุงุณุชูุงุฏู ฺฉู. ูู ฺฉุฏุด ุฎู ุณุฎุชโุชุฑ ูููุฏู ูโุดูุ ุฏุจุงฺฏ ูโุดู ู ุจูุด ูฺฉุฑ ูโุดู.

ุชู ูุณุฎูโูุง ูุฏูโุชุฑ NodeJS / ุฌุงูุงุงุณฺฉุฑูพุช ูุฑูุฑฺฏุฑุ ุงุฒ "callbackูุง" ุงุณุชูุงุฏู ูโฺฉุฑุฏ. ฺฉู ููุฌุฑ ุจู <a href="http://callbackhell.com/" class="external-link" target="_blank">callback hell</a> ูโุดุฏ.

## Coroutines

**Coroutine** ู ุงุตุทูุงุญ ุฎู ุดฺฉู ุจุฑุง ฺุฒ ฺฉู ู ุชุงุจุน `async def` ุจุฑูโฺฏุฑุฏููู. ูพุงุชูู ูโูููู ฺฉู ุงู ู ฺุฒ ูุซู ุชุงุจุน ูุณุชุ ฺฉู ูโุชููู ุดุฑูุน ุจุดู ู ู ุฌุง ุชููู ุจุดูุ ูู ููฺฉูู ุชู ุฎูุฏุด ูู "ูุชููู" โธ ุจุดูุ ูุฑ ููุช ฺฉู ู `await` ุชูุด ุจุงุดู.

ูู ููู ุงู ูุงุจูุช ุงุณุชูุงุฏู ุงุฒ ฺฉุฏ ูุงููโุฒูุงู ุจุง `async` ู `await` ุฎู ููุชโูุง ุฎูุงุตู ูโุดู ุจู ุงุณุชูุงุฏู ุงุฒ "coroutines". ุงู ูุงุจูโููุงุณูโุณุช ุจุง ูุงุจูุช ุงุตู Goุ ุนู "Goroutines".

## ูุชุฌูโฺฏุฑ

ุจุงุฏ ูููู ุฌููู ุงุฒ ุจุงูุง ุฑู ุจุจูู:

> ูุณุฎูโูุง ูุฏุฑู ูพุงุชูู ุงุฒ **"ฺฉุฏ ูุงููโุฒูุงู"** ุจุง ฺุฒ ุจู ุงุณู **"coroutines"** ูพุดุชุจุงู ูโฺฉููุ ุจุง ุณูุชฺฉุณ **`async` ู `await`**.

ุญุงูุง ุจุงุฏ ุจุดุชุฑ ุจุฑุงุชูู ุฌุง ุจูุชู. โจ

ููู ุงูุง ฺุฒู ฺฉู ุจู FastAPI (ุงุฒ ุทุฑู Starlette) ูุฏุฑุช ูโุฏู ู ุจุงุนุซ ูโุดู ุงู ุนููฺฉุฑุฏ ุดฺฏูุชโุงูฺฏุฒ ุฑู ุฏุงุดุชู ุจุงุดู.

## ุฌุฒุฆุงุช ุฎู ูู

/// warning

ุงุญุชูุงูุงู ูโุชูู ุงุฒ ุงู ุจฺฏุฐุฑ.

ุงูุง ุฌุฒุฆุงุช ุฎู ูู ุงุฒ ูุญูู ฺฉุงุฑ **FastAPI** ุฒุฑ ูพูุณุชูโุณุช.

ุงฺฏู ุฏุงูุด ูู ุฎูุจ ุฏุงุฑ (coroutineูุงุ threadูุงุ ุจูุงฺฉ ฺฉุฑุฏู ู ุบุฑู) ู ฺฉูุฌฺฉุงู ฺฉู FastAPI ฺุทูุฑ `async def` ุฑู ุฏุฑ ููุงุจู `def` ูุนููู ูุฏุฑุช ูโฺฉููุ ุงุฏุงูู ุจุฏู.

///

### ุชูุงุจุน ุนููุงุช ูุณุฑ

ููุช ู *ุชุงุจุน ุนููุงุช ูุณุฑ* ุฑู ุจุง `def` ูุนููู ุจู ุฌุง `async def` ุชุนุฑู ูโฺฉูุ ุชู ู threadpool ุฎุงุฑุฌ ุงุฌุฑุง ูโุดู ฺฉู ุจุนุฏุด ููุชุธุฑุด ูโููููุ ุจู ุฌุง ุงูฺฉู ูุณุชูู ุตุฏุง ุจุดู (ฺูู ุงฺฏู ูุณุชูู ุจุงุดู ุณุฑูุฑ ุฑู ุจูุงฺฉ ูโฺฉูู).

ุงฺฏู ุงุฒ ู ูุฑูโูุฑฺฉ ูุงููโุฒูุงู ุฏฺฏู ุงููุฏ ฺฉู ุงูุฌูุฑ ฺฉุงุฑ ููโฺฉูู ู ุนุงุฏุช ุฏุงุฑ ุชูุงุจุน ุณุงุฏู ููุท ูุญุงุณุจุงุช ุฑู ุจุง `def` ูุนููู ุจุฑุง ู ุงูุฒุงุด ุนููฺฉุฑุฏ ฺฉูฺฺฉ (ุญุฏูุฏ 100 ูุงููุซุงูู) ุชุนุฑู ฺฉูุ ุชูุฌู ฺฉู ฺฉู ุชู **FastAPI** ุงุซุฑุด ุจุฑุนฺฉุณู. ุชู ุงู ููุงุฑุฏุ ุจูุชุฑู ุงุฒ `async def` ุงุณุชูุงุฏู ฺฉู ูฺฏู ุงูฺฉู *ุชูุงุจุน ุนููุงุช ูุณุฑุช* ฺฉุฏ ุฏุงุดุชู ุจุงุดู ฺฉู ุนููุงุช ุจูุงฺฉโฺฉููุฏู <abbr title="ูุฑูุฏ/ุฎุฑูุฌ: ุฎููุฏู ุง ููุดุชู ุฏุณฺฉุ ุงุฑุชุจุงุทุงุช ุดุจฺฉู">I/O</abbr> ุงูุฌุงู ุจุฏู.

ุจุง ุงู ุญุงูุ ุชู ูุฑ ุฏู ุญุงูุชุ ุงุญุชูุงูุด ุฒุงุฏู ฺฉู **FastAPI** [ูููุฒ ุณุฑุนโุชุฑ ุจุงุดู](index.md#performance){.internal-link target=_blank} ุงุฒ (ุง ุญุฏุงูู ูุงุจูโููุงุณู ุจุงุดู ุจุง) ูุฑูโูุฑฺฉ ูุจูโุงุช.

### ูุงุจุณุชฺฏโูุง

ููู ุจุฑุง [ูุงุจุณุชฺฏโูุง](tutorial/dependencies/index.md){.internal-link target=_blank} ูู ุตุฏู ูโฺฉูู. ุงฺฏู ู ูุงุจุณุชฺฏ ุชุงุจุน `def` ูุนููู ุจุงุดู ุจู ุฌุง `async def`ุ ุชู threadpool ุฎุงุฑุฌ ุงุฌุฑุง ูโุดู.

### ุฒุฑูุงุจุณุชฺฏโูุง

ูโุชูู ฺูุฏ ุชุง ูุงุจุณุชฺฏ ู [ุฒุฑูุงุจุณุชฺฏ](tutorial/dependencies/sub-dependencies.md){.internal-link target=_blank} ุฏุงุดุชู ุจุงุด ฺฉู ููุฏฺฏู ุฑู ูุงุฒ ุฏุงุฑู (ุจูโุนููุงู ูพุงุฑุงูุชุฑูุง ุชุนุฑู ุชุงุจุน)ุ ุจุนุถุง ููฺฉูู ุจุง `async def` ุณุงุฎุชู ุจุดู ู ุจุนุถุง ุจุง `def` ูุนููู. ุจุงุฒู ฺฉุงุฑ ูโฺฉููุ ู ุงููุง ฺฉู ุจุง `def` ูุนููู ุณุงุฎุชู ุดุฏู ุชู ู thread ุฎุงุฑุฌ (ุงุฒ threadpool) ุตุฏุง ูโุดู ุจู ุฌุง ุงูฺฉู "ููุชุธุฑ" ุจูููู.

### ุชูุงุจุน ฺฉูฺฉ ุฏฺฏู

ูุฑ ุชุงุจุน ฺฉูฺฉ ุฏฺฏูโุง ฺฉู ูุณุชูู ุฎูุฏุช ุตุฏุงุด ูโฺฉู ูโุชููู ุจุง `def` ูุนููู ุง `async def` ุณุงุฎุชู ุจุดู ู FastAPI ุฑู ูุญูู ุตุฏุงฺฉุฑุฏูุด ุชุฃุซุฑ ููโุฐุงุฑู.

ุงู ุจุฑุฎูุงู ุชูุงุจุน ูุณุช ฺฉู FastAPI ุจุฑุงุช ุตุฏุง ูโฺฉูู: *ุชูุงุจุน ุนููุงุช ูุณุฑ* ู ูุงุจุณุชฺฏโูุง.

ุงฺฏู ุชุงุจุน ฺฉูฺฉุช ู ุชุงุจุน ูุนููู ุจุง `def` ุจุงุดูุ ูุณุชูู (ููููุฌูุฑ ฺฉู ุชู ฺฉุฏุช ููุดุช) ุตุฏุง ูโุดูุ ูู ุชู threadpoolุ ุงฺฏู ุชุงุจุน ุจุง `async def` ุณุงุฎุชู ุดุฏู ุจุงุดูุ ุจุงุฏ ููุช ุชู ฺฉุฏุช ุตุฏุงุด ูโฺฉู ุจุฑุงุด `await` ุจุฐุงุฑ.

---

ุจุงุฒ ููุ ุงูุง ุฌุฒุฆุงุช ุฎู ููโุงู ฺฉู ุงฺฏู ุฏูุจุงูุดูู ุงููุฏู ุจุงุด ุงุญุชูุงูุงู ุจุฑุงุช ููุฏู.

ูฺฏุฑููุ ุจุง ุฑุงูููุงโูุง ุจุฎุด ุจุงูุง: <a href="#in-a-hurry">ุนุฌูู ุฏุงุฑุ</a> ุจุงุฏ ุงูฺฉ ุจุงุด.
