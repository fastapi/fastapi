# Бенчмарки

Незалежні тести продуктивності TechEmpower показують додатки **FastAPI** під управлінням Uvicorn як <a href="https://www.techempower.com/benchmarks/#section=test&runid=7464e520-0dc2-473d-bd34-dbdfd7e85911&hw=ph&test=query&l=zijzen-7" class="external-link" target="_blank">одні з найшвидших серед програм, побудованих на фреймворках Python</a>, краще тільки Starlette та Uvicorn (використовуються всередині FastAPI). (*)

Але, перевіряючи бенчмарки та порівняння, слід мати на увазі наступне.

## Бенчмарки та швидкість

Коли ви перевіряєте продуктивність, зазвичай можна побачити кілька інструментів різних типів у порівнянні як еквівалентні.

Зокрема, щоб побачити порівняння Uvicorn, Starlette та FastAPI разом (серед багатьох інших інструментів).

Чим простіша проблема вирішується інструментом, тим краща його продуктивність. І більшість тестів не перевіряють додаткові можливості, які надає інструмент.

Ієрархія виглядає так:

* **Uvicorn**: сервер ASGI
    * **Starlette**: (використовує Uvicorn) веб мікрофреймворк
        * **FastAPI**: (використовує Starlette) API мікрофреймворк з декількома додатковими функціями для створення API, з валідацією даних тощо.

* **Uvicorn**:
    * Буде мати найкращу продуктивність, оскільки у нього немає багато зайвого коду, крім самого сервера.
    * Ви не пишете додаток безпосередньо в Uvicorn. Це означає, що ваш код повинен містити більш-менш, принаймні, весь код, наданий Starlette (чи **FastAPI**). І якщо ви так зробите, ваш фінальний додаток мав би такі ж витрати, як при використання фреймворка та мінімізації коду програми та помилок.
    * Якщо ви порівнюєте Uvicorn, порівняйте його з Daphne, Hypercorn, uWSGI чи іншими серверами додатків.
* **Starlette**:
    * Буде мати найкращу продуктивність, після Uvicorn. Насправді, сам Starlette використовує Uvicorn для роботи. Таким чином, він, ймовірно, може працювати "повільніше", ніж Uvicorn, оскільки виконує більше коду.
    * Але він надає вам інструменти для створення простих веб-додатків із маршрутизацією на основі шляхів тощо.
    * Якщо ви порівнюєте Starlette, порівняйте його з Sanic, Flask, Django та іншими веб-фреймворками (або мікрофреймворками).
* **FastAPI**:
    * Так само, як Starlette використовує Uvicorn і не може бути швидшим за нього, **FastAPI** використовує Starlette, тому не може бути швидшим за нього.
    * FastAPI надає більше можливостей поверх Starlette. Функції, які вам майже завжди потрібні під час створення API, наприклад перевірка даних та серіалізація. Використовуючи його, ви безкоштовно отримуєте автоматичну документацію (автоматична документація навіть не додає накладних витрат на запущені програми, вона формується при запуску).
    * Якщо ви не використовували FastAPI, а працювали тільки із Starlette безпосередньо (або інший інструмент, наприклад Sanic, Flask, Responder тощо), вам довелось би реалізувати всі перевірки даних та серіалізацію самостійно. Отже, ваша остаточний додаток все одно матиме такі ж накладні витрати, як якщо б він був створений за допомогою FastAPI. І у багатьох випадках ця перевірка даних і серіалізація є найбільшою частиною коду, написаного в додатках.
    * Отже, використовуючи FastAPI, ви економите час розробки, помилки, рядки коду, і, ймовірно, ви отримаєте таку саму продуктивність (або кращу), якби не використовували його (оскільки вам доведеться все це реалізувати у своєму коді).
    * If you are comparing FastAPI, compare it against a web application framework (or set of tools) that provides data validation, serialization and documentation, like Flask-apispec, NestJS, Molten, etc. Frameworks with integrated automatic data validation, serialization and documentation.
