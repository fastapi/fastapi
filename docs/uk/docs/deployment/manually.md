# –ó–∞–ø—É—Å—Ç—ñ—Ç—å —Å–µ—Ä–≤–µ—Ä –≤—Ä—É—á–Ω—É { #run-a-server-manually }

## –í–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É–π—Ç–µ –∫–æ–º–∞–Ω–¥—É `fastapi run` { #use-the-fastapi-run-command }

–ö–æ—Ä–æ—Ç–∫–æ: –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É–π—Ç–µ `fastapi run`, —â–æ–± –∑–∞–ø—É—Å—Ç–∏—Ç–∏ –≤–∞—à –∑–∞—Å—Ç–æ—Å—É–Ω–æ–∫ FastAPI:

<div class="termy">

```console
$ <font color="#4E9A06">fastapi</font> run <u style="text-decoration-style:solid">main.py</u>

  <span style="background-color:#009485"><font color="#D3D7CF"> FastAPI </font></span>  Starting production server üöÄ

             Searching for package file structure from directories
             with <font color="#3465A4">__init__.py</font> files
             Importing from <font color="#75507B">/home/user/code/</font><font color="#AD7FA8">awesomeapp</font>

   <span style="background-color:#007166"><font color="#D3D7CF"> module </font></span>  üêç main.py

     <span style="background-color:#007166"><font color="#D3D7CF"> code </font></span>  Importing the FastAPI app object from the module with
             the following code:

             <u style="text-decoration-style:solid">from </u><u style="text-decoration-style:solid"><b>main</b></u><u style="text-decoration-style:solid"> import </u><u style="text-decoration-style:solid"><b>app</b></u>

      <span style="background-color:#007166"><font color="#D3D7CF"> app </font></span>  Using import string: <font color="#3465A4">main:app</font>

   <span style="background-color:#007166"><font color="#D3D7CF"> server </font></span>  Server started at <font color="#729FCF"><u style="text-decoration-style:solid">http://0.0.0.0:8000</u></font>
   <span style="background-color:#007166"><font color="#D3D7CF"> server </font></span>  Documentation at <font color="#729FCF"><u style="text-decoration-style:solid">http://0.0.0.0:8000/docs</u></font>

             Logs:

     <span style="background-color:#007166"><font color="#D3D7CF"> INFO </font></span>  Started server process <b>[</b><font color="#34E2E2"><b>2306215</b></font><b>]</b>
     <span style="background-color:#007166"><font color="#D3D7CF"> INFO </font></span>  Waiting for application startup.
     <span style="background-color:#007166"><font color="#D3D7CF"> INFO </font></span>  Application startup complete.
     <span style="background-color:#007166"><font color="#D3D7CF"> INFO </font></span>  Uvicorn running on <font color="#729FCF"><u style="text-decoration-style:solid">http://0.0.0.0:8000</u></font> <b>(</b>Press CTRL+C
             to quit<b>)</b>
```

</div>

–¶–µ —Å–ø—Ä–∞—Ü—é—î –≤ –±—ñ–ª—å—à–æ—Å—Ç—ñ –≤–∏–ø–∞–¥–∫—ñ–≤. üòé

–¶—é –∫–æ–º–∞–Ω–¥—É –º–æ–∂–Ω–∞ –≤–∏–∫–æ—Ä–∏—Å—Ç–∞—Ç–∏, –Ω–∞–ø—Ä–∏–∫–ª–∞–¥, —â–æ–± –∑–∞–ø—É—Å—Ç–∏—Ç–∏ –≤–∞—à –∑–∞—Å—Ç–æ—Å—É–Ω–æ–∫ FastAPI —É –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä—ñ, –Ω–∞ —Å–µ—Ä–≤–µ—Ä—ñ —Ç–æ—â–æ.

## –°–µ—Ä–≤–µ—Ä–∏ ASGI { #asgi-servers }

–†–æ–∑–≥–ª—è–Ω—å–º–æ –¥–µ—Ç–∞–ª—ñ.

FastAPI –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É—î —Å—Ç–∞–Ω–¥–∞—Ä—Ç –¥–ª—è –ø–æ–±—É–¥–æ–≤–∏ Python –≤–µ–±—Ñ—Ä–µ–π–º–≤–æ—Ä–∫—ñ–≤ —ñ —Å–µ—Ä–≤–µ—Ä—ñ–≤ –ø—ñ–¥ –Ω–∞–∑–≤–æ—é <abbr title="Asynchronous Server Gateway Interface - –ê—Å–∏–Ω—Ö—Ä–æ–Ω–Ω–∏–π —à–ª—é–∑–æ–≤–∏–π —ñ–Ω—Ç–µ—Ä—Ñ–µ–π—Å —Å–µ—Ä–≤–µ—Ä–∞">ASGI</abbr>. FastAPI - —Ü–µ ASGI –≤–µ–±—Ñ—Ä–µ–π–º–≤–æ—Ä–∫.

–ì–æ–ª–æ–≤–Ω–µ, —â–æ –ø–æ—Ç—Ä—ñ–±–Ω–æ, —â–æ–± –∑–∞–ø—É—Å—Ç–∏—Ç–∏ –∑–∞—Å—Ç–æ—Å—É–Ω–æ–∫ **FastAPI** (–∞–±–æ –±—É–¥—å-—è–∫–∏–π —ñ–Ω—à–∏–π ASGI-–∑–∞—Å—Ç–æ—Å—É–Ω–æ–∫) –Ω–∞ –≤—ñ–¥–¥–∞–ª–µ–Ω—ñ–π —Å–µ—Ä–≤–µ—Ä–Ω—ñ–π –º–∞—à–∏–Ω—ñ, - —Ü–µ –ø—Ä–æ–≥—Ä–∞–º–∞ ASGI-—Å–µ—Ä–≤–µ—Ä–∞ –Ω–∞ –∫—à—Ç–∞–ª—Ç **Uvicorn**; —Å–∞–º–µ –≤–æ–Ω–∞ –ø–æ—Å—Ç–∞—á–∞—î—Ç—å—Å—è –∑–∞ –∑–∞–º–æ–≤—á—É–≤–∞–Ω–Ω—è–º —É –∫–æ–º–∞–Ω–¥—ñ `fastapi`.

–Ñ –∫—ñ–ª—å–∫–∞ –∞–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤, –∑–æ–∫—Ä–µ–º–∞:

* <a href="https://www.uvicorn.dev/" class="external-link" target="_blank">Uvicorn</a>: –≤–∏—Å–æ–∫–æ–ø—Ä–æ–¥—É–∫—Ç–∏–≤–Ω–∏–π ASGI-—Å–µ—Ä–≤–µ—Ä.
* <a href="https://hypercorn.readthedocs.io/" class="external-link" target="_blank">Hypercorn</a>: ASGI-—Å–µ—Ä–≤–µ—Ä, —Å—É–º—ñ—Å–Ω–∏–π –∑ HTTP/2 —ñ Trio, —Å–µ—Ä–µ–¥ —ñ–Ω—à–∏—Ö –º–æ–∂–ª–∏–≤–æ—Å—Ç–µ–π.
* <a href="https://github.com/django/daphne" class="external-link" target="_blank">Daphne</a>: ASGI-—Å–µ—Ä–≤–µ—Ä, —Å—Ç–≤–æ—Ä–µ–Ω–∏–π –¥–ª—è Django Channels.
* <a href="https://github.com/emmett-framework/granian" class="external-link" target="_blank">Granian</a>: Rust HTTP-—Å–µ—Ä–≤–µ—Ä –¥–ª—è Python-–∑–∞—Å—Ç–æ—Å—É–Ω–∫—ñ–≤.
* <a href="https://unit.nginx.org/howto/fastapi/" class="external-link" target="_blank">NGINX Unit</a>: NGINX Unit - –ª–µ–≥–∫–µ –π —É–Ω—ñ–≤–µ—Ä—Å–∞–ª—å–Ω–µ —Å–µ—Ä–µ–¥–æ–≤–∏—â–µ –≤–∏–∫–æ–Ω–∞–Ω–Ω—è –≤–µ–±–∑–∞—Å—Ç–æ—Å—É–Ω–∫—ñ–≤.

## –°–µ—Ä–≤–µ—Ä–Ω–∞ –º–∞—à–∏–Ω–∞ —ñ —Å–µ—Ä–≤–µ—Ä–Ω–∞ –ø—Ä–æ–≥—Ä–∞–º–∞ { #server-machine-and-server-program }

–Ñ –Ω–µ–≤–µ–ª–∏–∫–∞ –¥–µ—Ç–∞–ª—å —â–æ–¥–æ –Ω–∞–∑–≤, —è–∫—É –≤–∞—Ä—Ç–æ –ø–∞–º'—è—Ç–∞—Ç–∏. üí°

–°–ª–æ–≤–æ ¬´**—Å–µ—Ä–≤–µ—Ä**¬ª –∑–∞–∑–≤–∏—á–∞–π –æ–∑–Ω–∞—á–∞—î —ñ –≤—ñ–¥–¥–∞–ª–µ–Ω–∏–π/—Ö–º–∞—Ä–Ω–∏–π –∫–æ–º–ø'—é—Ç–µ—Ä (—Ñ—ñ–∑–∏—á–Ω–∞ –∞–±–æ –≤—ñ—Ä—Ç—É–∞–ª—å–Ω–∞ –º–∞—à–∏–Ω–∞), —ñ –ø—Ä–æ–≥—Ä–∞–º—É, —â–æ –ø—Ä–∞—Ü—é—î –Ω–∞ —Ü—ñ–π –º–∞—à–∏–Ω—ñ (–Ω–∞–ø—Ä–∏–∫–ª–∞–¥, Uvicorn).

–ú–∞–π—Ç–µ –Ω–∞ —É–≤–∞–∑—ñ, —â–æ –∫–æ–ª–∏ –≤–∏ –±–∞—á–∏—Ç–µ —Å–ª–æ–≤–æ ¬´—Å–µ—Ä–≤–µ—Ä¬ª –∑–∞–≥–∞–ª–æ–º, –≤–æ–Ω–æ –º–æ–∂–µ —Å—Ç–æ—Å—É–≤–∞—Ç–∏—Å—è –±—É–¥—å-—è–∫–æ–≥–æ –∑ —Ü–∏—Ö –¥–≤–æ—Ö –∑–Ω–∞—á–µ–Ω—å.

–ö–æ–ª–∏ –π–¥–µ—Ç—å—Å—è –ø—Ä–æ –≤—ñ–¥–¥–∞–ª–µ–Ω—É –º–∞—à–∏–Ω—É, —ó—ó —á–∞—Å—Ç–æ –Ω–∞–∑–∏–≤–∞—é—Ç—å ¬´—Å–µ—Ä–≤–µ—Ä¬ª, –∞ —Ç–∞–∫–æ–∂ ¬´–º–∞—à–∏–Ω–∞¬ª, ¬´VM¬ª (–≤—ñ—Ä—Ç—É–∞–ª—å–Ω–∞ –º–∞—à–∏–Ω–∞), ¬´–≤—É–∑–æ–ª¬ª. –£—Å–µ —Ü–µ –æ–∑–Ω–∞—á–∞—î —Ä—ñ–∑–Ω–æ–≤–∏–¥–∏ –≤—ñ–¥–¥–∞–ª–µ–Ω–æ—ó –º–∞—à–∏–Ω–∏, –∑–∞–∑–≤–∏—á–∞–π –∑ Linux, –Ω–∞ —è–∫—ñ–π –≤–∏ –∑–∞–ø—É—Å–∫–∞—î—Ç–µ –ø—Ä–æ–≥—Ä–∞–º–∏.

## –í—Å—Ç–∞–Ω–æ–≤—ñ—Ç—å —Å–µ—Ä–≤–µ—Ä–Ω—É –ø—Ä–æ–≥—Ä–∞–º—É { #install-the-server-program }

–ü—ñ—Å–ª—è –≤—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–Ω—è FastAPI –≤–∏ –æ—Ç—Ä–∏–º—É—î—Ç–µ –ø—Ä–æ–¥–∞–∫—à–Ω-—Å–µ—Ä–≤–µ—Ä Uvicorn —ñ –º–æ–∂–µ—Ç–µ –∑–∞–ø—É—Å–∫–∞—Ç–∏ –π–æ–≥–æ –∫–æ–º–∞–Ω–¥–æ—é `fastapi run`.

–ê–ª–µ –≤–∏ —Ç–∞–∫–æ–∂ –º–æ–∂–µ—Ç–µ –≤—Å—Ç–∞–Ω–æ–≤–∏—Ç–∏ ASGI-—Å–µ—Ä–≤–µ—Ä –≤—Ä—É—á–Ω—É.

–ü–µ—Ä–µ–∫–æ–Ω–∞–π—Ç–µ—Å—è, —â–æ –≤–∏ —Å—Ç–≤–æ—Ä–∏–ª–∏ [–≤—ñ—Ä—Ç—É–∞–ª—å–Ω–µ –æ—Ç–æ—á–µ–Ω–Ω—è](../virtual-environments.md){.internal-link target=_blank}, –∞–∫—Ç–∏–≤—É–≤–∞–ª–∏ –π–æ–≥–æ, –ø—ñ—Å–ª—è —á–æ–≥–æ –º–æ–∂–µ—Ç–µ –≤—Å—Ç–∞–Ω–æ–≤–∏—Ç–∏ —Å–µ—Ä–≤–µ—Ä–Ω—É –ø—Ä–æ–≥—Ä–∞–º—É.

–ù–∞–ø—Ä–∏–∫–ª–∞–¥, —â–æ–± —É—Å—Ç–∞–Ω–æ–≤–∏—Ç–∏ Uvicorn:

<div class="termy">

```console
$ pip install "uvicorn[standard]"

---> 100%
```

</div>

–ü–æ–¥—ñ–±–Ω–∏–π –ø—Ä–æ—Ü–µ—Å –∑–∞—Å—Ç–æ—Å–æ–≤—É—î—Ç—å—Å—è –¥–æ –±—É–¥—å-—è–∫–æ—ó —ñ–Ω—à–æ—ó ASGI-—Å–µ—Ä–≤–µ—Ä–Ω–æ—ó –ø—Ä–æ–≥—Ä–∞–º–∏.

/// tip | –ü–æ—Ä–∞–¥–∞

–î–æ–¥–∞–≤—à–∏ `standard`, Uvicorn –≤—Å—Ç–∞–Ω–æ–≤–∏—Ç—å —ñ –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É–≤–∞—Ç–∏–º–µ –¥–µ—è–∫—ñ —Ä–µ–∫–æ–º–µ–Ω–¥–æ–≤–∞–Ω—ñ –¥–æ–¥–∞—Ç–∫–æ–≤—ñ –∑–∞–ª–µ–∂–Ω–æ—Å—Ç—ñ.

–ó–æ–∫—Ä–µ–º–∞ `uvloop` - –≤–∏—Å–æ–∫–æ–ø—Ä–æ–¥—É–∫—Ç–∏–≤–Ω—É –∑–∞–º—ñ–Ω—É ¬´–±–µ–∑ –∑–º—ñ–Ω —É –∫–æ–¥—ñ¬ª –¥–ª—è `asyncio`, —â–æ —Å—É—Ç—Ç—î–≤–æ –ø—ñ–¥–≤–∏—â—É—î —Ä—ñ–≤–Ω–æ—á–∞—Å–Ω—ñ—Å—Ç—å —ñ –ø—Ä–æ–¥—É–∫—Ç–∏–≤–Ω—ñ—Å—Ç—å.

–Ø–∫—â–æ –≤–∏ –≤—Å—Ç–∞–Ω–æ–≤–ª—é—î—Ç–µ FastAPI —á–µ—Ä–µ–∑ `pip install "fastapi[standard]"`, –≤–∏ –≤–∂–µ –æ—Ç—Ä–∏–º–∞—î—Ç–µ —ñ `uvicorn[standard]`.

///

## –ó–∞–ø—É—Å—Ç—ñ—Ç—å —Å–µ—Ä–≤–µ—Ä–Ω—É –ø—Ä–æ–≥—Ä–∞–º—É { #run-the-server-program }

–Ø–∫—â–æ –≤–∏ –≤—Å—Ç–∞–Ω–æ–≤–∏–ª–∏ ASGI-—Å–µ—Ä–≤–µ—Ä –≤—Ä—É—á–Ω—É, –∑–∞–∑–≤–∏—á–∞–π –ø–æ—Ç—Ä—ñ–±–Ω–æ –ø–µ—Ä–µ–¥–∞—Ç–∏ —Ä—è–¥–æ–∫ —ñ–º–ø–æ—Ä—Ç—É –≤ —Å–ø–µ—Ü—ñ–∞–ª—å–Ω–æ–º—É —Ñ–æ—Ä–º–∞—Ç—ñ, —â–æ–± –≤—ñ–Ω —ñ–º–ø–æ—Ä—Ç—É–≤–∞–≤ –≤–∞—à –∑–∞—Å—Ç–æ—Å—É–Ω–æ–∫ FastAPI:

<div class="termy">

```console
$ uvicorn main:app --host 0.0.0.0 --port 80

<span style="color: green;">INFO</span>:     Uvicorn running on http://0.0.0.0:80 (Press CTRL+C to quit)
```

</div>

/// note | –ü—Ä–∏–º—ñ—Ç–∫–∞

–ö–æ–º–∞–Ω–¥–∞ `uvicorn main:app` –æ–∑–Ω–∞—á–∞—î:

* `main`: —Ñ–∞–π–ª `main.py` (Python ¬´–º–æ–¥—É–ª—å¬ª).
* `app`: –æ–±'—î–∫—Ç, —Å—Ç–≤–æ—Ä–µ–Ω–∏–π —É `main.py` —Ä—è–¥–∫–æ–º `app = FastAPI()`.

–¶–µ –µ–∫–≤—ñ–≤–∞–ª–µ–Ω—Ç–Ω–æ:

```Python
from main import app
```

///

–ö–æ–∂–Ω–∞ –∞–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤–Ω–∞ ASGI-—Å–µ—Ä–≤–µ—Ä–Ω–∞ –ø—Ä–æ–≥—Ä–∞–º–∞ –º–∞—Ç–∏–º–µ –ø–æ–¥—ñ–±–Ω—É –∫–æ–º–∞–Ω–¥—É; —á–∏—Ç–∞–π—Ç–µ –±—ñ–ª—å—à–µ –≤ —ó—Ö–Ω—ñ–π –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü—ñ—ó.

/// warning | –ü–æ–ø–µ—Ä–µ–¥–∂–µ–Ω–Ω—è

Uvicorn —Ç–∞ —ñ–Ω—à—ñ —Å–µ—Ä–≤–µ—Ä–∏ –ø—ñ–¥—Ç—Ä–∏–º—É—é—Ç—å –æ–ø—Ü—ñ—é `--reload`, –∫–æ—Ä–∏—Å–Ω—É –ø—ñ–¥ —á–∞—Å —Ä–æ–∑—Ä–æ–±–∫–∏.

–û–ø—Ü—ñ—è `--reload` —Å–ø–æ–∂–∏–≤–∞—î –∑–Ω–∞—á–Ω–æ –±—ñ–ª—å—à–µ —Ä–µ—Å—É—Ä—Å—ñ–≤, —î –º–µ–Ω—à —Å—Ç–∞–±—ñ–ª—å–Ω–æ—é —Ç–æ—â–æ.

–í–æ–Ω–∞ –¥—É–∂–µ –¥–æ–ø–æ–º–∞–≥–∞—î –ø—ñ–¥ —á–∞—Å —Ä–æ–∑—Ä–æ–±–∫–∏, –∞–ª–µ —ó—ó –Ω–µ —Å–ª—ñ–¥ –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É–≤–∞—Ç–∏ –≤ –ø—Ä–æ–¥–∞–∫—à–Ω—ñ.

///

## –ö–æ–Ω—Ü–µ–ø—Ü—ñ—ó —Ä–æ–∑–≥–æ—Ä—Ç–∞–Ω–Ω—è { #deployment-concepts }

–¶—ñ –ø—Ä–∏–∫–ª–∞–¥–∏ –∑–∞–ø—É—Å–∫–∞—é—Ç—å —Å–µ—Ä–≤–µ—Ä–Ω—É –ø—Ä–æ–≥—Ä–∞–º—É (–Ω–∞–ø—Ä–∏–∫–ª–∞–¥, Uvicorn), –ø—ñ–¥–Ω—ñ–º–∞—é—á–∏ –æ–¥–∏–Ω –ø—Ä–æ—Ü–µ—Å, —â–æ —Å–ª—É—Ö–∞—î –≤—Å—ñ IP (`0.0.0.0`) –Ω–∞ –≤–∏–∑–Ω–∞—á–µ–Ω–æ–º—É –ø–æ—Ä—Ç—É (–Ω–∞–ø—Ä–∏–∫–ª–∞–¥, `80`).

–¶–µ –±–∞–∑–æ–≤–∞ —ñ–¥–µ—è. –ê–ª–µ, –π–º–æ–≤—ñ—Ä–Ω–æ, –≤–∞–º –∑–Ω–∞–¥–æ–±–∏—Ç—å—Å—è –ø–æ–¥–±–∞—Ç–∏ —â–µ –ø—Ä–æ —Ç–∞–∫–µ:

* –ë–µ–∑–ø–µ–∫–∞ - HTTPS
* –ê–≤—Ç–æ–∑–∞–ø—É—Å–∫
* –ü–µ—Ä–µ–∑–∞–ø—É—Å–∫–∏
* –†–µ–ø–ª—ñ–∫–∞—Ü—ñ—è (–∫—ñ–ª—å–∫—ñ—Å—Ç—å –∑–∞–ø—É—â–µ–Ω–∏—Ö –ø—Ä–æ—Ü–µ—Å—ñ–≤)
* –ü–∞–º'—è—Ç—å
* –ü–æ–ø–µ—Ä–µ–¥–Ω—ñ –∫—Ä–æ–∫–∏ –ø–µ—Ä–µ–¥ —Å—Ç–∞—Ä—Ç–æ–º

–£ –Ω–∞—Å—Ç—É–ø–Ω–∏—Ö —Ä–æ–∑–¥—ñ–ª–∞—Ö —è —Ä–æ–∑–ø–æ–≤—ñ–º –±—ñ–ª—å—à–µ –ø—Ä–æ –∫–æ–∂–Ω—É –∑ —Ü–∏—Ö –∫–æ–Ω—Ü–µ–ø—Ü—ñ–π, —è–∫ –ø—Ä–æ –Ω–∏—Ö –¥—É–º–∞—Ç–∏, —ñ –Ω–∞–≤–µ–¥—É –∫–æ–Ω–∫—Ä–µ—Ç–Ω—ñ –ø—Ä–∏–∫–ª–∞–¥–∏ —Ç–∞ —Å—Ç—Ä–∞—Ç–µ–≥—ñ—ó –¥–ª—è —ó—Ö –æ–ø—Ä–∞—Ü—é–≤–∞–Ω–Ω—è. üöÄ
