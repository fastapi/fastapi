# –ó–∞–ø—É—Å–∫ —Å–µ—Ä–≤–µ—Ä–∞ –≤—Ä—É—á–Ω—É { #run-a-server-manually }

## –í–∏–∫–æ—Ä–∏—Å—Ç–∞–π—Ç–µ –∫–æ–º–∞–Ω–¥—É `fastapi run` { #use-the-fastapi-run-command }

–ö–æ—Ä–æ—Ç–∫–æ: –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É–π—Ç–µ `fastapi run`, —â–æ–± –∑–∞–ø—É—Å—Ç–∏—Ç–∏ –≤–∞—à—É FastAPI-–∑–∞—Å—Ç–æ—Å—É–Ω–æ–∫:

<div class="termy">

```console
$ <font color="#4E9A06">fastapi</font> run <u style="text-decoration-style:solid">main.py</u>

  <span style="background-color:#009485"><font color="#D3D7CF"> FastAPI </font></span>  Starting production server üöÄ

             Searching for package file structure from directories
             with <font color="#3465A4">__init__.py</font> files
             Importing from <font color="#75507B">/home/user/code/</font><font color="#AD7FA8">awesomeapp</font>

   <span style="background-color:#007166"><font color="#D3D7CF"> module </font></span>  üêç main.py

     <span style="background-color:#007166"><font color="#D3D7CF"> code </font></span>  Importing the FastAPI app object from the module with
             the following code:

             <u style="text-decoration-style:solid">from </u><u style="text-decoration-style:solid"><b>main</b></u><u style="text-decoration-style:solid"> import </u><u style="text-decoration-style:solid"><b>app</b></u>

      <span style="background-color:#007166"><font color="#D3D7CF"> app </font></span>  Using import string: <font color="#3465A4">main:app</font>

   <span style="background-color:#007166"><font color="#D3D7CF"> server </font></span>  Server started at <font color="#729FCF"><u style="text-decoration-style:solid">http://0.0.0.0:8000</u></font>
   <span style="background-color:#007166"><font color="#D3D7CF"> server </font></span>  Documentation at <font color="#729FCF"><u style="text-decoration-style:solid">http://0.0.0.0:8000/docs</u></font>

             Logs:

     <span style="background-color:#007166"><font color="#D3D7CF"> INFO </font></span>  Started server process <b>[</b><font color="#34E2E2"><b>2306215</b></font><b>]</b>
     <span style="background-color:#007166"><font color="#D3D7CF"> INFO </font></span>  Waiting for application startup.
     <span style="background-color:#007166"><font color="#D3D7CF"> INFO </font></span>  Application startup complete.
     <span style="background-color:#007166"><font color="#D3D7CF"> INFO </font></span>  Uvicorn running on <font color="#729FCF"><u style="text-decoration-style:solid">http://0.0.0.0:8000</u></font> <b>(</b>Press CTRL+C
             to quit<b>)</b>
```

</div>

–¶–µ –ø—Ä–∞—Ü—é–≤–∞—Ç–∏–º–µ –≤ –±—ñ–ª—å—à–æ—Å—Ç—ñ –≤–∏–ø–∞–¥–∫—ñ–≤. üòé

–í–∏ –º–æ–∂–µ—Ç–µ –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É–≤–∞—Ç–∏ —Ü—é –∫–æ–º–∞–Ω–¥—É, –Ω–∞–ø—Ä–∏–∫–ª–∞–¥, —â–æ–± –∑–∞–ø—É—Å—Ç–∏—Ç–∏ –≤–∞—à **FastAPI** –∑–∞—Å—Ç–æ—Å—É–Ω–æ–∫ —É –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä—ñ, –Ω–∞ —Å–µ—Ä–≤–µ—Ä—ñ —Ç–æ—â–æ.

## ASGI-—Å–µ—Ä–≤–µ—Ä–∏ { #asgi-servers }

–†–æ–∑–≥–ª—è–Ω—å–º–æ –¥–µ—Ç–∞–ª—ñ —Ç—Ä–æ—Ö–∏ –≥–ª–∏–±—à–µ.

FastAPI –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É—î —Å—Ç–∞–Ω–¥–∞—Ä—Ç –¥–ª—è –ø–æ–±—É–¥–æ–≤–∏ Python web framework-—ñ–≤ —ñ —Å–µ—Ä–≤–µ—Ä—ñ–≤ –ø—ñ–¥ –Ω–∞–∑–≤–æ—é <abbr title="Asynchronous Server Gateway Interface - –ê—Å–∏–Ω—Ö—Ä–æ–Ω–Ω–∏–π —ñ–Ω—Ç–µ—Ä—Ñ–µ–π—Å —à–ª—é–∑—É —Å–µ—Ä–≤–µ—Ä–∞">ASGI</abbr>. FastAPI ‚Äî —Ü–µ ASGI web framework.

–ì–æ–ª–æ–≤–Ω–µ, —â–æ –≤–∞–º –ø–æ—Ç—Ä—ñ–±–Ω–æ, —â–æ–± –∑–∞–ø—É—Å—Ç–∏—Ç–∏ –∑–∞—Å—Ç–æ—Å—É–Ω–æ–∫ **FastAPI** (–∞–±–æ –±—É–¥—å-—è–∫–∏–π —ñ–Ω—à–∏–π ASGI-–∑–∞—Å—Ç–æ—Å—É–Ω–æ–∫) –Ω–∞ –≤—ñ–¥–¥–∞–ª–µ–Ω—ñ–π —Å–µ—Ä–≤–µ—Ä–Ω—ñ–π –º–∞—à–∏–Ω—ñ ‚Äî —Ü–µ –ø—Ä–æ–≥—Ä–∞–º–∞ ASGI-—Å–µ—Ä–≤–µ—Ä–∞, –Ω–∞–ø—Ä–∏–∫–ª–∞–¥ **Uvicorn**. –°–∞–º–µ —ó—ó `fastapi` –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É—î –∑–∞ –∑–∞–º–æ–≤—á—É–≤–∞–Ω–Ω—è–º.

–Ñ –∫—ñ–ª—å–∫–∞ –∞–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤, –∑–æ–∫—Ä–µ–º–∞:

* <a href="https://www.uvicorn.dev/" class="external-link" target="_blank">Uvicorn</a>: –≤–∏—Å–æ–∫–æ–ø—Ä–æ–¥—É–∫—Ç–∏–≤–Ω–∏–π ASGI-—Å–µ—Ä–≤–µ—Ä.
* <a href="https://hypercorn.readthedocs.io/" class="external-link" target="_blank">Hypercorn</a>: ASGI-—Å–µ—Ä–≤–µ—Ä, —Å—É–º—ñ—Å–Ω–∏–π –∑ HTTP/2 —ñ Trio, —Å–µ—Ä–µ–¥ —ñ–Ω—à–∏—Ö –º–æ–∂–ª–∏–≤–æ—Å—Ç–µ–π.
* <a href="https://github.com/django/daphne" class="external-link" target="_blank">Daphne</a>: ASGI-—Å–µ—Ä–≤–µ—Ä, —Å—Ç–≤–æ—Ä–µ–Ω–∏–π –¥–ª—è Django Channels.
* <a href="https://github.com/emmett-framework/granian" class="external-link" target="_blank">Granian</a>: Rust HTTP-—Å–µ—Ä–≤–µ—Ä –¥–ª—è Python-–∑–∞—Å—Ç–æ—Å—É–Ω–∫—ñ–≤.
* <a href="https://unit.nginx.org/howto/fastapi/" class="external-link" target="_blank">NGINX Unit</a>: NGINX Unit ‚Äî –ª–µ–≥–∫–æ–≤–∞–≥–æ–≤–µ —Ç–∞ —É–Ω—ñ–≤–µ—Ä—Å–∞–ª—å–Ω–µ —Å–µ—Ä–µ–¥–æ–≤–∏—â–µ –≤–∏–∫–æ–Ω–∞–Ω–Ω—è web-–∑–∞—Å—Ç–æ—Å—É–Ω–∫—ñ–≤.

## –°–µ—Ä–≤–µ—Ä–Ω–∞ –º–∞—à–∏–Ω–∞ —Ç–∞ —Å–µ—Ä–≤–µ—Ä–Ω–∞ –ø—Ä–æ–≥—Ä–∞–º–∞ { #server-machine-and-server-program }

–Ñ –Ω–µ–≤–µ–ª–∏–∫–∏–π –Ω—é–∞–Ω—Å —ñ–∑ –Ω–∞–∑–≤–∞–º–∏, —è–∫–∏–π –≤–∞—Ä—Ç–æ –ø–∞–º‚Äô—è—Ç–∞—Ç–∏. üí°

–°–ª–æ–≤–æ ¬´**server**¬ª —á–∞—Å—Ç–æ –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É—é—Ç—å —ñ –¥–ª—è –≤—ñ–¥–¥–∞–ª–µ–Ω–æ–≥–æ/—Ö–º–∞—Ä–Ω–æ–≥–æ –∫–æ–º–ø‚Äô—é—Ç–µ—Ä–∞ (—Ñ—ñ–∑–∏—á–Ω–æ—ó –∞–±–æ –≤—ñ—Ä—Ç—É–∞–ª—å–Ω–æ—ó –º–∞—à–∏–Ω–∏), —ñ –¥–ª—è –ø—Ä–æ–≥—Ä–∞–º–∏, —â–æ –ø—Ä–∞—Ü—é—î –Ω–∞ —Ü—ñ–π –º–∞—à–∏–Ω—ñ (–Ω–∞–ø—Ä–∏–∫–ª–∞–¥, Uvicorn).

–ü—Ä–æ—Å—Ç–æ –º–∞–π—Ç–µ –Ω–∞ —É–≤–∞–∑—ñ: –∫–æ–ª–∏ –∑–∞–≥–∞–ª–æ–º —á–∏—Ç–∞—î—Ç–µ ¬´server¬ª, —Ü–µ –º–æ–∂–µ –æ–∑–Ω–∞—á–∞—Ç–∏ –æ–¥–Ω—É –∑ —Ü–∏—Ö –¥–≤–æ—Ö —Ä–µ—á–µ–π.

–ö–æ–ª–∏ –π–¥–µ—Ç—å—Å—è –ø—Ä–æ –≤—ñ–¥–¥–∞–ª–µ–Ω—É –º–∞—à–∏–Ω—É, —ó—ó —á–∞—Å—Ç–æ –Ω–∞–∑–∏–≤–∞—é—Ç—å **server**, –∞ —Ç–∞–∫–æ–∂ **machine**, **VM** (virtual machine), **node**. –£—Å–µ —Ü–µ –æ–∑–Ω–∞—á–∞—î –ø–µ–≤–Ω–∏–π —Ç–∏–ø –≤—ñ–¥–¥–∞–ª–µ–Ω–æ—ó –º–∞—à–∏–Ω–∏, –∑–∞–∑–≤–∏—á–∞–π –ø—ñ–¥ Linux, –Ω–∞ —è–∫—ñ–π –≤–∏ –∑–∞–ø—É—Å–∫–∞—î—Ç–µ –ø—Ä–æ–≥—Ä–∞–º–∏.

## –í—Å—Ç–∞–Ω–æ–≤—ñ—Ç—å —Å–µ—Ä–≤–µ—Ä–Ω—É –ø—Ä–æ–≥—Ä–∞–º—É { #install-the-server-program }

–ö–æ–ª–∏ –≤–∏ –≤—Å—Ç–∞–Ω–æ–≤–ª—é—î—Ç–µ FastAPI, —Ä–∞–∑–æ–º —ñ–∑ –Ω–∏–º –≤—Å—Ç–∞–Ω–æ–≤–ª—é—î—Ç—å—Å—è production server ‚Äî Uvicorn, —ñ –≤–∏ –º–æ–∂–µ—Ç–µ –∑–∞–ø—É—Å—Ç–∏—Ç–∏ –π–æ–≥–æ –∫–æ–º–∞–Ω–¥–æ—é `fastapi run`.

–ê–ª–µ –≤–∏ —Ç–∞–∫–æ–∂ –º–æ–∂–µ—Ç–µ –≤—Å—Ç–∞–Ω–æ–≤–∏—Ç–∏ ASGI-—Å–µ—Ä–≤–µ—Ä –≤—Ä—É—á–Ω—É.

–ü–µ—Ä–µ–∫–æ–Ω–∞–π—Ç–µ—Å—è, —â–æ –≤–∏ —Å—Ç–≤–æ—Ä–∏–ª–∏ [–≤—ñ—Ä—Ç—É–∞–ª—å–Ω–µ —Å–µ—Ä–µ–¥–æ–≤–∏—â–µ](../virtual-environments.md){.internal-link target=_blank}, –∞–∫—Ç–∏–≤—É–≤–∞–ª–∏ –π–æ–≥–æ, —ñ —Ç–æ–¥—ñ –º–æ–∂–µ—Ç–µ –≤—Å—Ç–∞–Ω–æ–≤–∏—Ç–∏ —Å–µ—Ä–≤–µ—Ä–Ω–∏–π –∑–∞—Å—Ç–æ—Å—É–Ω–æ–∫.

–ù–∞–ø—Ä–∏–∫–ª–∞–¥, —â–æ–± –≤—Å—Ç–∞–Ω–æ–≤–∏—Ç–∏ Uvicorn:

<div class="termy">

```console
$ pip install "uvicorn[standard]"

---> 100%
```

</div>

–ü–æ–¥—ñ–±–Ω–∏–π –ø—Ä–æ—Ü–µ—Å –∑–∞—Å—Ç–æ—Å–æ–≤—É—î—Ç—å—Å—è —ñ –¥–ª—è –±—É–¥—å-—è–∫–æ—ó —ñ–Ω—à–æ—ó –ø—Ä–æ–≥—Ä–∞–º–∏ ASGI-—Å–µ—Ä–≤–µ—Ä–∞.

/// tip | –ü–æ—Ä–∞–¥–∞

–î–æ–¥–∞—é—á–∏ `standard`, Uvicorn –≤—Å—Ç–∞–Ω–æ–≤–∏—Ç—å —ñ –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É–≤–∞—Ç–∏–º–µ –¥–µ—è–∫—ñ —Ä–µ–∫–æ–º–µ–Ω–¥–æ–≤–∞–Ω—ñ –¥–æ–¥–∞—Ç–∫–æ–≤—ñ –∑–∞–ª–µ–∂–Ω–æ—Å—Ç—ñ.

–ó–æ–∫—Ä–µ–º–∞ `uvloop` ‚Äî –≤–∏—Å–æ–∫–æ–ø—Ä–æ–¥—É–∫—Ç–∏–≤–Ω—É –ø–æ–≤–Ω—ñ—Å—Ç—é —Å—É–º—ñ—Å–Ω—É –∑–∞–º—ñ–Ω—É –¥–ª—è `asyncio`, —â–æ –¥–∞—î –∑–Ω–∞—á–Ω–∏–π –ø—Ä–∏—Ä—ñ—Å—Ç –ø—Ä–æ–¥—É–∫—Ç–∏–≤–Ω–æ—Å—Ç—ñ –ø–∞—Ä–∞–ª–µ–ª—å–Ω–æ–≥–æ –≤–∏–∫–æ–Ω–∞–Ω–Ω—è.

–ö–æ–ª–∏ –≤–∏ –≤—Å—Ç–∞–Ω–æ–≤–ª—é—î—Ç–µ FastAPI –∫–æ–º–∞–Ω–¥–æ—é –Ω–∞ –∫—à—Ç–∞–ª—Ç `pip install "fastapi[standard]"`, –≤–∏ —Ç–∞–∫–æ–∂ —É–∂–µ –æ—Ç—Ä–∏–º—É—î—Ç–µ `uvicorn[standard]`.

///

## –ó–∞–ø—É—Å—Ç—ñ—Ç—å —Å–µ—Ä–≤–µ—Ä–Ω—É –ø—Ä–æ–≥—Ä–∞–º—É { #run-the-server-program }

–Ø–∫—â–æ –≤–∏ –≤—Å—Ç–∞–Ω–æ–≤–∏–ª–∏ ASGI-—Å–µ—Ä–≤–µ—Ä –≤—Ä—É—á–Ω—É, –∑–∞–∑–≤–∏—á–∞–π –ø–æ—Ç—Ä—ñ–±–Ω–æ –ø–µ—Ä–µ–¥–∞—Ç–∏ —Ä—è–¥–æ–∫ —ñ–º–ø–æ—Ä—Ç—É (import string) —É —Å–ø–µ—Ü—ñ–∞–ª—å–Ω–æ–º—É —Ñ–æ—Ä–º–∞—Ç—ñ, —â–æ–± –≤—ñ–Ω —ñ–º–ø–æ—Ä—Ç—É–≤–∞–≤ –≤–∞—à FastAPI-–∑–∞—Å—Ç–æ—Å—É–Ω–æ–∫:

<div class="termy">

```console
$ uvicorn main:app --host 0.0.0.0 --port 80

<span style="color: green;">INFO</span>:     Uvicorn running on http://0.0.0.0:80 (Press CTRL+C to quit)
```

</div>

/// note | –ü—Ä–∏–º—ñ—Ç–∫–∞

–ö–æ–º–∞–Ω–¥–∞ `uvicorn main:app` –æ–∑–Ω–∞—á–∞—î:

* `main`: —Ñ–∞–π–ª `main.py` (Python ¬´module¬ª).
* `app`: –æ–±‚Äô—î–∫—Ç, —Å—Ç–≤–æ—Ä–µ–Ω–∏–π –≤—Å–µ—Ä–µ–¥–∏–Ω—ñ `main.py` —Ä—è–¥–∫–æ–º `app = FastAPI()`.

–¶–µ –µ–∫–≤—ñ–≤–∞–ª–µ–Ω—Ç–Ω–æ:

```Python
from main import app
```

///

–ö–æ–∂–Ω–∞ –∞–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤–Ω–∞ –ø—Ä–æ–≥—Ä–∞–º–∞ ASGI-—Å–µ—Ä–≤–µ—Ä–∞ –º–∞—Ç–∏–º–µ –ø–æ–¥—ñ–±–Ω—É –∫–æ–º–∞–Ω–¥—É, –¥–æ–∫–ª–∞–¥–Ω—ñ—à–µ –¥–∏–≤—ñ—Ç—å—Å—è —É –≤—ñ–¥–ø–æ–≤—ñ–¥–Ω—ñ–π –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü—ñ—ó.

/// warning | –ü–æ–ø–µ—Ä–µ–¥–∂–µ–Ω–Ω—è

Uvicorn —Ç–∞ —ñ–Ω—à—ñ —Å–µ—Ä–≤–µ—Ä–∏ –ø—ñ–¥—Ç—Ä–∏–º—É—é—Ç—å –æ–ø—Ü—ñ—é `--reload`, —è–∫–∞ –∫–æ—Ä–∏—Å–Ω–∞ –ø—ñ–¥ —á–∞—Å —Ä–æ–∑—Ä–æ–±–∫–∏.

–û–ø—Ü—ñ—è `--reload` —Å–ø–æ–∂–∏–≤–∞—î –∑–Ω–∞—á–Ω–æ –±—ñ–ª—å—à–µ —Ä–µ—Å—É—Ä—Å—ñ–≤, —î –º–µ–Ω—à —Å—Ç–∞–±—ñ–ª—å–Ω–æ—é —Ç–æ—â–æ.

–í–æ–Ω–∞ –¥—É–∂–µ –¥–æ–ø–æ–º–∞–≥–∞—î –ø—ñ–¥ —á–∞—Å **—Ä–æ–∑—Ä–æ–±–∫–∏**, –∞–ª–µ **–Ω–µ —Å–ª—ñ–¥** –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É–≤–∞—Ç–∏ —ó—ó –≤ **production**.

///

## –ö–æ–Ω—Ü–µ–ø—Ü—ñ—ó –¥–µ–ø–ª–æ—é { #deployment-concepts }

–¶—ñ –ø—Ä–∏–∫–ª–∞–¥–∏ –∑–∞–ø—É—Å–∫–∞—é—Ç—å —Å–µ—Ä–≤–µ—Ä–Ω—É –ø—Ä–æ–≥—Ä–∞–º—É (–Ω–∞–ø—Ä–∏–∫–ª–∞–¥, Uvicorn), —Å—Ç–∞—Ä—Ç—É—é—á–∏ **–æ–¥–∏–Ω –ø—Ä–æ—Ü–µ—Å**, —â–æ —Å–ª—É—Ö–∞—î –≤—Å—ñ IP-–∞–¥—Ä–µ—Å–∏ (`0.0.0.0`) –Ω–∞ –Ω–∞–ø–µ—Ä–µ–¥ –≤–∏–∑–Ω–∞—á–µ–Ω–æ–º—É –ø–æ—Ä—Ç—É (–Ω–∞–ø—Ä–∏–∫–ª–∞–¥, `80`).

–¶–µ –±–∞–∑–æ–≤–∞ —ñ–¥–µ—è. –ê–ª–µ, –π–º–æ–≤—ñ—Ä–Ω–æ, –≤–∞–º —Ç–∞–∫–æ–∂ –ø–æ—Ç—Ä—ñ–±–Ω–æ –±—É–¥–µ –ø–æ–¥–±–∞—Ç–∏ –ø—Ä–æ –¥–æ–¥–∞—Ç–∫–æ–≤—ñ —Ä–µ—á—ñ, —è–∫-–æ—Ç:

* –ë–µ–∑–ø–µ–∫–∞ ‚Äî HTTPS
* –ó–∞–ø—É—Å–∫ –ø—Ä–∏ —Å—Ç–∞—Ä—Ç—ñ —Å–∏—Å—Ç–µ–º–∏
* –ü–µ—Ä–µ–∑–∞–ø—É—Å–∫–∏
* –†–µ–ø–ª—ñ–∫–∞—Ü—ñ—è (–∫—ñ–ª—å–∫—ñ—Å—Ç—å –∑–∞–ø—É—â–µ–Ω–∏—Ö –ø—Ä–æ—Ü–µ—Å—ñ–≤)
* –ü–∞–º‚Äô—è—Ç—å
* –ü–æ–ø–µ—Ä–µ–¥–Ω—ñ –∫—Ä–æ–∫–∏ –ø–µ—Ä–µ–¥ –∑–∞–ø—É—Å–∫–æ–º

–£ –Ω–∞—Å—Ç—É–ø–Ω–∏—Ö —Ä–æ–∑–¥—ñ–ª–∞—Ö —è —Ä–æ–∑–ø–æ–≤—ñ–º –±—ñ–ª—å—à–µ –ø—Ä–æ –∫–æ–∂–Ω–µ –∑ —Ü–∏—Ö –ø–æ–Ω—è—Ç—å: —è–∫ –ø—Ä–æ –Ω–∏—Ö –¥—É–º–∞—Ç–∏ —Ç–∞ –Ω–∞–≤–µ–¥—É –∫–æ–Ω–∫—Ä–µ—Ç–Ω—ñ –ø—Ä–∏–∫–ª–∞–¥–∏ –∑—ñ —Å—Ç—Ä–∞—Ç–µ–≥—ñ—è–º–∏, —è–∫ —ñ–∑ —Ü–∏–º –ø—Ä–∞—Ü—é–≤–∞—Ç–∏. üöÄ
