# FastAPI —É –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∞—Ö - Docker { #fastapi-in-containers-docker }

–ü—ñ–¥ —á–∞—Å —Ä–æ–∑–≥–æ—Ä—Ç–∞–Ω–Ω—è –∑–∞—Å—Ç–æ—Å—É–Ω–∫—ñ–≤ FastAPI –ø–æ—à–∏—Ä–µ–Ω–∏–π –ø—ñ–¥—Ö—ñ–¥ - –∑–±–∏—Ä–∞—Ç–∏ –æ–±—Ä–∞–∑–∏ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä—ñ–≤ Linux. –ó–∞–∑–≤–∏—á–∞–π —Ü–µ —Ä–æ–±–∏—Ç—å—Å—è –∑–∞ –¥–æ–ø–æ–º–æ–≥–æ—é <a href="https://www.docker.com/" class="external-link" target="_blank">Docker</a>. –ü–æ—Ç—ñ–º –≤–∏ –º–æ–∂–µ—Ç–µ —Ä–æ–∑–≥–æ—Ä–Ω—É—Ç–∏ —Ü–µ–π –æ–±—Ä–∞–∑ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∞ –∫—ñ–ª—å–∫–æ–º–∞ —Ä—ñ–∑–Ω–∏–º–∏ —Å–ø–æ—Å–æ–±–∞–º–∏.

–í–∏–∫–æ—Ä–∏—Å—Ç–∞–Ω–Ω—è –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä—ñ–≤ Linux –º–∞—î –∫—ñ–ª—å–∫–∞ –ø–µ—Ä–µ–≤–∞–≥, –∑–æ–∫—Ä–µ–º–∞ –±–µ–∑–ø–µ–∫–∞, –≤—ñ–¥—Ç–≤–æ—Ä—é–≤–∞–Ω—ñ—Å—Ç—å, –ø—Ä–æ—Å—Ç–æ—Ç–∞ —Ç–∞ —ñ–Ω—à—ñ.

/// tip | –ü–æ—Ä–∞–¥–∞

–ü–æ—Å–ø—ñ—à–∞—î—Ç–µ —ñ –≤–∂–µ –≤—Å–µ —Ü–µ –∑–Ω–∞—î—Ç–µ? –ü–µ—Ä–µ–π–¥—ñ—Ç—å –¥–æ [`Dockerfile` –Ω–∏–∂—á–µ üëá](#build-a-docker-image-for-fastapi).

///

<details>
<summary>–ü–æ–ø–µ—Ä–µ–¥–Ω—ñ–π –ø–µ—Ä–µ–≥–ª—è–¥ Dockerfile üëÄ</summary>

```Dockerfile
FROM python:3.14

WORKDIR /code

COPY ./requirements.txt /code/requirements.txt

RUN pip install --no-cache-dir --upgrade -r /code/requirements.txt

COPY ./app /code/app

CMD ["fastapi", "run", "app/main.py", "--port", "80"]

# –Ø–∫—â–æ –∑–∞–ø—É—Å–∫–∞—î—Ç–µ –∑–∞ –ø—Ä–µ–¥—Å—Ç–∞–≤–Ω–∏–∫–æ–º –Ω–∞ –∫—à—Ç–∞–ª—Ç Nginx –∞–±–æ Traefik, –¥–æ–¥–∞–π—Ç–µ --proxy-headers
# CMD ["fastapi", "run", "app/main.py", "--port", "80", "--proxy-headers"]
```

</details>

## –©–æ —Ç–∞–∫–µ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä { #what-is-a-container }

–ö–æ–Ω—Ç–µ–π–Ω–µ—Ä–∏ (–ø–µ—Ä–µ–≤–∞–∂–Ω–æ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∏ Linux) - —Ü–µ –¥—É–∂–µ –ª–µ–≥–∫–∏–π —Å–ø–æ—Å—ñ–± —É–ø–∞–∫—É–≤–∞—Ç–∏ –∑–∞—Å—Ç–æ—Å—É–Ω–∫–∏ –∑ —É—Å—ñ–º–∞ —ó—Ö–Ω—ñ–º–∏ –∑–∞–ª–µ–∂–Ω–æ—Å—Ç—è–º–∏ —Ç–∞ –ø–æ—Ç—Ä—ñ–±–Ω–∏–º–∏ —Ñ–∞–π–ª–∞–º–∏, —ñ–∑–æ–ª—é–≤–∞–≤—à–∏ —ó—Ö –≤—ñ–¥ —ñ–Ω—à–∏—Ö –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä—ñ–≤ (—ñ–Ω—à–∏—Ö –∑–∞—Å—Ç–æ—Å—É–Ω–∫—ñ–≤ –∞–±–æ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ñ–≤) —É —Ç—ñ–π —Å–∞–º—ñ–π —Å–∏—Å—Ç–µ–º—ñ.

–ö–æ–Ω—Ç–µ–π–Ω–µ—Ä–∏ Linux –ø—Ä–∞—Ü—é—é—Ç—å, –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É—é—á–∏ —Ç–æ–π —Å–∞–º–∏–π —è–¥—Ä–æ Linux, —â–æ –π —Ö–æ—Å—Ç (–º–∞—à–∏–Ω–∞, –≤—ñ—Ä—Ç—É–∞–ª—å–Ω–∞ –º–∞—à–∏–Ω–∞, —Ö–º–∞—Ä–Ω–∏–π —Å–µ—Ä–≤–µ—Ä —Ç–æ—â–æ). –¶–µ –æ–∑–Ω–∞—á–∞—î, —â–æ –≤–æ–Ω–∏ –¥—É–∂–µ –ª–µ–≥–∫—ñ (—É –ø–æ—Ä—ñ–≤–Ω—è–Ω–Ω—ñ –∑ –ø–æ–≤–Ω–∏–º–∏ –≤—ñ—Ä—Ç—É–∞–ª—å–Ω–∏–º–∏ –º–∞—à–∏–Ω–∞–º–∏, —è–∫—ñ –µ–º—É–ª—é—é—Ç—å —Ü—ñ–ª—É –æ–ø–µ—Ä–∞—Ü—ñ–π–Ω—É —Å–∏—Å—Ç–µ–º—É).

–¢–∞–∫–∏–º —á–∏–Ω–æ–º –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∏ —Å–ø–æ–∂–∏–≤–∞—é—Ç—å –º–∞–ª–æ —Ä–µ—Å—É—Ä—Å—ñ–≤, –ø—Ä–∏–±–ª–∏–∑–Ω–æ —è–∫ –±–µ–∑–ø–æ—Å–µ—Ä–µ–¥–Ω—å–æ –∑–∞–ø—É—â–µ–Ω—ñ –ø—Ä–æ—Ü–µ—Å–∏ (–≤—ñ—Ä—Ç—É–∞–ª—å–Ω–∞ –º–∞—à–∏–Ω–∞ —Å–ø–æ–∂–∏–≤–∞–ª–∞ –± –∑–Ω–∞—á–Ω–æ –±—ñ–ª—å—à–µ).

–£ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä—ñ–≤ —Ç–∞–∫–æ–∂ —î –≤–ª–∞—Å–Ω—ñ —ñ–∑–æ–ª—å–æ–≤–∞–Ω—ñ –ø—Ä–æ—Ü–µ—Å–∏ –≤–∏–∫–æ–Ω–∞–Ω–Ω—è (–∑–∞–∑–≤–∏—á–∞–π –ª–∏—à–µ –æ–¥–∏–Ω –ø—Ä–æ—Ü–µ—Å), —Ñ–∞–π–ª–æ–≤—ñ —Å–∏—Å—Ç–µ–º–∏ —Ç–∞ –º–µ—Ä–µ–∂—ñ, —â–æ —Å–ø—Ä–æ—â—É—î —Ä–æ–∑–≥–æ—Ä—Ç–∞–Ω–Ω—è, –±–µ–∑–ø–µ–∫—É, —Ä–æ–∑—Ä–æ–±–∫—É —Ç–æ—â–æ.

## –©–æ —Ç–∞–∫–µ –æ–±—Ä–∞–∑ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∞ { #what-is-a-container-image }

–ö–æ–Ω—Ç–µ–π–Ω–µ—Ä –∑–∞–ø—É—Å–∫–∞—î—Ç—å—Å—è –∑ –æ–±—Ä–∞–∑—É –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∞.

–û–±—Ä–∞–∑ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∞ - —Ü–µ —Å—Ç–∞—Ç–∏—á–Ω–∞ –≤–µ—Ä—Å—ñ—è –≤—Å—ñ—Ö —Ñ–∞–π–ª—ñ–≤, –∑–º—ñ–Ω–Ω–∏—Ö –æ—Ç–æ—á–µ–Ω–Ω—è —Ç–∞ —Ç–∏–ø–æ–≤–∞ –∫–æ–º–∞–Ω–¥–∞/–ø—Ä–æ–≥—Ä–∞–º–∞, —è–∫–∞ –º–∞—î –±—É—Ç–∏ –ø—Ä–∏—Å—É—Ç–Ω—è –≤ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä—ñ. –¢—É—Ç ¬´—Å—Ç–∞—Ç–∏—á–Ω–∞¬ª –æ–∑–Ω–∞—á–∞—î, —â–æ –æ–±—Ä–∞–∑ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∞ –Ω–µ –∑–∞–ø—É—â–µ–Ω–∏–π, –≤—ñ–Ω –Ω–µ –≤–∏–∫–æ–Ω—É—î—Ç—å—Å—è, —Ü–µ –ª–∏—à–µ —É–ø–∞–∫–æ–≤–∞–Ω—ñ —Ñ–∞–π–ª–∏ —Ç–∞ –º–µ—Ç–∞–¥–∞–Ω—ñ.

–ù–∞ –ø—Ä–æ—Ç–∏–≤–∞–≥—É ¬´–æ–±—Ä–∞–∑—É –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∞¬ª, —â–æ —î –∑–±–µ—Ä–µ–∂–µ–Ω–∏–º —Å—Ç–∞—Ç–∏—á–Ω–∏–º –≤–º—ñ—Å—Ç–æ–º, ¬´–∫–æ–Ω—Ç–µ–π–Ω–µ—Ä¬ª –∑–∞–∑–≤–∏—á–∞–π –æ–∑–Ω–∞—á–∞—î –∑–∞–ø—É—â–µ–Ω–∏–π –µ–∫–∑–µ–º–ø–ª—è—Ä, —Ç–µ, —â–æ –≤–∏–∫–æ–Ω—É—î—Ç—å—Å—è.

–ö–æ–ª–∏ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä –∑–∞–ø—É—â–µ–Ω–æ (–∑–∞–ø—É—â–µ–Ω–∏–π –∑ –æ–±—Ä–∞–∑—É –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∞), –≤—ñ–Ω –º–æ–∂–µ —Å—Ç–≤–æ—Ä—é–≤–∞—Ç–∏ –∞–±–æ –∑–º—ñ–Ω—é–≤–∞—Ç–∏ —Ñ–∞–π–ª–∏, –∑–º—ñ–Ω–Ω—ñ –æ—Ç–æ—á–µ–Ω–Ω—è —Ç–æ—â–æ. –¶—ñ –∑–º—ñ–Ω–∏ —ñ—Å–Ω—É–≤–∞—Ç–∏–º—É—Ç—å –ª–∏—à–µ –≤ —Ü—å–æ–º—É –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä—ñ, –∞–ª–µ –Ω–µ –∑–±–µ—Ä–µ–∂—É—Ç—å—Å—è –≤ –±–∞–∑–æ–≤–æ–º—É –æ–±—Ä–∞–∑—ñ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∞ (–Ω–µ –±—É–¥—É—Ç—å –∑–∞–ø–∏—Å–∞–Ω—ñ –Ω–∞ –¥–∏—Å–∫).

–û–±—Ä–∞–∑ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∞ –º–æ–∂–Ω–∞ –ø–æ—Ä—ñ–≤–Ω—è—Ç–∏ –∑ —Ñ–∞–π–ª–æ–º —ñ –≤–º—ñ—Å—Ç–æ–º –ø—Ä–æ–≥—Ä–∞–º–∏, –Ω–∞–ø—Ä–∏–∫–ª–∞–¥ `python` —ñ —Ñ–∞–π–ª–æ–º `main.py`.

–ê —Å–∞–º –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä (–Ω–∞ –≤—ñ–¥–º—ñ–Ω—É –≤—ñ–¥ –æ–±—Ä–∞–∑—É) - —Ü–µ —Ñ–∞–∫—Ç–∏—á–Ω–æ –∑–∞–ø—É—â–µ–Ω–∏–π –µ–∫–∑–µ–º–ø–ª—è—Ä –æ–±—Ä–∞–∑—É, –ø–æ—Ä—ñ–≤–Ω—è–Ω–Ω–∏–π —ñ–∑ –ø—Ä–æ—Ü–µ—Å–æ–º. –ù–∞—Å–ø—Ä–∞–≤–¥—ñ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä –ø—Ä–∞—Ü—é—î –ª–∏—à–µ —Ç–æ–¥—ñ, –∫–æ–ª–∏ –≤ –Ω—å–æ–º—É –ø—Ä–∞—Ü—é—î –ø—Ä–æ—Ü–µ—Å (—ñ –∑–∞–∑–≤–∏—á–∞–π —Ü–µ –æ–¥–∏–Ω –ø—Ä–æ—Ü–µ—Å). –ö–æ–Ω—Ç–µ–π–Ω–µ—Ä –∑—É–ø–∏–Ω—è—î—Ç—å—Å—è, –∫–æ–ª–∏ –≤ –Ω—å–æ–º—É –Ω–µ –ø—Ä–∞—Ü—é—î –∂–æ–¥–µ–Ω –ø—Ä–æ—Ü–µ—Å.

## –û–±—Ä–∞–∑–∏ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä—ñ–≤ { #container-images }

Docker –±—É–≤ –æ–¥–Ω–∏–º –∑ –æ—Å–Ω–æ–≤–Ω–∏—Ö —ñ–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç—ñ–≤ –¥–ª—è —Å—Ç–≤–æ—Ä–µ–Ω–Ω—è —Ç–∞ –∫–µ—Ä—É–≤–∞–Ω–Ω—è –æ–±—Ä–∞–∑–∞–º–∏ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä—ñ–≤ —ñ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∞–º–∏.

–Ü—Å–Ω—É—î –ø—É–±–ª—ñ—á–Ω–∏–π <a href="https://hub.docker.com/" class="external-link" target="_blank">Docker Hub</a> –∑ –≥–æ—Ç–æ–≤–∏–º–∏ –æ—Ñ—ñ—Ü—ñ–π–Ω–∏–º–∏ –æ–±—Ä–∞–∑–∞–º–∏ –¥–ª—è –±–∞–≥–∞—Ç—å–æ—Ö —ñ–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç—ñ–≤, —Å–µ—Ä–µ–¥–æ–≤–∏—â, –±–∞–∑ –¥–∞–Ω–∏—Ö —ñ –∑–∞—Å—Ç–æ—Å—É–Ω–∫—ñ–≤.

–ù–∞–ø—Ä–∏–∫–ª–∞–¥, —î –æ—Ñ—ñ—Ü—ñ–π–Ω–∏–π <a href="https://hub.docker.com/_/python" class="external-link" target="_blank">–æ–±—Ä–∞–∑ Python</a>.

–Ü —î –±–∞–≥–∞—Ç–æ —ñ–Ω—à–∏—Ö –æ–±—Ä–∞–∑—ñ–≤ –¥–ª—è —Ä—ñ–∑–Ω–∏—Ö —Ä–µ—á–µ–π, —è–∫-–æ—Ç –±–∞–∑–∏ –¥–∞–Ω–∏—Ö, –Ω–∞–ø—Ä–∏–∫–ª–∞–¥ –¥–ª—è:

* <a href="https://hub.docker.com/_/postgres" class="external-link" target="_blank">PostgreSQL</a>
* <a href="https://hub.docker.com/_/mysql" class="external-link" target="_blank">MySQL</a>
* <a href="https://hub.docker.com/_/mongo" class="external-link" target="_blank">MongoDB</a>
* <a href="https://hub.docker.com/_/redis" class="external-link" target="_blank">Redis</a> —Ç–æ—â–æ.

–í–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É—é—á–∏ –≥–æ—Ç–æ–≤–∏–π –æ–±—Ä–∞–∑ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∞, –¥—É–∂–µ –ª–µ–≥–∫–æ –ø–æ—î–¥–Ω—É–≤–∞—Ç–∏ —Ç–∞ –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É–≤–∞—Ç–∏ —Ä—ñ–∑–Ω—ñ —ñ–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–∏. –ù–∞–ø—Ä–∏–∫–ª–∞–¥, —â–æ–± –≤–∏–ø—Ä–æ–±—É–≤–∞—Ç–∏ –Ω–æ–≤—É –±–∞–∑—É –¥–∞–Ω–∏—Ö. –£ –±—ñ–ª—å—à–æ—Å—Ç—ñ –≤–∏–ø–∞–¥–∫—ñ–≤ –≤–∏ –º–æ–∂–µ—Ç–µ –≤–∏–∫–æ—Ä–∏—Å—Ç–∞—Ç–∏ –æ—Ñ—ñ—Ü—ñ–π–Ω—ñ –æ–±—Ä–∞–∑–∏ —Ç–∞ –ø—Ä–æ—Å—Ç–æ –Ω–∞–ª–∞—à—Ç—É–≤–∞—Ç–∏ —ó—Ö –∑–º—ñ–Ω–Ω–∏–º–∏ –æ—Ç–æ—á–µ–Ω–Ω—è.

–¢–∞–∫–∏–º —á–∏–Ω–æ–º, —É –±–∞–≥–∞—Ç—å–æ—Ö –≤–∏–ø–∞–¥–∫–∞—Ö –≤–∏ –∑–º–æ–∂–µ—Ç–µ –Ω–∞–≤—á–∏—Ç–∏—Å—è –ø—Ä–∞—Ü—é–≤–∞—Ç–∏ –∑ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∞–º–∏ —ñ Docker —Ç–∞ –ø–æ–≤—Ç–æ—Ä–Ω–æ –≤–∏–∫–æ—Ä–∏—Å—Ç–∞—Ç–∏ —Ü—ñ –∑–Ω–∞–Ω–Ω—è –∑ –±–∞–≥–∞—Ç—å–º–∞ —Ä—ñ–∑–Ω–∏–º–∏ —ñ–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–∞–º–∏ —ñ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞–º–∏.

–¢–æ–±—Ç–æ –≤–∏ –∑–∞–ø—É—Å–∫–∞—Ç–∏–º–µ—Ç–µ –∫—ñ–ª—å–∫–∞ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä—ñ–≤ –∑ —Ä—ñ–∑–Ω–∏–º–∏ —Ä–µ—á–∞–º–∏, —è–∫-–æ—Ç –±–∞–∑—É –¥–∞–Ω–∏—Ö, –∑–∞—Å—Ç–æ—Å—É–Ω–æ–∫ –Ω–∞ Python, –≤–µ–±—Å–µ—Ä–≤–µ—Ä —ñ–∑ —Ñ—Ä–æ–Ω—Ç–µ–Ω–¥–æ–º –Ω–∞ React, —ñ –∑‚Äô—î–¥–Ω–∞—î—Ç–µ —ó—Ö —á–µ—Ä–µ–∑ –≤–Ω—É—Ç—Ä—ñ—à–Ω—é –º–µ—Ä–µ–∂—É.

–£—Å—ñ —Å–∏—Å—Ç–µ–º–∏ –∫–µ—Ä—É–≤–∞–Ω–Ω—è –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∞–º–∏ (—è–∫ Docker —á–∏ Kubernetes) –º–∞—é—Ç—å —Ü—ñ –º–µ—Ä–µ–∂–µ–≤—ñ –º–æ–∂–ª–∏–≤–æ—Å—Ç—ñ –≤–±—É–¥–æ–≤–∞–Ω–æ.

## –ö–æ–Ω—Ç–µ–π–Ω–µ—Ä–∏ —ñ –ø—Ä–æ—Ü–µ—Å–∏ { #containers-and-processes }

–û–±—Ä–∞–∑ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∞ –∑–∞–∑–≤–∏—á–∞–π –º—ñ—Å—Ç–∏—Ç—å —É —Å–≤–æ—ó—Ö –º–µ—Ç–∞–¥–∞–Ω–∏—Ö —Ç–∏–ø–æ–≤—É –ø—Ä–æ–≥—Ä–∞–º—É –∞–±–æ –∫–æ–º–∞–Ω–¥—É, —è–∫—É —Å–ª—ñ–¥ –≤–∏–∫–æ–Ω–∞—Ç–∏ –ø—ñ–¥ —á–∞—Å –∑–∞–ø—É—Å–∫—É –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∞, —ñ –ø–∞—Ä–∞–º–µ—Ç—Ä–∏ –¥–ª—è —Ü—ñ—î—ó –ø—Ä–æ–≥—Ä–∞–º–∏. –î—É–∂–µ —Å—Ö–æ–∂–µ –Ω–∞ —Ç–µ, —â–æ –≤–∏ –± –≤–∏–∫–æ–Ω–∞–ª–∏ –≤ –∫–æ–º–∞–Ω–¥–Ω–æ–º—É —Ä—è–¥–∫—É.

–ö–æ–ª–∏ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä –∑–∞–ø—É—Å–∫–∞—î—Ç—å—Å—è, –≤—ñ–Ω –≤–∏–∫–æ–Ω–∞—î —Ü—é –∫–æ–º–∞–Ω–¥—É/–ø—Ä–æ–≥—Ä–∞–º—É (—Ö–æ—á–∞ –≤–∏ –º–æ–∂–µ—Ç–µ –ø–µ—Ä–µ–≤–∏–∑–Ω–∞—á–∏—Ç–∏ —ó—ó —ñ –∑–∞–ø—É—Å—Ç–∏—Ç–∏ —ñ–Ω—à—É –∫–æ–º–∞–Ω–¥—É/–ø—Ä–æ–≥—Ä–∞–º—É).

–ö–æ–Ω—Ç–µ–π–Ω–µ—Ä –ø—Ä–∞—Ü—é—î –¥–æ—Ç–∏, –¥–æ–∫–∏ –ø—Ä–∞—Ü—é—î –≥–æ–ª–æ–≤–Ω–∏–π –ø—Ä–æ—Ü–µ—Å (–∫–æ–º–∞–Ω–¥–∞ –∞–±–æ –ø—Ä–æ–≥—Ä–∞–º–∞).

–ó–∞–∑–≤–∏—á–∞–π –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä –º–∞—î –æ–¥–∏–Ω –ø—Ä–æ—Ü–µ—Å, –∞–ª–µ —Ç–∞–∫–æ–∂ –º–æ–∂–ª–∏–≤–æ –∑–∞–ø—É—Å–∫–∞—Ç–∏ –ø—ñ–¥–ø—Ä–æ—Ü–µ—Å–∏ –∑ –≥–æ–ª–æ–≤–Ω–æ–≥–æ –ø—Ä–æ—Ü–µ—Å—É, —ñ —Ç–∞–∫–∏–º —á–∏–Ω–æ–º —É –≤–∞—Å –º–æ–∂–µ –±—É—Ç–∏ –∫—ñ–ª—å–∫–∞ –ø—Ä–æ—Ü–µ—Å—ñ–≤ —É —Ç–æ–º—É —Å–∞–º–æ–º—É –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä—ñ.

–ê–ª–µ –Ω–µ–º–æ–∂–ª–∏–≤–æ –º–∞—Ç–∏ –∑–∞–ø—É—â–µ–Ω–∏–π –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä –±–µ–∑ –ø—Ä–∏–Ω–∞–π–º–Ω—ñ –æ–¥–Ω–æ–≥–æ –∑–∞–ø—É—â–µ–Ω–æ–≥–æ –ø—Ä–æ—Ü–µ—Å—É. –Ø–∫—â–æ –≥–æ–ª–æ–≤–Ω–∏–π –ø—Ä–æ—Ü–µ—Å –∑—É–ø–∏–Ω—è—î—Ç—å—Å—è, –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä –∑—É–ø–∏–Ω—è—î—Ç—å—Å—è.

## –ó—ñ–±—Ä–∞—Ç–∏ Docker-–æ–±—Ä–∞–∑ –¥–ª—è FastAPI { #build-a-docker-image-for-fastapi }

–ì–∞—Ä–∞–∑–¥, –∑–±–µ—Ä—ñ–º–æ —â–æ—Å—å –∑–∞—Ä–∞–∑! üöÄ

–Ø –ø–æ–∫–∞–∂—É –≤–∞–º, —è–∫ –∑—ñ–±—Ä–∞—Ç–∏ –æ–±—Ä–∞–∑ Docker –¥–ª—è FastAPI –∑ –Ω—É–ª—è –Ω–∞ –æ—Å–Ω–æ–≤—ñ –æ—Ñ—ñ—Ü—ñ–π–Ω–æ–≥–æ –æ–±—Ä–∞–∑—É Python.

–¶–µ —Ç–µ, —â–æ –≤–∏ –∑–∞—Ö–æ—á–µ—Ç–µ —Ä–æ–±–∏—Ç–∏ —É –±—ñ–ª—å—à–æ—Å—Ç—ñ –≤–∏–ø–∞–¥–∫—ñ–≤, –Ω–∞–ø—Ä–∏–∫–ª–∞–¥:

* –í–∏–∫–æ—Ä–∏—Å—Ç–∞–Ω–Ω—è Kubernetes –∞–±–æ –ø–æ–¥—ñ–±–Ω–∏—Ö —ñ–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç—ñ–≤
* –ü—ñ–¥ —á–∞—Å –∑–∞–ø—É—Å–∫—É –Ω–∞ Raspberry Pi
* –í–∏–∫–æ—Ä–∏—Å—Ç–∞–Ω–Ω—è —Ö–º–∞—Ä–Ω–æ–≥–æ —Å–µ—Ä–≤—ñ—Å—É, —è–∫–∏–π –∑–∞–ø—É—Å—Ç–∏—Ç—å –¥–ª—è –≤–∞—Å –æ–±—Ä–∞–∑ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∞ —Ç–æ—â–æ

### –í–∏–º–æ–≥–∏ –¥–æ –ø–∞–∫–µ—Ç—ñ–≤ { #package-requirements }

–ó–∞–∑–≤–∏—á–∞–π –≤–∏ –º–∞—î—Ç–µ –≤–∏–º–æ–≥–∏ –¥–æ –ø–∞–∫–µ—Ç—ñ–≤ –¥–ª—è –≤–∞—à–æ–≥–æ –∑–∞—Å—Ç–æ—Å—É–Ω–∫—É –≤ –æ–∫—Ä–µ–º–æ–º—É —Ñ–∞–π–ª—ñ.

–¶–µ –∑–∞–ª–µ–∂–∏—Ç—å –ø–µ—Ä–µ–≤–∞–∂–Ω–æ –≤—ñ–¥ —ñ–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç—É, —è–∫–∏–π –≤–∏ –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É—î—Ç–µ –¥–ª—è –≤—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–Ω—è —Ü–∏—Ö –≤–∏–º–æ–≥.

–ù–∞–π–ø–æ—à–∏—Ä–µ–Ω—ñ—à–∏–π —Å–ø–æ—Å—ñ–± - –º–∞—Ç–∏ —Ñ–∞–π–ª `requirements.txt` –∑ –Ω–∞–∑–≤–∞–º–∏ –ø–∞–∫–µ—Ç—ñ–≤ —ñ —ó—Ö–Ω—ñ–º–∏ –≤–µ—Ä—Å—ñ—è–º–∏, –ø–æ –æ–¥–Ω–æ–º—É –Ω–∞ —Ä—è–¥–æ–∫.

–ó–≤—ñ—Å–Ω–æ, –≤–∏ –∑–∞—Å—Ç–æ—Å—É—î—Ç–µ —Ç—ñ —Å–∞–º—ñ —ñ–¥–µ—ó –∑ [–ü—Ä–æ –≤–µ—Ä—Å—ñ—ó FastAPI](versions.md){.internal-link target=_blank}, —â–æ–± –∑–∞–¥–∞—Ç–∏ –¥—ñ–∞–ø–∞–∑–æ–Ω–∏ –≤–µ—Ä—Å—ñ–π.

–ù–∞–ø—Ä–∏–∫–ª–∞–¥, –≤–∞—à `requirements.txt` –º–æ–∂–µ –≤–∏–≥–ª—è–¥–∞—Ç–∏ —Ç–∞–∫:

```
fastapi[standard]>=0.113.0,<0.114.0
pydantic>=2.7.0,<3.0.0
```

–Ü –∑–∞–∑–≤–∏—á–∞–π –≤–∏ –≤—Å—Ç–∞–Ω–æ–≤–ª—é–≤–∞—Ç–∏–º–µ—Ç–µ —Ü—ñ –∑–∞–ª–µ–∂–Ω–æ—Å—Ç—ñ –ø–∞–∫–µ—Ç—ñ–≤ —á–µ—Ä–µ–∑ `pip`, –Ω–∞–ø—Ä–∏–∫–ª–∞–¥:

<div class="termy">

```console
$ pip install -r requirements.txt
---> 100%
Successfully installed fastapi pydantic
```

</div>

/// info | –Ü–Ω—Ñ–æ—Ä–º–∞—Ü—ñ—è

–Ü—Å–Ω—É—é—Ç—å —ñ–Ω—à—ñ —Ñ–æ—Ä–º–∞—Ç–∏ —Ç–∞ —ñ–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–∏ –¥–ª—è –≤–∏–∑–Ω–∞—á–µ–Ω–Ω—è —ñ –≤—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–Ω—è –∑–∞–ª–µ–∂–Ω–æ—Å—Ç–µ–π –ø–∞–∫–µ—Ç—ñ–≤.

///

### –°—Ç–≤–æ—Ä—ñ—Ç—å –∫–æ–¥ **FastAPI** { #create-the-fastapi-code }

* –°—Ç–≤–æ—Ä—ñ—Ç—å –¥–∏—Ä–µ–∫—Ç–æ—Ä—ñ—é `app` —ñ –ø–µ—Ä–µ–π–¥—ñ—Ç—å —É –Ω–µ—ó.
* –°—Ç–≤–æ—Ä—ñ—Ç—å –ø–æ—Ä–æ–∂–Ω—ñ–π —Ñ–∞–π–ª `__init__.py`.
* –°—Ç–≤–æ—Ä—ñ—Ç—å —Ñ–∞–π–ª `main.py` –∑ –≤–º—ñ—Å—Ç–æ–º:

```Python
from fastapi import FastAPI

app = FastAPI()


@app.get("/")
def read_root():
    return {"Hello": "World"}


@app.get("/items/{item_id}")
def read_item(item_id: int, q: str | None = None):
    return {"item_id": item_id, "q": q}
```

### Dockerfile { #dockerfile }

–¢–µ–ø–µ—Ä —É —Ç—ñ–π —Å–∞–º—ñ–π –¥–∏—Ä–µ–∫—Ç–æ—Ä—ñ—ó –ø—Ä–æ—î–∫—Ç—É —Å—Ç–≤–æ—Ä—ñ—Ç—å —Ñ–∞–π–ª `Dockerfile` –∑ –≤–º—ñ—Å—Ç–æ–º:

```{ .dockerfile .annotate }
# (1)!
FROM python:3.14

# (2)!
WORKDIR /code

# (3)!
COPY ./requirements.txt /code/requirements.txt

# (4)!
RUN pip install --no-cache-dir --upgrade -r /code/requirements.txt

# (5)!
COPY ./app /code/app

# (6)!
CMD ["fastapi", "run", "app/main.py", "--port", "80"]
```

1. –ü–æ—á–Ω—ñ—Ç—å –∑ –æ—Ñ—ñ—Ü—ñ–π–Ω–æ–≥–æ –±–∞–∑–æ–≤–æ–≥–æ –æ–±—Ä–∞–∑—É Python.

2. –í—Å—Ç–∞–Ω–æ–≤—ñ—Ç—å –ø–æ—Ç–æ—á–Ω—É —Ä–æ–±–æ—á—É –¥–∏—Ä–µ–∫—Ç–æ—Ä—ñ—é –≤ `/code`.

    –°–∞–º–µ —Å—é–¥–∏ –º–∏ –ø–æ–º—ñ—Å—Ç–∏–º–æ —Ñ–∞–π–ª `requirements.txt` —ñ –¥–∏—Ä–µ–∫—Ç–æ—Ä—ñ—é `app`.

3. –°–∫–æ–ø—ñ—é–π—Ç–µ —Ñ–∞–π–ª –∑ –≤–∏–º–æ–≥–∞–º–∏ –≤ –¥–∏—Ä–µ–∫—Ç–æ—Ä—ñ—é `/code`.

    –°–ø–æ—á–∞—Ç–∫—É —Å–∫–æ–ø—ñ—é–π—Ç–µ –ª–∏—à–µ —Ñ–∞–π–ª –∑ –≤–∏–º–æ–≥–∞–º–∏, –∞ –Ω–µ —Ä–µ—à—Ç—É –∫–æ–¥—É.

    –û—Å–∫—ñ–ª—å–∫–∏ —Ü–µ–π —Ñ–∞–π–ª –∑–º—ñ–Ω—é—î—Ç—å—Å—è –Ω–µ—á–∞—Å—Ç–æ, Docker –≤–∏—è–≤–∏—Ç—å —Ü–µ —ñ –≤–∏–∫–æ—Ä–∏—Å—Ç–∞—î –∫–µ—à –¥–ª—è —Ü—å–æ–≥–æ –∫—Ä–æ–∫—É, —â–æ —Ç–∞–∫–æ–∂ —É–≤—ñ–º–∫–Ω–µ –∫–µ—à —ñ –¥–ª—è –Ω–∞—Å—Ç—É–ø–Ω–æ–≥–æ –∫—Ä–æ–∫—É.

4. –í—Å—Ç–∞–Ω–æ–≤—ñ—Ç—å –∑–∞–ª–µ–∂–Ω–æ—Å—Ç—ñ –ø–∞–∫–µ—Ç—ñ–≤ —ñ–∑ —Ñ–∞–π–ª—É –≤–∏–º–æ–≥.

    –û–ø—Ü—ñ—è `--no-cache-dir` –∫–∞–∂–µ `pip` –Ω–µ –∑–±–µ—Ä—ñ–≥–∞—Ç–∏ –∑–∞–≤–∞–Ω—Ç–∞–∂–µ–Ω—ñ –ø–∞–∫–µ—Ç–∏ –ª–æ–∫–∞–ª—å–Ω–æ, –∞–¥–∂–µ —Ü–µ –ø–æ—Ç—Ä—ñ–±–Ω–æ –ª–∏—à–µ —Ç–æ–¥—ñ, —è–∫—â–æ `pip` –±—É–¥–µ –∑–∞–ø—É—â–µ–Ω–æ –∑–Ω–æ–≤—É –¥–ª—è –≤—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–Ω—è —Ç–∏—Ö —Å–∞–º–∏—Ö –ø–∞–∫–µ—Ç—ñ–≤, –∞–ª–µ –≤ —Ä–æ–±–æ—Ç—ñ –∑ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∞–º–∏ —Ü–µ –Ω–µ —Ç–∞–∫.

    /// note | –ü—Ä–∏–º—ñ—Ç–∫–∞

    `--no-cache-dir` —Å—Ç–æ—Å—É—î—Ç—å—Å—è –ª–∏—à–µ `pip`, —Ü–µ –Ω–µ –º–∞—î –≤—ñ–¥–Ω–æ—à–µ–Ω–Ω—è –¥–æ Docker —á–∏ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä—ñ–≤.

    ///

    –û–ø—Ü—ñ—è `--upgrade` –∫–∞–∂–µ `pip` –æ–Ω–æ–≤–∏—Ç–∏ –ø–∞–∫–µ—Ç–∏, —è–∫—â–æ –≤–æ–Ω–∏ –≤–∂–µ –≤—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω—ñ.

    –û—Å–∫—ñ–ª—å–∫–∏ –ø–æ–ø–µ—Ä–µ–¥–Ω—ñ–π –∫—Ä–æ–∫ –∫–æ–ø—ñ—é–≤–∞–Ω–Ω—è —Ñ–∞–π–ª—É –º–æ–∂–µ –±—É—Ç–∏ –≤–∏—è–≤–ª–µ–Ω–∏–π –∫–µ—à–µ–º Docker, —Ü–µ–π –∫—Ä–æ–∫ —Ç–∞–∫–æ–∂ –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É–≤–∞—Ç–∏–º–µ –∫–µ—à Docker, –∫–æ–ª–∏ —Ü–µ –º–æ–∂–ª–∏–≤–æ.

    –í–∏–∫–æ—Ä–∏—Å—Ç–∞–Ω–Ω—è –∫–µ—à—É –Ω–∞ —Ü—å–æ–º—É –∫—Ä–æ—Ü—ñ –∑–±–µ—Ä–µ–∂–µ –≤–∞–º –±–∞–≥–∞—Ç–æ —á–∞—Å—É –ø—ñ–¥ —á–∞—Å –ø–æ–≤—Ç–æ—Ä–Ω–∏—Ö –∑–±—ñ—Ä–æ–∫ –æ–±—Ä–∞–∑—É –≤ —Ä–æ–∑—Ä–æ–±—Ü—ñ, –∑–∞–º—ñ—Å—Ç—å —Ç–æ–≥–æ —â–æ–± –∑–∞–≤–∂–¥–∏ –∑–∞–≤–∞–Ω—Ç–∞–∂—É–≤–∞—Ç–∏ —ñ –≤—Å—Ç–∞–Ω–æ–≤–ª—é–≤–∞—Ç–∏ –≤—Å—ñ –∑–∞–ª–µ–∂–Ω–æ—Å—Ç—ñ.

5. –°–∫–æ–ø—ñ—é–π—Ç–µ –¥–∏—Ä–µ–∫—Ç–æ—Ä—ñ—é `./app` —É –¥–∏—Ä–µ–∫—Ç–æ—Ä—ñ—é `/code`.

    –û—Å–∫—ñ–ª—å–∫–∏ —Ç—É—Ç —É–≤–µ—Å—å –∫–æ–¥, —è–∫–∏–π –∑–º—ñ–Ω—é—î—Ç—å—Å—è –Ω–∞–π—á–∞—Å—Ç—ñ—à–µ, –∫–µ—à Docker –Ω–µ –±—É–¥–µ –ª–µ–≥–∫–æ –≤–∏–∫–æ—Ä–∏—Å—Ç–∞–Ω–∏–π –¥–ª—è —Ü—å–æ–≥–æ –∞–±–æ –±—É–¥—å-—è–∫–∏—Ö –Ω–∞—Å—Ç—É–ø–Ω–∏—Ö –∫—Ä–æ–∫—ñ–≤.

    –¢–æ–º—É –≤–∞–∂–ª–∏–≤–æ —Ä–æ–∑–º—ñ—Å—Ç–∏—Ç–∏ —Ü–µ –±–ª–∏–∂—á–µ –¥–æ –∫—ñ–Ω—Ü—è `Dockerfile`, —â–æ–± –æ–ø—Ç–∏–º—ñ–∑—É–≤–∞—Ç–∏ —á–∞—Å –∑–±—ñ—Ä–∫–∏ –æ–±—Ä–∞–∑—É –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∞.

6. –í—Å—Ç–∞–Ω–æ–≤—ñ—Ç—å –∫–æ–º–∞–Ω–¥—É –¥–ª—è –≤–∏–∫–æ—Ä–∏—Å—Ç–∞–Ω–Ω—è `fastapi run`, —è–∫–∞ –≤—Å–µ—Ä–µ–¥–∏–Ω—ñ –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É—î Uvicorn.

    `CMD` –ø—Ä–∏–π–º–∞—î —Å–ø–∏—Å–æ–∫ —Å—Ç—Ä–æ–∫, –∫–æ–∂–Ω–∞ –∑ —è–∫–∏—Ö - —Ü–µ —Ç–µ, —â–æ –≤–∏ –± –Ω–∞–±–∏—Ä–∞–ª–∏ –≤ –∫–æ–º–∞–Ω–¥–Ω–æ–º—É —Ä—è–¥–∫—É, —Ä–æ–∑–¥—ñ–ª–µ–Ω–µ –ø—Ä–æ–±—ñ–ª–∞–º–∏.

    –¶—è –∫–æ–º–∞–Ω–¥–∞ –±—É–¥–µ –≤–∏–∫–æ–Ω–∞–Ω–∞ –∑ –ø–æ—Ç–æ—á–Ω–æ—ó —Ä–æ–±–æ—á–æ—ó –¥–∏—Ä–µ–∫—Ç–æ—Ä—ñ—ó, —Ç—ñ—î—ó —Å–∞–º–æ—ó `/code`, —è–∫—É –≤–∏ –≤–∫–∞–∑–∞–ª–∏ –≤–∏—â–µ —á–µ—Ä–µ–∑ `WORKDIR /code`.

/// tip | –ü–æ—Ä–∞–¥–∞

–ü–µ—Ä–µ–≥–ª—è–Ω—å—Ç–µ, —â–æ —Ä–æ–±–∏—Ç—å –∫–æ–∂–µ–Ω —Ä—è–¥–æ–∫, –∫–ª–∞—Ü–Ω—É–≤—à–∏ –Ω–∞ –∫–æ–∂–Ω—É –Ω–æ–º–µ—Ä–Ω—É –ø–æ–∑–Ω–∞—á–∫—É –≤ –∫–æ–¥—ñ. üëÜ

///

/// warning | –ü–æ–ø–µ—Ä–µ–¥–∂–µ–Ω–Ω—è

–û–±–æ–≤‚Äô—è–∑–∫–æ–≤–æ –∑–∞–≤–∂–¥–∏ –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É–π—Ç–µ exec form —ñ–Ω—Å—Ç—Ä—É–∫—Ü—ñ—ó `CMD`, —è–∫ –ø–æ—è—Å–Ω–µ–Ω–æ –Ω–∏–∂—á–µ.

///

#### –í–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É–π—Ç–µ `CMD` - exec form { #use-cmd-exec-form }

–Ü–Ω—Å—Ç—Ä—É–∫—Ü—ñ—é Docker <a href="https://docs.docker.com/reference/dockerfile/#cmd" class="external-link" target="_blank">`CMD`</a> –º–æ–∂–Ω–∞ –∑–∞–ø–∏—Å–∞—Ç–∏ —É –¥–≤–æ—Ö —Ñ–æ—Ä–º–∞—Ö:

‚úÖ Exec form:

```Dockerfile
# ‚úÖ –†–æ–±—ñ—Ç—å —Ç–∞–∫
CMD ["fastapi", "run", "app/main.py", "--port", "80"]
```

‚õîÔ∏è Shell form:

```Dockerfile
# ‚õîÔ∏è –ù–µ —Ä–æ–±—ñ—Ç—å —Ç–∞–∫
CMD fastapi run app/main.py --port 80
```

–û–±–æ–≤‚Äô—è–∑–∫–æ–≤–æ –∑–∞–≤–∂–¥–∏ –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É–π—Ç–µ exec form, —â–æ–± FastAPI –º—ñ–≥ –∫–æ—Ä–µ–∫—Ç–Ω–æ –∑–∞–≤–µ—Ä—à—É–≤–∞—Ç–∏ —Ä–æ–±–æ—Ç—É —Ç–∞ —â–æ–± –±—É–ª–∏ –≤–∏–∫–ª–∏–∫–∞–Ω—ñ [–ø–æ–¥—ñ—ó —Ç—Ä–∏–≤–∞–ª–æ—Å—Ç—ñ –∂–∏—Ç—Ç—è](../advanced/events.md){.internal-link target=_blank}.

–î–æ–∫–ª–∞–¥–Ω—ñ—à–µ –ø—Ä–æ —Ü–µ –º–æ–∂–Ω–∞ –ø—Ä–æ—á–∏—Ç–∞—Ç–∏ –≤ <a href="https://docs.docker.com/reference/dockerfile/#shell-and-exec-form" class="external-link" target="_blank">–¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü—ñ—ó Docker –ø—Ä–æ shell —Ç–∞ exec form</a>.

–¶–µ –º–æ–∂–µ –±—É—Ç–∏ –æ—Å–æ–±–ª–∏–≤–æ –ø–æ–º—ñ—Ç–Ω–æ –ø—Ä–∏ –≤–∏–∫–æ—Ä–∏—Å—Ç–∞–Ω–Ω—ñ `docker compose`. –î–∏–≤. —Ä–æ–∑–¥—ñ–ª FAQ Docker Compose –¥–ª—è —Ç–µ—Ö–Ω—ñ—á–Ω–∏—Ö –¥–µ—Ç–∞–ª–µ–π: <a href="https://docs.docker.com/compose/faq/#why-do-my-services-take-10-seconds-to-recreate-or-stop" class="external-link" target="_blank">–ß–æ–º—É –º–æ—ó —Å–µ—Ä–≤—ñ—Å–∏ –ø–æ—Ç—Ä–µ–±—É—é—Ç—å 10 —Å–µ–∫—É–Ω–¥, —â–æ–± –ø–µ—Ä–µ—Å–æ—Ç–≤–æ—Ä–∏—Ç–∏—Å—è –∞–±–æ –∑—É–ø–∏–Ω–∏—Ç–∏—Å—è?</a>.

#### –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –¥–∏—Ä–µ–∫—Ç–æ—Ä—ñ–π { #directory-structure }

–ó–∞—Ä–∞–∑ —É –≤–∞—Å –º–∞—î –±—É—Ç–∏ —Ç–∞–∫–∞ —Å—Ç—Ä—É–∫—Ç—É—Ä–∞ –¥–∏—Ä–µ–∫—Ç–æ—Ä—ñ–π:

```
.
‚îú‚îÄ‚îÄ app
‚îÇ¬†¬† ‚îú‚îÄ‚îÄ __init__.py
‚îÇ   ‚îî‚îÄ‚îÄ main.py
‚îú‚îÄ‚îÄ Dockerfile
‚îî‚îÄ‚îÄ requirements.txt
```

#### –ó–∞ –ø—Ä–µ–¥—Å—Ç–∞–≤–Ω–∏–∫–æ–º –∑ —Ç–µ—Ä–º—ñ–Ω–∞—Ü—ñ—î—é TLS { #behind-a-tls-termination-proxy }

–Ø–∫—â–æ –≤–∏ –∑–∞–ø—É—Å–∫–∞—î—Ç–µ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä –∑–∞ –ø—Ä–µ–¥—Å—Ç–∞–≤–Ω–∏–∫–æ–º –∑ —Ç–µ—Ä–º—ñ–Ω–∞—Ü—ñ—î—é TLS (–±–∞–ª–∞–Ω—Å—É–≤–∞–ª—å–Ω–∏–∫–æ–º –Ω–∞–≤–∞–Ω—Ç–∞–∂–µ–Ω–Ω—è), –Ω–∞–ø—Ä–∏–∫–ª–∞–¥ Nginx –∞–±–æ Traefik, –¥–æ–¥–∞–π—Ç–µ –æ–ø—Ü—ñ—é `--proxy-headers`. –¶–µ —Å–∫–∞–∂–µ Uvicorn (—á–µ—Ä–µ–∑ CLI FastAPI) –¥–æ–≤—ñ—Ä—è—Ç–∏ –∑–∞–≥–æ–ª–æ–≤–∫–∞–º, —â–æ –Ω–∞–¥—Å–∏–ª–∞—é—Ç—å—Å—è —Ü–∏–º –ø—Ä–µ–¥—Å—Ç–∞–≤–Ω–∏–∫–æ–º, —è–∫—ñ –≤–∫–∞–∑—É—é—Ç—å, —â–æ –∑–∞—Å—Ç–æ—Å—É–Ω–æ–∫ –ø—Ä–∞—Ü—é—î –∑–∞ HTTPS —Ç–æ—â–æ.

```Dockerfile
CMD ["fastapi", "run", "app/main.py", "--proxy-headers", "--port", "80"]
```

#### –ö–µ—à Docker { #docker-cache }

–£ —Ü—å–æ–º—É `Dockerfile` —î –≤–∞–∂–ª–∏–≤–∏–π —Ç—Ä—é–∫: —Å–ø–æ—á–∞—Ç–∫—É –º–∏ –∫–æ–ø—ñ—é—î–º–æ –ª–∏—à–µ —Ñ–∞–π–ª —ñ–∑ –∑–∞–ª–µ–∂–Ω–æ—Å—Ç—è–º–∏, –∞ –Ω–µ —Ä–µ—à—Ç—É –∫–æ–¥—É. –û—Å—å —á–æ–º—É.

```Dockerfile
COPY ./requirements.txt /code/requirements.txt
```

Docker —Ç–∞ —ñ–Ω—à—ñ —ñ–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–∏ –∑–±–∏—Ä–∞—é—Ç—å —Ü—ñ –æ–±—Ä–∞–∑–∏ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä—ñ–≤ —ñ–Ω–∫—Ä–µ–º–µ–Ω—Ç–∞–ª—å–Ω–æ, –¥–æ–¥–∞—é—á–∏ –æ–¥–∏–Ω —à–∞—Ä –ø–æ–≤–µ—Ä—Ö —ñ–Ω—à–æ–≥–æ, –ø–æ—á–∏–Ω–∞—é—á–∏ –∑ –≤–µ—Ä—Ö–Ω—å–æ—ó —á–∞—Å—Ç–∏–Ω–∏ `Dockerfile` —ñ –¥–æ–¥–∞—é—á–∏ –±—É–¥—å-—è–∫—ñ —Ñ–∞–π–ª–∏, —Å—Ç–≤–æ—Ä–µ–Ω—ñ –∫–æ–∂–Ω–æ—é —ñ–Ω—Å—Ç—Ä—É–∫—Ü—ñ—î—é –≤ `Dockerfile`.

Docker —Ç–∞ –ø–æ–¥—ñ–±–Ω—ñ —ñ–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–∏ —Ç–∞–∫–æ–∂ –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É—é—Ç—å –≤–Ω—É—Ç—Ä—ñ—à–Ω—ñ–π –∫–µ—à –ø—ñ–¥ —á–∞—Å –∑–±—ñ—Ä–∫–∏ –æ–±—Ä–∞–∑—É. –Ø–∫—â–æ —Ñ–∞–π–ª –Ω–µ –∑–º—ñ–Ω—é–≤–∞–≤—Å—è –∑ –º–æ–º–µ–Ω—Ç—É –æ—Å—Ç–∞–Ω–Ω—å–æ—ó –∑–±—ñ—Ä–∫–∏, —Ç–æ–¥—ñ –≤—ñ–Ω –ø–æ–≤—Ç–æ—Ä–Ω–æ –≤–∏–∫–æ—Ä–∏—Å—Ç–∞—î —Ç–æ–π —Å–∞–º–∏–π —à–∞—Ä, —Å—Ç–≤–æ—Ä–µ–Ω–∏–π –≤–æ—Å—Ç–∞–Ω–Ω—î, –∑–∞–º—ñ—Å—Ç—å –∫–æ–ø—ñ—é–≤–∞–Ω–Ω—è —Ñ–∞–π–ª—É –∑–Ω–æ–≤—É —Ç–∞ —Å—Ç–≤–æ—Ä–µ–Ω–Ω—è –Ω–æ–≤–æ–≥–æ —à–∞—Ä—É –∑ –Ω—É–ª—è.

–ü—Ä–æ—Å—Ç–µ —É–Ω–∏–∫–Ω–µ–Ω–Ω—è –∫–æ–ø—ñ—é–≤–∞–Ω–Ω—è —Ñ–∞–π–ª—ñ–≤ –Ω–µ –æ–±–æ–≤‚Äô—è–∑–∫–æ–≤–æ —Å—É—Ç—Ç—î–≤–æ –ø–æ–∫—Ä–∞—â—É—î —Å–∏—Ç—É–∞—Ü—ñ—é, –∞–ª–µ –æ—Å–∫—ñ–ª—å–∫–∏ –¥–ª—è —Ü—å–æ–≥–æ –∫—Ä–æ–∫—É –≤–∏–∫–æ—Ä–∏—Å—Ç–∞–Ω–æ –∫–µ—à, –≤—ñ–Ω –º–æ–∂–µ –≤–∏–∫–æ—Ä–∏—Å—Ç–∞—Ç–∏ –∫–µ—à —ñ –¥–ª—è –Ω–∞—Å—Ç—É–ø–Ω–æ–≥–æ –∫—Ä–æ–∫—É. –ù–∞–ø—Ä–∏–∫–ª–∞–¥, –≤—ñ–Ω –º–æ–∂–µ –≤–∏–∫–æ—Ä–∏—Å—Ç–∞—Ç–∏ –∫–µ—à –¥–ª—è —ñ–Ω—Å—Ç—Ä—É–∫—Ü—ñ—ó, —è–∫–∞ –≤—Å—Ç–∞–Ω–æ–≤–ª—é—î –∑–∞–ª–µ–∂–Ω–æ—Å—Ç—ñ:

```Dockerfile
RUN pip install --no-cache-dir --upgrade -r /code/requirements.txt
```

–§–∞–π–ª —ñ–∑ –≤–∏–º–æ–≥–∞–º–∏ –¥–æ –ø–∞–∫–µ—Ç—ñ–≤ –∑–º—ñ–Ω—é–≤–∞—Ç–∏–º–µ—Ç—å—Å—è –Ω–µ—á–∞—Å—Ç–æ. –û—Ç–∂–µ, –∫–æ–ø—ñ—é—é—á–∏ –ª–∏—à–µ —Ü–µ–π —Ñ–∞–π–ª, Docker –∑–º–æ–∂–µ –≤–∏–∫–æ—Ä–∏—Å—Ç–∞—Ç–∏ –∫–µ—à –¥–ª—è —Ü—å–æ–≥–æ –∫—Ä–æ–∫—É.

–ê –ø–æ—Ç—ñ–º Docker –∑–º–æ–∂–µ –≤–∏–∫–æ—Ä–∏—Å—Ç–∞—Ç–∏ –∫–µ—à —ñ –¥–ª—è –Ω–∞—Å—Ç—É–ø–Ω–æ–≥–æ –∫—Ä–æ–∫—É, —è–∫–∏–π –∑–∞–≤–∞–Ω—Ç–∞–∂—É—î —Ç–∞ –≤—Å—Ç–∞–Ω–æ–≤–ª—é—î —Ü—ñ –∑–∞–ª–µ–∂–Ω–æ—Å—Ç—ñ. –Ü —Å–∞–º–µ —Ç—É—Ç –º–∏ –∑–∞–æ—â–∞–¥–∂—É—î–º–æ –±–∞–≥–∞—Ç–æ —á–∞—Å—É. ‚ú® ...—ñ —É–Ω–∏–∫–∞—î–º–æ –Ω—É–¥–Ω–æ–≥–æ –æ—á—ñ–∫—É–≤–∞–Ω–Ω—è. üò™üòÜ

–ó–∞–≤–∞–Ω—Ç–∞–∂–µ–Ω–Ω—è —ñ –≤—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–Ω—è –∑–∞–ª–µ–∂–Ω–æ—Å—Ç–µ–π –ø–∞–∫–µ—Ç—ñ–≤ –º–æ–∂–µ –∑–∞–π–º–∞—Ç–∏ —Ö–≤–∏–ª–∏–Ω–∏, –∞–ª–µ –≤–∏–∫–æ—Ä–∏—Å—Ç–∞–Ω–Ω—è –∫–µ—à—É –∑–∞–π–º–µ –º–∞–∫—Å–∏–º—É–º —Å–µ–∫—É–Ω–¥–∏.

–Ü –æ—Å–∫—ñ–ª—å–∫–∏ –≤–∏ –∑–±–∏—Ä–∞—Ç–∏–º–µ—Ç–µ –æ–±—Ä–∞–∑ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∞ –∑–Ω–æ–≤—É —ñ –∑–Ω–æ–≤—É –ø—ñ–¥ —á–∞—Å —Ä–æ–∑—Ä–æ–±–∫–∏, —â–æ–± –ø–µ—Ä–µ–≤—ñ—Ä—è—Ç–∏, —â–æ –∑–º—ñ–Ω–∏ —É –≤–∞—à–æ–º—É –∫–æ–¥—ñ –ø—Ä–∞—Ü—é—é—Ç—å, —Ü–µ –∑–∞–æ—â–∞–¥–∏—Ç—å –±–∞–≥–∞—Ç–æ –Ω–∞–∫–æ–ø–∏—á–µ–Ω–æ–≥–æ —á–∞—Å—É.

–ü–æ—Ç—ñ–º, –±–ª–∏–∂—á–µ –¥–æ –∫—ñ–Ω—Ü—è `Dockerfile`, –º–∏ –∫–æ–ø—ñ—é—î–º–æ –≤–µ—Å—å –∫–æ–¥. –û—Å–∫—ñ–ª—å–∫–∏ —Ü–µ —Ç–µ, —â–æ –∑–º—ñ–Ω—é—î—Ç—å—Å—è –Ω–∞–π—á–∞—Å—Ç—ñ—à–µ, –º–∏ —Ä–æ–∑–º—ñ—â—É—î–º–æ —Ü–µ –±–ª–∏–∂—á–µ –¥–æ –∫—ñ–Ω—Ü—è, –∞–¥–∂–µ –º–∞–π–∂–µ –∑–∞–≤–∂–¥–∏ –≤—Å–µ –ø—ñ—Å–ª—è —Ü—å–æ–≥–æ –∫—Ä–æ–∫—É –Ω–µ –∑–º–æ–∂–µ –≤–∏–∫–æ—Ä–∏—Å—Ç–∞—Ç–∏ –∫–µ—à.

```Dockerfile
COPY ./app /code/app
```

### –ó–±–µ—Ä—ñ—Ç—å Docker-–æ–±—Ä–∞–∑ { #build-the-docker-image }

–¢–µ–ø–µ—Ä, –∫–æ–ª–∏ –≤—Å—ñ —Ñ–∞–π–ª–∏ –Ω–∞ –º—ñ—Å—Ü—ñ, –∑–±–µ—Ä—ñ–º–æ –æ–±—Ä–∞–∑ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∞.

* –ü–µ—Ä–µ–π–¥—ñ—Ç—å —É –¥–∏—Ä–µ–∫—Ç–æ—Ä—ñ—é –ø—Ä–æ—î–∫—Ç—É (–¥–µ –≤–∞—à `Dockerfile`, —è–∫–∏–π –º—ñ—Å—Ç–∏—Ç—å –¥–∏—Ä–µ–∫—Ç–æ—Ä—ñ—é `app`).
* –ó–±–µ—Ä—ñ—Ç—å –≤–∞—à –æ–±—Ä–∞–∑ FastAPI:

<div class="termy">

```console
$ docker build -t myimage .

---> 100%
```

</div>

/// tip | –ü–æ—Ä–∞–¥–∞

–ó–≤–µ—Ä–Ω—ñ—Ç—å —É–≤–∞–≥—É –Ω–∞ `.` –≤ –∫—ñ–Ω—Ü—ñ. –¶–µ –µ–∫–≤—ñ–≤–∞–ª–µ–Ω—Ç `./`. –í–æ–Ω–æ –∫–∞–∂–µ Docker, —è–∫—É –¥–∏—Ä–µ–∫—Ç–æ—Ä—ñ—é –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É–≤–∞—Ç–∏ –¥–ª—è –∑–±—ñ—Ä–∫–∏ –æ–±—Ä–∞–∑—É –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∞.

–£ —Ü—å–æ–º—É –≤–∏–ø–∞–¥–∫—É - —Ü–µ –ø–æ—Ç–æ—á–Ω–∞ –¥–∏—Ä–µ–∫—Ç–æ—Ä—ñ—è (`.`).

///

### –ó–∞–ø—É—Å—Ç—ñ—Ç—å Docker-–∫–æ–Ω—Ç–µ–π–Ω–µ—Ä { #start-the-docker-container }

* –ó–∞–ø—É—Å—Ç—ñ—Ç—å –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä –Ω–∞ –æ—Å–Ω–æ–≤—ñ –≤–∞—à–æ–≥–æ –æ–±—Ä–∞–∑—É:

<div class="termy">

```console
$ docker run -d --name mycontainer -p 80:80 myimage
```

</div>

## –ü–µ—Ä–µ–≤—ñ—Ä—Ç–µ { #check-it }

–í–∏ –º–∞—î—Ç–µ –∑–º–æ–≥—É –ø–µ—Ä–µ–≤—ñ—Ä–∏—Ç–∏ —Ü–µ –∑–∞ URL –≤–∞—à–æ–≥–æ Docker-–∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∞, –Ω–∞–ø—Ä–∏–∫–ª–∞–¥: <a href="http://192.168.99.100/items/5?q=somequery" class="external-link" target="_blank">http://192.168.99.100/items/5?q=somequery</a> –∞–±–æ <a href="http://127.0.0.1/items/5?q=somequery" class="external-link" target="_blank">http://127.0.0.1/items/5?q=somequery</a> (–∞–±–æ –µ–∫–≤—ñ–≤–∞–ª–µ–Ω—Ç, –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É—é—á–∏ –≤–∞—à Docker-—Ö–æ—Å—Ç).

–í–∏ –ø–æ–±–∞—á–∏—Ç–µ —â–æ—Å—å —Ç–∞–∫–µ:

```JSON
{"item_id": 5, "q": "somequery"}
```

## –Ü–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω–∞ –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü—ñ—è API { #interactive-api-docs }

–¢–µ–ø–µ—Ä –≤–∏ –º–æ–∂–µ—Ç–µ –ø–µ—Ä–µ–π—Ç–∏ –Ω–∞ <a href="http://192.168.99.100/docs" class="external-link" target="_blank">http://192.168.99.100/docs</a> –∞–±–æ <a href="http://127.0.0.1/docs" class="external-link" target="_blank">http://127.0.0.1/docs</a> (–∞–±–æ –µ–∫–≤—ñ–≤–∞–ª–µ–Ω—Ç, –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É—é—á–∏ –≤–∞—à Docker-—Ö–æ—Å—Ç).

–í–∏ –ø–æ–±–∞—á–∏—Ç–µ –∞–≤—Ç–æ–º–∞—Ç–∏—á–Ω—É —ñ–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω—É –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü—ñ—é API (–Ω–∞–¥–∞—î—Ç—å—Å—è <a href="https://github.com/swagger-api/swagger-ui" class="external-link" target="_blank">Swagger UI</a>):

![Swagger UI](https://fastapi.tiangolo.com/img/index/index-01-swagger-ui-simple.png)

## –ê–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤–Ω–∞ –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü—ñ—è API { #alternative-api-docs }

–¢–∞–∫–æ–∂ –≤–∏ –º–æ–∂–µ—Ç–µ –ø–µ—Ä–µ–π—Ç–∏ –Ω–∞ <a href="http://192.168.99.100/redoc" class="external-link" target="_blank">http://192.168.99.100/redoc</a> –∞–±–æ <a href="http://127.0.0.1/redoc" class="external-link" target="_blank">http://127.0.0.1/redoc</a> (–∞–±–æ –µ–∫–≤—ñ–≤–∞–ª–µ–Ω—Ç, –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É—é—á–∏ –≤–∞—à Docker-—Ö–æ—Å—Ç).

–í–∏ –ø–æ–±–∞—á–∏—Ç–µ –∞–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤–Ω—É –∞–≤—Ç–æ–º–∞—Ç–∏—á–Ω—É –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü—ñ—é (–Ω–∞–¥–∞—î—Ç—å—Å—è <a href="https://github.com/Rebilly/ReDoc" class="external-link" target="_blank">ReDoc</a>):

![ReDoc](https://fastapi.tiangolo.com/img/index/index-02-redoc-simple.png)

## –ó–±—ñ—Ä–∫–∞ Docker-–æ–±—Ä–∞–∑—É –∑ FastAPI –≤ –æ–¥–Ω–æ–º—É —Ñ–∞–π–ª—ñ { #build-a-docker-image-with-a-single-file-fastapi }

–Ø–∫—â–æ –≤–∞—à FastAPI - —Ü–µ –æ–¥–∏–Ω —Ñ–∞–π–ª, –Ω–∞–ø—Ä–∏–∫–ª–∞–¥ `main.py` –±–µ–∑ –¥–∏—Ä–µ–∫—Ç–æ—Ä—ñ—ó `./app`, —Å—Ç—Ä—É–∫—Ç—É—Ä–∞ —Ñ–∞–π–ª—ñ–≤ –º–æ–∂–µ –≤–∏–≥–ª—è–¥–∞—Ç–∏ —Ç–∞–∫:

```
.
‚îú‚îÄ‚îÄ Dockerfile
‚îú‚îÄ‚îÄ main.py
‚îî‚îÄ‚îÄ requirements.txt
```

–¢–æ–¥—ñ –≤–∞–º –ø–æ—Ç—Ä—ñ–±–Ω–æ –ª–∏—à–µ –∑–º—ñ–Ω–∏—Ç–∏ –≤—ñ–¥–ø–æ–≤—ñ–¥–Ω—ñ —à–ª—è—Ö–∏ –¥–ª—è –∫–æ–ø—ñ—é–≤–∞–Ω–Ω—è —Ñ–∞–π–ª—É –≤—Å–µ—Ä–µ–¥–∏–Ω—ñ `Dockerfile`:

```{ .dockerfile .annotate hl_lines="10  13" }
FROM python:3.14

WORKDIR /code

COPY ./requirements.txt /code/requirements.txt

RUN pip install --no-cache-dir --upgrade -r /code/requirements.txt

# (1)!
COPY ./main.py /code/

# (2)!
CMD ["fastapi", "run", "main.py", "--port", "80"]
```

1. –°–∫–æ–ø—ñ—é–π—Ç–µ —Ñ–∞–π–ª `main.py` –±–µ–∑–ø–æ—Å–µ—Ä–µ–¥–Ω—å–æ —É –¥–∏—Ä–µ–∫—Ç–æ—Ä—ñ—é `/code` (–±–µ–∑ –±—É–¥—å-—è–∫–æ—ó –¥–∏—Ä–µ–∫—Ç–æ—Ä—ñ—ó `./app`).

2. –í–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É–π—Ç–µ `fastapi run`, —â–æ–± –æ–±—Å–ª—É–≥–æ–≤—É–≤–∞—Ç–∏ –≤–∞—à –∑–∞—Å—Ç–æ—Å—É–Ω–æ–∫ –∑ –æ–¥–Ω–æ–≥–æ —Ñ–∞–π–ª—É `main.py`.

–ö–æ–ª–∏ –≤–∏ –ø–µ—Ä–µ–¥–∞—î—Ç–µ —Ñ–∞–π–ª —É `fastapi run`, –≤–æ–Ω–æ –∞–≤—Ç–æ–º–∞—Ç–∏—á–Ω–æ –≤–∏–∑–Ω–∞—á–∏—Ç—å, —â–æ —Ü–µ –æ–¥–∏–Ω —Ñ–∞–π–ª, –∞ –Ω–µ —á–∞—Å—Ç–∏–Ω–∞ –ø–∞–∫–µ—Ç–∞, —ñ –∑–Ω–∞—Ç–∏–º–µ, —è–∫ —ñ–º–ø–æ—Ä—Ç—É–≤–∞—Ç–∏ –π–æ–≥–æ —Ç–∞ –∑–∞–ø—É—Å—Ç–∏—Ç–∏ –≤–∞—à –∑–∞—Å—Ç–æ—Å—É–Ω–æ–∫ FastAPI. üòé

## –ö–æ–Ω—Ü–µ–ø—Ü—ñ—ó —Ä–æ–∑–≥–æ—Ä—Ç–∞–Ω–Ω—è { #deployment-concepts }

–ü–æ–≥–æ–≤–æ—Ä—ñ–º–æ –∑–Ω–æ–≤—É –ø—Ä–æ –¥–µ—è–∫—ñ –∑ —Ç–∏—Ö —Å–∞–º–∏—Ö [–ö–æ–Ω—Ü–µ–ø—Ü—ñ–π —Ä–æ–∑–≥–æ—Ä—Ç–∞–Ω–Ω—è](concepts.md){.internal-link target=_blank} —É —Ç–µ—Ä–º—ñ–Ω–∞—Ö –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä—ñ–≤.

–ö–æ–Ω—Ç–µ–π–Ω–µ—Ä–∏ - —Ü–µ –ø–µ—Ä–µ–≤–∞–∂–Ω–æ —ñ–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç –¥–ª—è —Å–ø—Ä–æ—â–µ–Ω–Ω—è –ø—Ä–æ—Ü–µ—Å—É –∑–±–∏—Ä–∞–Ω–Ω—è —Ç–∞ —Ä–æ–∑–≥–æ—Ä—Ç–∞–Ω–Ω—è –∑–∞—Å—Ç–æ—Å—É–Ω–∫—É, –∞–ª–µ –≤–æ–Ω–∏ –Ω–µ –Ω–∞–≤‚Äô—è–∑—É—é—Ç—å –∫–æ–Ω–∫—Ä–µ—Ç–Ω–∏–π –ø—ñ–¥—Ö—ñ–¥ –¥–æ –æ–±—Ä–æ–±–∫–∏ —Ü–∏—Ö –∫–æ–Ω—Ü–µ–ø—Ü—ñ–π —Ä–æ–∑–≥–æ—Ä—Ç–∞–Ω–Ω—è, —ñ —ñ—Å–Ω—É—î –∫—ñ–ª—å–∫–∞ –º–æ–∂–ª–∏–≤–∏—Ö —Å—Ç—Ä–∞—Ç–µ–≥—ñ–π.

–ì–∞—Ä–Ω–∞ –Ω–æ–≤–∏–Ω–∞ –ø–æ–ª—è–≥–∞—î –≤ —Ç–æ–º—É, —â–æ –¥–ª—è –∫–æ–∂–Ω–æ—ó —Å—Ç—Ä–∞—Ç–µ–≥—ñ—ó —î —Å–ø–æ—Å—ñ–± –ø–æ–∫—Ä–∏—Ç–∏ –≤—Å—ñ –∫–æ–Ω—Ü–µ–ø—Ü—ñ—ó —Ä–æ–∑–≥–æ—Ä—Ç–∞–Ω–Ω—è. üéâ

–†–æ–∑–≥–ª—è–Ω—å–º–æ —Ü—ñ –∫–æ–Ω—Ü–µ–ø—Ü—ñ—ó —Ä–æ–∑–≥–æ—Ä—Ç–∞–Ω–Ω—è –≤ –∫–æ–Ω—Ç–µ–∫—Å—Ç—ñ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä—ñ–≤:

* HTTPS
* –ê–≤—Ç–æ–∑–∞–ø—É—Å–∫
* –ü–µ—Ä–µ–∑–∞–ø—É—Å–∫–∏
* –†–µ–ø–ª—ñ–∫–∞—Ü—ñ—è (–∫—ñ–ª—å–∫—ñ—Å—Ç—å –∑–∞–ø—É—â–µ–Ω–∏—Ö –ø—Ä–æ—Ü–µ—Å—ñ–≤)
* –ü–∞–º‚Äô—è—Ç—å
* –ü–æ–ø–µ—Ä–µ–¥–Ω—ñ –∫—Ä–æ–∫–∏ –ø–µ—Ä–µ–¥ –∑–∞–ø—É—Å–∫–æ–º

## HTTPS { #https }

–Ø–∫—â–æ –∑–æ—Å–µ—Ä–µ–¥–∏—Ç–∏—Å—å –ª–∏—à–µ –Ω–∞ –æ–±—Ä–∞–∑—ñ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∞ –¥–ª—è –∑–∞—Å—Ç–æ—Å—É–Ω–∫—É FastAPI (–∞ –∑–≥–æ–¥–æ–º –Ω–∞ –∑–∞–ø—É—â–µ–Ω–æ–º—É –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä—ñ), HTTPS –∑–∞–∑–≤–∏—á–∞–π –æ–±—Ä–æ–±–ª—è—î—Ç—å—Å—è –∑–æ–≤–Ω—ñ—à–Ω—ñ–º —ñ–Ω—à–∏–º —ñ–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–æ–º.

–¶–µ –º–æ–∂–µ –±—É—Ç–∏ —ñ–Ω—à–∏–π –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä, –Ω–∞–ø—Ä–∏–∫–ª–∞–¥ –∑ <a href="https://traefik.io/" class="external-link" target="_blank">Traefik</a>, —â–æ –æ–±—Ä–æ–±–ª—è—î HTTPS —ñ –∞–≤—Ç–æ–º–∞—Ç–∏—á–Ω–µ –æ—Ç—Ä–∏–º–∞–Ω–Ω—è —Å–µ—Ä—Ç–∏—Ñ—ñ–∫–∞—Ç—ñ–≤.

/// tip | –ü–æ—Ä–∞–¥–∞

Traefik –º–∞—î —ñ–Ω—Ç–µ–≥—Ä–∞—Ü—ñ—ó –∑ Docker, Kubernetes —Ç–∞ —ñ–Ω—à–∏–º–∏, —Ç–æ–∂ –Ω–∞–ª–∞—à—Ç—É–≤–∞—Ç–∏ —ñ —Å–∫–æ–Ω—Ñ—ñ–≥—É—Ä—É–≤–∞—Ç–∏ HTTPS –¥–ª—è –≤–∞—à–∏—Ö –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä—ñ–≤ –∑ –Ω–∏–º –¥—É–∂–µ –ø—Ä–æ—Å—Ç–æ.

///

–ê–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤–Ω–æ, HTTPS –º–æ–∂–µ –æ–±—Ä–æ–±–ª—è—Ç–∏—Å—å —Ö–º–∞—Ä–Ω–∏–º –ø—Ä–æ–≤–∞–π–¥–µ—Ä–æ–º —è–∫ –æ–¥–∏–Ω –∑ —ó—Ö–Ω—ñ—Ö —Å–µ—Ä–≤—ñ—Å—ñ–≤ (–ø—Ä–∏ —Ü—å–æ–º—É –∑–∞—Å—Ç–æ—Å—É–Ω–æ–∫ —É—Å–µ —â–µ –ø—Ä–∞—Ü—é—î –≤ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä—ñ).

## –ê–≤—Ç–æ–∑–∞–ø—É—Å–∫ —ñ –ø–µ—Ä–µ–∑–∞–ø—É—Å–∫–∏ { #running-on-startup-and-restarts }

–ó–∞–∑–≤–∏—á–∞–π —ñ–Ω—à–∏–π —ñ–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç –≤—ñ–¥–ø–æ–≤—ñ–¥–∞—î –∑–∞ –∑–∞–ø—É—Å–∫ —ñ –≤–∏–∫–æ–Ω–∞–Ω–Ω—è –≤–∞—à–æ–≥–æ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∞.

–¶–µ –º–æ–∂–µ –±—É—Ç–∏ –±–µ–∑–ø–æ—Å–µ—Ä–µ–¥–Ω—å–æ Docker, Docker Compose, Kubernetes, —Ö–º–∞—Ä–Ω–∏–π —Å–µ—Ä–≤—ñ—Å —Ç–æ—â–æ.

–£ –±—ñ–ª—å—à–æ—Å—Ç—ñ (–∞–±–æ –≤—Å—ñ—Ö) –≤–∏–ø–∞–¥–∫—ñ–≤ —î –ø—Ä–æ—Å—Ç–∞ –æ–ø—Ü—ñ—è, —â–æ–± —É–≤—ñ–º–∫–Ω—É—Ç–∏ –∑–∞–ø—É—Å–∫ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∞ –ø—Ä–∏ —Å—Ç–∞—Ä—Ç—ñ —Å–∏—Å—Ç–µ–º–∏ —Ç–∞ –ø–µ—Ä–µ–∑–∞–ø—É—Å–∫–∏ —É —Ä–∞–∑—ñ –∑–±–æ—ó–≤. –ù–∞–ø—Ä–∏–∫–ª–∞–¥, —É Docker —Ü–µ –æ–ø—Ü—ñ—è –∫–æ–º–∞–Ω–¥–Ω–æ–≥–æ —Ä—è–¥–∫–∞ `--restart`.

–ë–µ–∑ –≤–∏–∫–æ—Ä–∏—Å—Ç–∞–Ω–Ω—è –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä—ñ–≤ –∑–º—É—Å–∏—Ç–∏ –∑–∞—Å—Ç–æ—Å—É–Ω–∫–∏ –∑–∞–ø—É—Å–∫–∞—Ç–∏—Å—è –ø—Ä–∏ —Å—Ç–∞—Ä—Ç—ñ —Å–∏—Å—Ç–µ–º–∏ —Ç–∞ –∑ –ø–µ—Ä–µ–∑–∞–ø—É—Å–∫–∞–º–∏ –º–æ–∂–µ –±—É—Ç–∏ –∫–ª–æ–ø—ñ—Ç–Ω–æ —ñ —Å–∫–ª–∞–¥–Ω–æ. –ê–ª–µ –ø—ñ–¥ —á–∞—Å —Ä–æ–±–æ—Ç–∏ –∑ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∞–º–∏ —É –±—ñ–ª—å—à–æ—Å—Ç—ñ –≤–∏–ø–∞–¥–∫—ñ–≤ —Ü—è —Ñ—É–Ω–∫—Ü—ñ–æ–Ω–∞–ª—å–Ω—ñ—Å—Ç—å –≤–±—É–¥–æ–≤–∞–Ω–∞ –∑–∞ –∑–∞–º–æ–≤—á—É–≤–∞–Ω–Ω—è–º. ‚ú®

## –†–µ–ø–ª—ñ–∫–∞—Ü—ñ—è - –∫—ñ–ª—å–∫—ñ—Å—Ç—å –ø—Ä–æ—Ü–µ—Å—ñ–≤ { #replication-number-of-processes }

–Ø–∫—â–æ —É –≤–∞—Å —î <dfn title="–ì—Ä—É–ø–∞ –º–∞—à–∏–Ω, –Ω–∞–ª–∞—à—Ç–æ–≤–∞–Ω–∏—Ö –±—É—Ç–∏ –∑'—î–¥–Ω–∞–Ω–∏–º–∏ —Ç–∞ –ø—Ä–∞—Ü—é–≤–∞—Ç–∏ —Ä–∞–∑–æ–º –ø–µ–≤–Ω–∏–º —á–∏–Ω–æ–º.">–∫–ª–∞—Å—Ç–µ—Ä</dfn> –º–∞—à–∏–Ω —ñ–∑ Kubernetes, Docker Swarm Mode, Nomad –∞–±–æ —ñ–Ω—à–æ—é –ø–æ–¥—ñ–±–Ω–æ—é —Å–∫–ª–∞–¥–Ω–æ—é —Å–∏—Å—Ç–µ–º–æ—é –¥–ª—è –∫–µ—Ä—É–≤–∞–Ω–Ω—è —Ä–æ–∑–ø–æ–¥—ñ–ª–µ–Ω–∏–º–∏ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∞–º–∏ –Ω–∞ –∫—ñ–ª—å–∫–æ—Ö –º–∞—à–∏–Ω–∞—Ö, —Ç–æ–¥—ñ –≤–∏, –π–º–æ–≤—ñ—Ä–Ω–æ, –∑–∞—Ö–æ—á–µ—Ç–µ –æ–±—Ä–æ–±–ª—è—Ç–∏ —Ä–µ–ø–ª—ñ–∫–∞—Ü—ñ—é –Ω–∞ —Ä—ñ–≤–Ω—ñ –∫–ª–∞—Å—Ç–µ—Ä–∞ –∑–∞–º—ñ—Å—Ç—å –≤–∏–∫–æ—Ä–∏—Å—Ç–∞–Ω–Ω—è –º–µ–Ω–µ–¥–∂–µ—Ä–∞ –ø—Ä–æ—Ü–µ—Å—ñ–≤ (—è–∫-–æ—Ç Uvicorn –∑ –ø—Ä–∞—Ü—ñ–≤–Ω–∏–∫–∞–º–∏) —É –∫–æ–∂–Ω–æ–º—É –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä—ñ.

–û–¥–Ω–∞ –∑ —Ç–∞–∫–∏—Ö —Ä–æ–∑–ø–æ–¥—ñ–ª–µ–Ω–∏—Ö —Å–∏—Å—Ç–µ–º –∫–µ—Ä—É–≤–∞–Ω–Ω—è –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∞–º–∏, —è–∫-–æ—Ç Kubernetes, –∑–∞–∑–≤–∏—á–∞–π –º–∞—î —ñ–Ω—Ç–µ–≥—Ä–æ–≤–∞–Ω—ñ —Å–ø–æ—Å–æ–±–∏ –æ–±—Ä–æ–±–ª—è—Ç–∏ —Ä–µ–ø–ª—ñ–∫–∞—Ü—ñ—é –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä—ñ–≤, –ø—ñ–¥—Ç—Ä–∏–º—É—é—á–∏ –≤–æ–¥–Ω–æ—á–∞—Å –±–∞–ª–∞–Ω—Å—É–≤–∞–Ω–Ω—è –Ω–∞–≤–∞–Ω—Ç–∞–∂–µ–Ω–Ω—è –¥–ª—è –≤—Ö—ñ–¥–Ω–∏—Ö –∑–∞–ø–∏—Ç—ñ–≤. –£—Å–µ —Ü–µ - –Ω–∞ —Ä—ñ–≤–Ω—ñ –∫–ª–∞—Å—Ç–µ—Ä–∞.

–£ —Ç–∞–∫–∏—Ö –≤–∏–ø–∞–¥–∫–∞—Ö –≤–∏, –π–º–æ–≤—ñ—Ä–Ω–æ, –∑–∞—Ö–æ—á–µ—Ç–µ –∑—ñ–±—Ä–∞—Ç–∏ Docker-–æ–±—Ä–∞–∑ –∑ –Ω—É–ª—è, —è–∫ [–ø–æ—è—Å–Ω–µ–Ω–æ –≤–∏—â–µ](#dockerfile), –≤—Å—Ç–∞–Ω–æ–≤–∏–≤—à–∏ –≤–∞—à—ñ –∑–∞–ª–µ–∂–Ω–æ—Å—Ç—ñ —ñ –∑–∞–ø—É—Å—Ç–∏–≤—à–∏ –æ–¥–∏–Ω –ø—Ä–æ—Ü–µ—Å Uvicorn –∑–∞–º—ñ—Å—Ç—å –≤–∏–∫–æ—Ä–∏—Å—Ç–∞–Ω–Ω—è –∫—ñ–ª—å–∫–æ—Ö –ø—Ä–∞—Ü—ñ–≤–Ω–∏–∫—ñ–≤ Uvicorn.

### –ë–∞–ª–∞–Ω—Å—É–≤–∞–ª—å–Ω–∏–∫ –Ω–∞–≤–∞–Ω—Ç–∞–∂–µ–Ω–Ω—è { #load-balancer }

–ü—Ä–∏ –≤–∏–∫–æ—Ä–∏—Å—Ç–∞–Ω–Ω—ñ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä—ñ–≤ –∑–∞–∑–≤–∏—á–∞–π —î —è–∫–∏–π—Å—å –∫–æ–º–ø–æ–Ω–µ–Ω—Ç, —â–æ —Å–ª—É—Ö–∞—î –Ω–∞ –≥–æ–ª–æ–≤–Ω–æ–º—É –ø–æ—Ä—Ç—É. –¶–µ –º–æ–∂–µ –±—É—Ç–∏ —ñ–Ω—à–∏–π –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä, —è–∫–∏–π —Ç–∞–∫–æ–∂ —î –ø—Ä–µ–¥—Å—Ç–∞–≤–Ω–∏–∫–æ–º –∑ —Ç–µ—Ä–º—ñ–Ω–∞—Ü—ñ—î—é TLS –¥–ª—è –æ–±—Ä–æ–±–∫–∏ HTTPS, –∞–±–æ –ø–æ–¥—ñ–±–Ω–∏–π —ñ–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç.

–û—Å–∫—ñ–ª—å–∫–∏ —Ü–µ–π –∫–æ–º–ø–æ–Ω–µ–Ω—Ç –ø—Ä–∏–π–º–∞—î –Ω–∞–≤–∞–Ω—Ç–∞–∂–µ–Ω–Ω—è –∑–∞–ø–∏—Ç—ñ–≤ —ñ —Ä–æ–∑–ø–æ–¥—ñ–ª—è—î –π–æ–≥–æ –º—ñ–∂ –ø—Ä–∞—Ü—ñ–≤–Ω–∏–∫–∞–º–∏ (—Å–ø–æ–¥—ñ–≤–∞—î–º–æ—Å—å) –∑–±–∞–ª–∞–Ω—Å–æ–≤–∞–Ω–æ, –π–æ–≥–æ —Ç–∞–∫–æ–∂ —á–∞—Å—Ç–æ –Ω–∞–∑–∏–≤–∞—é—Ç—å –±–∞–ª–∞–Ω—Å—É–≤–∞–ª—å–Ω–∏–∫–æ–º –Ω–∞–≤–∞–Ω—Ç–∞–∂–µ–Ω–Ω—è.

/// tip | –ü–æ—Ä–∞–¥–∞

–¢–æ–π —Å–∞–º–∏–π –∫–æ–º–ø–æ–Ω–µ–Ω—Ç –ø—Ä–µ–¥—Å—Ç–∞–≤–Ω–∏–∫–∞ –∑ —Ç–µ—Ä–º—ñ–Ω–∞—Ü—ñ—î—é TLS, —â–æ –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É—î—Ç—å—Å—è –¥–ª—è HTTPS, —à–≤–∏–¥—à–µ –∑–∞ –≤—Å–µ, —Ç–∞–∫–æ–∂ –±—É–¥–µ –±–∞–ª–∞–Ω—Å—É–≤–∞–ª—å–Ω–∏–∫–æ–º –Ω–∞–≤–∞–Ω—Ç–∞–∂–µ–Ω–Ω—è.

///

–Ü –ø—ñ–¥ —á–∞—Å —Ä–æ–±–æ—Ç–∏ –∑ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∞–º–∏ —Ç–∞ —Å–∞–º–∞ —Å–∏—Å—Ç–µ–º–∞, —è–∫—É –≤–∏ –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É—î—Ç–µ –¥–ª—è —ó—Ö –∑–∞–ø—É—Å–∫—É —ñ –∫–µ—Ä—É–≤–∞–Ω–Ω—è –Ω–∏–º–∏, –≤–∂–µ –º–∞—Ç–∏–º–µ –≤–Ω—É—Ç—Ä—ñ—à–Ω—ñ —ñ–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–∏ –¥–ª—è –ø–µ—Ä–µ–¥–∞–≤–∞–Ω–Ω—è –º–µ—Ä–µ–∂–µ–≤–æ—ó –∫–æ–º—É–Ω—ñ–∫–∞—Ü—ñ—ó (–Ω–∞–ø—Ä–∏–∫–ª–∞–¥, HTTP-–∑–∞–ø–∏—Ç—ñ–≤) –≤—ñ–¥ —Ü—å–æ–≥–æ –±–∞–ª–∞–Ω—Å—É–≤–∞–ª—å–Ω–∏–∫–∞ –Ω–∞–≤–∞–Ω—Ç–∞–∂–µ–Ω–Ω—è (—è–∫–∏–π —Ç–∞–∫–æ–∂ –º–æ–∂–µ –±—É—Ç–∏ –ø—Ä–µ–¥—Å—Ç–∞–≤–Ω–∏–∫–æ–º –∑ —Ç–µ—Ä–º—ñ–Ω–∞—Ü—ñ—î—é TLS) –¥–æ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä—ñ–≤ —ñ–∑ –≤–∞—à–∏–º –∑–∞—Å—Ç–æ—Å—É–Ω–∫–æ–º.

### –û–¥–∏–Ω –±–∞–ª–∞–Ω—Å—É–≤–∞–ª—å–Ω–∏–∫ –Ω–∞–≤–∞–Ω—Ç–∞–∂–µ–Ω–Ω—è - –∫—ñ–ª—å–∫–∞ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä—ñ–≤-–ø—Ä–∞—Ü—ñ–≤–Ω–∏–∫—ñ–≤ { #one-load-balancer-multiple-worker-containers }

–ü—ñ–¥ —á–∞—Å —Ä–æ–±–æ—Ç–∏ –∑ Kubernetes –∞–±–æ –ø–æ–¥—ñ–±–Ω–∏–º–∏ —Ä–æ–∑–ø–æ–¥—ñ–ª–µ–Ω–∏–º–∏ —Å–∏—Å—Ç–µ–º–∞–º–∏ –∫–µ—Ä—É–≤–∞–Ω–Ω—è –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∞–º–∏ –≤–∏–∫–æ—Ä–∏—Å—Ç–∞–Ω–Ω—è —ó—Ö–Ω—ñ—Ö –≤–Ω—É—Ç—Ä—ñ—à–Ω—ñ—Ö –º–µ—Ä–µ–∂–µ–≤–∏—Ö –º–µ—Ö–∞–Ω—ñ–∑–º—ñ–≤ –¥–æ–∑–≤–æ–ª—è—î —î–¥–∏–Ω–æ–º—É –±–∞–ª–∞–Ω—Å—É–≤–∞–ª—å–Ω–∏–∫—É –Ω–∞–≤–∞–Ω—Ç–∞–∂–µ–Ω–Ω—è, —â–æ —Å–ª—É—Ö–∞—î –Ω–∞ –≥–æ–ª–æ–≤–Ω–æ–º—É –ø–æ—Ä—Ç—É, –ø–µ—Ä–µ–¥–∞–≤–∞—Ç–∏ –∫–æ–º—É–Ω—ñ–∫–∞—Ü—ñ—é (–∑–∞–ø–∏—Ç–∏) –¥–æ –∫—ñ–ª—å–∫–æ—Ö –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä—ñ–≤, —É —è–∫–∏—Ö –∑–∞–ø—É—â–µ–Ω–æ –≤–∞—à –∑–∞—Å—Ç–æ—Å—É–Ω–æ–∫.

–ö–æ–∂–µ–Ω –∑ —Ü–∏—Ö –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä—ñ–≤ —ñ–∑ –≤–∞—à–∏–º –∑–∞—Å—Ç–æ—Å—É–Ω–∫–æ–º –∑–∞–∑–≤–∏—á–∞–π –º–∞—î –ª–∏—à–µ –æ–¥–∏–Ω –ø—Ä–æ—Ü–µ—Å (–Ω–∞–ø—Ä–∏–∫–ª–∞–¥, –ø—Ä–æ—Ü–µ—Å Uvicorn, —â–æ –∑–∞–ø—É—Å–∫–∞—î –≤–∞—à –∑–∞—Å—Ç–æ—Å—É–Ω–æ–∫ FastAPI). –£—Å—ñ –≤–æ–Ω–∏ –±—É–¥—É—Ç—å —ñ–¥–µ–Ω—Ç–∏—á–Ω–∏–º–∏ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∞–º–∏, —è–∫—ñ –∑–∞–ø—É—Å–∫–∞—é—Ç—å —Ç–µ —Å–∞–º–µ, –∞–ª–µ –∫–æ–∂–µ–Ω –∑—ñ —Å–≤–æ—ó–º –ø—Ä–æ—Ü–µ—Å–æ–º, –ø–∞–º‚Äô—è—Ç—Ç—é —Ç–æ—â–æ. –¢–∞–∫–∏–º —á–∏–Ω–æ–º –≤–∏ –≤–∏–∫–æ—Ä–∏—Å—Ç–∞—î—Ç–µ –ø–µ—Ä–µ–≤–∞–≥–∏ –ø–∞—Ä–∞–ª–µ–ª—ñ–∑–º—É –Ω–∞ —Ä—ñ–∑–Ω–∏—Ö —è–¥—Ä–∞—Ö –ø—Ä–æ—Ü–µ—Å–æ—Ä–∞ –∞–±–æ –Ω–∞–≤—ñ—Ç—å –Ω–∞ —Ä—ñ–∑–Ω–∏—Ö –º–∞—à–∏–Ω–∞—Ö.

–ê —Ä–æ–∑–ø–æ–¥—ñ–ª–µ–Ω–∞ —Å–∏—Å—Ç–µ–º–∞ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä—ñ–≤ —ñ–∑ –±–∞–ª–∞–Ω—Å—É–≤–∞–ª—å–Ω–∏–∫–æ–º –Ω–∞–≤–∞–Ω—Ç–∞–∂–µ–Ω–Ω—è —Ä–æ–∑–ø–æ–¥—ñ–ª—è—Ç–∏–º–µ –∑–∞–ø–∏—Ç–∏ –º—ñ–∂ –∫–æ–∂–Ω–∏–º —ñ–∑ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä—ñ–≤ —ñ–∑ –≤–∞—à–∏–º –∑–∞—Å—Ç–æ—Å—É–Ω–∫–æ–º –ø–æ —á–µ—Ä–∑—ñ. –¢–æ–∂ –∫–æ–∂–µ–Ω –∑–∞–ø–∏—Ç –º–æ–∂–µ –æ–±—Ä–æ–±–ª—è—Ç–∏—Å—è –æ–¥–Ω–∏–º —ñ–∑ –∫—ñ–ª—å–∫–æ—Ö —Ä–µ–ø–ª—ñ–∫–æ–≤–∞–Ω–∏—Ö –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä—ñ–≤, —â–æ –∑–∞–ø—É—Å–∫–∞—é—Ç—å –≤–∞—à –∑–∞—Å—Ç–æ—Å—É–Ω–æ–∫.

–Ü –∑–∞–∑–≤–∏—á–∞–π —Ü–µ–π –±–∞–ª–∞–Ω—Å—É–≤–∞–ª—å–Ω–∏–∫ –Ω–∞–≤–∞–Ω—Ç–∞–∂–µ–Ω–Ω—è –∑–º–æ–∂–µ –æ–±—Ä–æ–±–ª—è—Ç–∏ –∑–∞–ø–∏—Ç–∏, —è–∫—ñ –π–¥—É—Ç—å –¥–æ —ñ–Ω—à–∏—Ö –∑–∞—Å—Ç–æ—Å—É–Ω–∫—ñ–≤ —É –≤–∞—à–æ–º—É –∫–ª–∞—Å—Ç–µ—Ä—ñ (–Ω–∞–ø—Ä–∏–∫–ª–∞–¥, –¥–æ —ñ–Ω—à–æ–≥–æ –¥–æ–º–µ–Ω—É –∞–±–æ –ø—ñ–¥ —ñ–Ω—à–∏–º –ø—Ä–µ—Ñ—ñ–∫—Å–æ–º —à–ª—è—Ö—É URL), —ñ –ø–µ—Ä–µ–¥–∞–≤–∞—Ç–∏–º–µ –∫–æ–º—É–Ω—ñ–∫–∞—Ü—ñ—é –¥–æ –≤—ñ–¥–ø–æ–≤—ñ–¥–Ω–∏—Ö –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä—ñ–≤ –¥–ª—è —Ç–æ–≥–æ —ñ–Ω—à–æ–≥–æ –∑–∞—Å—Ç–æ—Å—É–Ω–∫—É, —â–æ –ø—Ä–∞—Ü—é—î —É –≤–∞—à–æ–º—É –∫–ª–∞—Å—Ç–µ—Ä—ñ.

### –û–¥–∏–Ω –ø—Ä–æ—Ü–µ—Å –Ω–∞ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä { #one-process-per-container }

–£ —Ç–∞–∫–æ–º—É —Å—Ü–µ–Ω–∞—Ä—ñ—ó –≤–∏, –π–º–æ–≤—ñ—Ä–Ω–æ, –∑–∞—Ö–æ—á–µ—Ç–µ –º–∞—Ç–∏ –æ–¥–∏–Ω (Uvicorn) –ø—Ä–æ—Ü–µ—Å –Ω–∞ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä, –∞–¥–∂–µ –≤–∏ –≤–∂–µ –æ–±—Ä–æ–±–ª—è—î—Ç–µ —Ä–µ–ø–ª—ñ–∫–∞—Ü—ñ—é –Ω–∞ —Ä—ñ–≤–Ω—ñ –∫–ª–∞—Å—Ç–µ—Ä–∞.

–¢–æ–±—Ç–æ –≤ —Ü—å–æ–º—É –≤–∏–ø–∞–¥–∫—É –≤–∏ –Ω–µ –∑–∞—Ö–æ—á–µ—Ç–µ –º–∞—Ç–∏ –∫—ñ–ª—å–∫–æ—Ö –ø—Ä–∞—Ü—ñ–≤–Ω–∏–∫—ñ–≤ —É –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä—ñ, –Ω–∞–ø—Ä–∏–∫–ª–∞–¥ —á–µ—Ä–µ–∑ –æ–ø—Ü—ñ—é –∫–æ–º–∞–Ω–¥–Ω–æ–≥–æ —Ä—è–¥–∫–∞ `--workers`. –í–∏ –∑–∞—Ö–æ—á–µ—Ç–µ –º–∞—Ç–∏ –ª–∏—à–µ –æ–¥–∏–Ω –ø—Ä–æ—Ü–µ—Å Uvicorn –Ω–∞ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä (–∞–ª–µ, –π–º–æ–≤—ñ—Ä–Ω–æ, –∫—ñ–ª—å–∫–∞ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä—ñ–≤).

–ù–∞—è–≤–Ω—ñ—Å—Ç—å —ñ–Ω—à–æ–≥–æ –º–µ–Ω–µ–¥–∂–µ—Ä–∞ –ø—Ä–æ—Ü–µ—Å—ñ–≤ –≤—Å–µ—Ä–µ–¥–∏–Ω—ñ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∞ (—è–∫ —Ü–µ –±—É–ª–æ –± —ñ–∑ –∫—ñ–ª—å–∫–æ–º–∞ –ø—Ä–∞—Ü—ñ–≤–Ω–∏–∫–∞–º–∏) –ª–∏—à–µ –¥–æ–¥–∞—Å—Ç—å –∑–∞–π–≤–æ—ó —Å–∫–ª–∞–¥–Ω–æ—Å—Ç—ñ, —è–∫—É, –Ω–∞–π—ñ–º–æ–≤—ñ—Ä–Ω—ñ—à–µ, –≤–∏ –≤–∂–µ –≤–∏—Ä—ñ—à—É—î—Ç–µ –Ω–∞ —Ä—ñ–≤–Ω—ñ –∫–ª–∞—Å—Ç–µ—Ä–∞.

### –ö–æ–Ω—Ç–µ–π–Ω–µ—Ä–∏ –∑ –∫—ñ–ª—å–∫–æ–º–∞ –ø—Ä–æ—Ü–µ—Å–∞–º–∏ —Ç–∞ –æ—Å–æ–±–ª–∏–≤—ñ –≤–∏–ø–∞–¥–∫–∏ { #containers-with-multiple-processes-and-special-cases }

–ó–≤—ñ—Å–Ω–æ, —î –æ—Å–æ–±–ª–∏–≤—ñ –≤–∏–ø–∞–¥–∫–∏, –∫–æ–ª–∏ –≤–∏ –º–æ–∂–µ—Ç–µ –∑–∞—Ö–æ—Ç—ñ—Ç–∏ –º–∞—Ç–∏ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä —ñ–∑ –∫—ñ–ª—å–∫–æ–º–∞ –ø—Ä–æ—Ü–µ—Å–∞–º–∏-–ø—Ä–∞—Ü—ñ–≤–Ω–∏–∫–∞–º–∏ Uvicorn –≤—Å–µ—Ä–µ–¥–∏–Ω—ñ.

–£ —Ç–∞–∫–∏—Ö –≤–∏–ø–∞–¥–∫–∞—Ö –≤–∏ –º–æ–∂–µ—Ç–µ –≤–∏–∫–æ—Ä–∏—Å—Ç–∞—Ç–∏ –æ–ø—Ü—ñ—é –∫–æ–º–∞–Ω–¥–Ω–æ–≥–æ —Ä—è–¥–∫–∞ `--workers`, —â–æ–± –∑–∞–¥–∞—Ç–∏ –∫—ñ–ª—å–∫—ñ—Å—Ç—å –ø—Ä–∞—Ü—ñ–≤–Ω–∏–∫—ñ–≤, —è–∫–∏—Ö –ø–æ—Ç—Ä—ñ–±–Ω–æ –∑–∞–ø—É—Å—Ç–∏—Ç–∏:

```{ .dockerfile .annotate }
FROM python:3.14

WORKDIR /code

COPY ./requirements.txt /code/requirements.txt

RUN pip install --no-cache-dir --upgrade -r /code/requirements.txt

COPY ./app /code/app

# (1)!
CMD ["fastapi", "run", "app/main.py", "--port", "80", "--workers", "4"]
```

1. –¢—É—Ç –º–∏ –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É—î–º–æ –æ–ø—Ü—ñ—é –∫–æ–º–∞–Ω–¥–Ω–æ–≥–æ —Ä—è–¥–∫–∞ `--workers`, —â–æ–± –≤—Å—Ç–∞–Ω–æ–≤–∏—Ç–∏ –∫—ñ–ª—å–∫—ñ—Å—Ç—å –ø—Ä–∞—Ü—ñ–≤–Ω–∏–∫—ñ–≤ 4.

–û—Å—å –∫—ñ–ª—å–∫–∞ –ø—Ä–∏–∫–ª–∞–¥—ñ–≤, –∫–æ–ª–∏ —Ü–µ –º–æ–∂–µ –º–∞—Ç–∏ —Å–µ–Ω—Å:

#### –ü—Ä–æ—Å—Ç–∏–π –∑–∞—Å—Ç–æ—Å—É–Ω–æ–∫ { #a-simple-app }

–í–∏ –º–æ–∂–µ—Ç–µ –∑–∞—Ö–æ—Ç—ñ—Ç–∏ –º–µ–Ω–µ–¥–∂–µ—Ä –ø—Ä–æ—Ü–µ—Å—ñ–≤ —É –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä—ñ, —è–∫—â–æ –≤–∞—à –∑–∞—Å—Ç–æ—Å—É–Ω–æ–∫ –¥–æ—Å—Ç–∞—Ç–Ω—å–æ –ø—Ä–æ—Å—Ç–∏–π, —â–æ–± –∑–∞–ø—É—Å–∫–∞—Ç–∏ –π–æ–≥–æ –Ω–∞ –æ–¥–Ω–æ–º—É —Å–µ—Ä–≤–µ—Ä—ñ, –∞ –Ω–µ –Ω–∞ –∫–ª–∞—Å—Ç–µ—Ä—ñ.

#### Docker Compose { #docker-compose }

–í–∏ –º–æ–∂–µ—Ç–µ —Ä–æ–∑–≥–æ—Ä—Ç–∞—Ç–∏ –Ω–∞ –æ–¥–Ω–æ–º—É —Å–µ—Ä–≤–µ—Ä—ñ (–Ω–µ –≤ –∫–ª–∞—Å—Ç–µ—Ä—ñ) –∑–∞ –¥–æ–ø–æ–º–æ–≥–æ—é Docker Compose, —Ç–æ–∂ —É –≤–∞—Å –Ω–µ –±—É–¥–µ –ø—Ä–æ—Å—Ç–æ–≥–æ —Å–ø–æ—Å–æ–±—É –∫–µ—Ä—É–≤–∞—Ç–∏ —Ä–µ–ø–ª—ñ–∫–∞—Ü—ñ—î—é –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä—ñ–≤ (—É Docker Compose), –∑–±–µ—Ä—ñ–≥–∞—é—á–∏ —Å–ø—ñ–ª—å–Ω—É –º–µ—Ä–µ–∂—É —Ç–∞ –±–∞–ª–∞–Ω—Å—É–≤–∞–Ω–Ω—è –Ω–∞–≤–∞–Ω—Ç–∞–∂–µ–Ω–Ω—è.

–¢–æ–¥—ñ –≤–∏ –º–æ–∂–µ—Ç–µ –∑–∞—Ö–æ—Ç—ñ—Ç–∏ –º–∞—Ç–∏ –æ–¥–∏–Ω –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä —ñ–∑ –º–µ–Ω–µ–¥–∂–µ—Ä–æ–º –ø—Ä–æ—Ü–µ—Å—ñ–≤, —â–æ –∑–∞–ø—É—Å–∫–∞—î –∫—ñ–ª—å–∫–∞ –ø—Ä–æ—Ü–µ—Å—ñ–≤-–ø—Ä–∞—Ü—ñ–≤–Ω–∏–∫—ñ–≤ –≤—Å–µ—Ä–µ–¥–∏–Ω—ñ.

---

–ì–æ–ª–æ–≤–Ω–∞ –¥—É–º–∫–∞: —Ü–µ –Ω–µ –ø—Ä–∞–≤–∏–ª–∞, –≤–∏–∫–∞—Ä–±—É–≤–∞–Ω—ñ –≤ –∫–∞–º–µ–Ω—ñ, —è–∫–∏—Ö –ø–æ—Ç—Ä—ñ–±–Ω–æ —Å–ª—ñ–ø–æ –¥–æ—Ç—Ä–∏–º—É–≤–∞—Ç–∏—Å—è. –í–∏ –º–æ–∂–µ—Ç–µ –≤–∏–∫–æ—Ä–∏—Å—Ç–∞—Ç–∏ —Ü—ñ —ñ–¥–µ—ó, —â–æ–± –æ—Ü—ñ–Ω–∏—Ç–∏ –≤–ª–∞—Å–Ω–∏–π –∫–µ–π—Å —ñ –≤–∏—Ä—ñ—à–∏—Ç–∏, —è–∫–∏–π –ø—ñ–¥—Ö—ñ–¥ –Ω–∞–π–∫—Ä–∞—â–∏–π –¥–ª—è –≤–∞—à–æ—ó —Å–∏—Å—Ç–µ–º–∏, —Ä–æ–∑–≥–ª—è–¥–∞—é—á–∏, —è–∫ –∫–µ—Ä—É–≤–∞—Ç–∏ —Ç–∞–∫–∏–º–∏ –∫–æ–Ω—Ü–µ–ø—Ü—ñ—è–º–∏:

* –ë–µ–∑–ø–µ–∫–∞ - HTTPS
* –ê–≤—Ç–æ–∑–∞–ø—É—Å–∫
* –ü–µ—Ä–µ–∑–∞–ø—É—Å–∫–∏
* –†–µ–ø–ª—ñ–∫–∞—Ü—ñ—è (–∫—ñ–ª—å–∫—ñ—Å—Ç—å –∑–∞–ø—É—â–µ–Ω–∏—Ö –ø—Ä–æ—Ü–µ—Å—ñ–≤)
* –ü–∞–º‚Äô—è—Ç—å
* –ü–æ–ø–µ—Ä–µ–¥–Ω—ñ –∫—Ä–æ–∫–∏ –ø–µ—Ä–µ–¥ –∑–∞–ø—É—Å–∫–æ–º

## –ü–∞–º‚Äô—è—Ç—å { #memory }

–Ø–∫—â–æ –≤–∏ –∑–∞–ø—É—Å–∫–∞—î—Ç–µ –æ–¥–∏–Ω –ø—Ä–æ—Ü–µ—Å –Ω–∞ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä, –≤–∏ –º–∞—Ç–∏–º–µ—Ç–µ –±—ñ–ª—å—à-–º–µ–Ω—à —á—ñ—Ç–∫–æ –≤–∏–∑–Ω–∞—á–µ–Ω–∏–π, —Å—Ç–∞–±—ñ–ª—å–Ω–∏–π —ñ –æ–±–º–µ–∂–µ–Ω–∏–π –æ–±—Å—è–≥ –ø–∞–º‚Äô—è—Ç—ñ, —â–æ —Å–ø–æ–∂–∏–≤–∞—î—Ç—å—Å—è –∫–æ–∂–Ω–∏–º —ñ–∑ —Ü–∏—Ö –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä—ñ–≤ (—ó—Ö –º–æ–∂–µ –±—É—Ç–∏ –±—ñ–ª—å—à–µ –æ–¥–Ω–æ–≥–æ, —è–∫—â–æ –≤–æ–Ω–∏ —Ä–µ–ø–ª—ñ–∫–æ–≤–∞–Ω—ñ).

–ü–æ—Ç—ñ–º –≤–∏ –º–æ–∂–µ—Ç–µ –≤—Å—Ç–∞–Ω–æ–≤–∏—Ç–∏ —Ç—ñ —Å–∞–º—ñ –ª—ñ–º—ñ—Ç–∏ —Ç–∞ –≤–∏–º–æ–≥–∏ –¥–æ –ø–∞–º‚Äô—è—Ç—ñ —É –≤–∞—à–∏—Ö –∫–æ–Ω—Ñ—ñ–≥—É—Ä–∞—Ü—ñ—è—Ö –¥–ª—è —Å–∏—Å—Ç–µ–º–∏ –∫–µ—Ä—É–≤–∞–Ω–Ω—è –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∞–º–∏ (–Ω–∞–ø—Ä–∏–∫–ª–∞–¥, —É Kubernetes). –¢–∞–∫–∏–º —á–∏–Ω–æ–º –≤–æ–Ω–∞ –∑–º–æ–∂–µ —Ä–µ–ø–ª—ñ–∫—É–≤–∞—Ç–∏ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∏ –Ω–∞ –¥–æ—Å—Ç—É–ø–Ω–∏—Ö –º–∞—à–∏–Ω–∞—Ö, –≤—Ä–∞—Ö–æ–≤—É—é—á–∏ –æ–±—Å—è–≥ –ø–∞–º‚Äô—è—Ç—ñ, –ø–æ—Ç—Ä—ñ–±–Ω–∏–π —ó–º, —ñ –æ–±—Å—è–≥ –¥–æ—Å—Ç—É–ø–Ω–æ—ó –ø–∞–º‚Äô—è—Ç—ñ –Ω–∞ –º–∞—à–∏–Ω–∞—Ö —É –∫–ª–∞—Å—Ç–µ—Ä—ñ.

–Ø–∫—â–æ –≤–∞—à –∑–∞—Å—Ç–æ—Å—É–Ω–æ–∫ –ø—Ä–æ—Å—Ç–∏–π, —ñ–º–æ–≤—ñ—Ä–Ω–æ, —Ü–µ –Ω–µ –±—É–¥–µ –ø—Ä–æ–±–ª–µ–º–æ—é, —ñ –≤–∞–º –º–æ–∂–µ –Ω–µ –∑–Ω–∞–¥–æ–±–∏—Ç–∏—Å—è –∑–∞–¥–∞–≤–∞—Ç–∏ –∂–æ—Ä—Å—Ç–∫—ñ –ª—ñ–º—ñ—Ç–∏ –ø–∞–º‚Äô—è—Ç—ñ. –ê–ª–µ —è–∫—â–æ –≤–∏ –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É—î—Ç–µ –±–∞–≥–∞—Ç–æ –ø–∞–º‚Äô—è—Ç—ñ (–Ω–∞–ø—Ä–∏–∫–ª–∞–¥, —ñ–∑ –º–æ–¥–µ–ª—è–º–∏ –º–∞—à–∏–Ω–Ω–æ–≥–æ –Ω–∞–≤—á–∞–Ω–Ω—è), –≤–∞–º —Å–ª—ñ–¥ –ø–µ—Ä–µ–≤—ñ—Ä–∏—Ç–∏, —Å–∫—ñ–ª—å–∫–∏ –ø–∞–º‚Äô—è—Ç—ñ –≤–∏ —Å–ø–æ–∂–∏–≤–∞—î—Ç–µ, —ñ –≤—ñ–¥–∫–æ—Ä–∏–≥—É–≤–∞—Ç–∏ –∫—ñ–ª—å–∫—ñ—Å—Ç—å –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä—ñ–≤, —â–æ –∑–∞–ø—É—Å–∫–∞—é—Ç—å—Å—è –Ω–∞ –∫–æ–∂–Ω—ñ–π –º–∞—à–∏–Ω—ñ (—ñ, –º–æ–∂–ª–∏–≤–æ, –¥–æ–¥–∞—Ç–∏ –±—ñ–ª—å—à–µ –º–∞—à–∏–Ω —É –≤–∞—à –∫–ª–∞—Å—Ç–µ—Ä).

–Ø–∫—â–æ –≤–∏ –∑–∞–ø—É—Å–∫–∞—î—Ç–µ –∫—ñ–ª—å–∫–∞ –ø—Ä–æ—Ü–µ—Å—ñ–≤ –Ω–∞ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä, –≤–∞–º –ø–æ—Ç—Ä—ñ–±–Ω–æ –ø–µ—Ä–µ–∫–æ–Ω–∞—Ç–∏—Å—è, —â–æ –∫—ñ–ª—å–∫—ñ—Å—Ç—å –∑–∞–ø—É—â–µ–Ω–∏—Ö –ø—Ä–æ—Ü–µ—Å—ñ–≤ –Ω–µ —Å–ø–æ–∂–∏–≤–∞—î –±—ñ–ª—å—à–µ –ø–∞–º‚Äô—è—Ç—ñ, –Ω—ñ–∂ –¥–æ—Å—Ç—É–ø–Ω–æ.

## –ü–æ–ø–µ—Ä–µ–¥–Ω—ñ –∫—Ä–æ–∫–∏ –ø–µ—Ä–µ–¥ –∑–∞–ø—É—Å–∫–æ–º —ñ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∏ { #previous-steps-before-starting-and-containers }

–Ø–∫—â–æ –≤–∏ –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É—î—Ç–µ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∏ (–Ω–∞–ø—Ä–∏–∫–ª–∞–¥, Docker, Kubernetes), —Ç–æ —î –¥–≤–∞ –æ—Å–Ω–æ–≤–Ω—ñ –ø—ñ–¥—Ö–æ–¥–∏.

### –ö—ñ–ª—å–∫–∞ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä—ñ–≤ { #multiple-containers }

–Ø–∫—â–æ —É –≤–∞—Å –∫—ñ–ª—å–∫–∞ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä—ñ–≤, —ñ–º–æ–≤—ñ—Ä–Ω–æ –∫–æ–∂–µ–Ω –∑–∞–ø—É—Å–∫–∞—î –æ–¥–∏–Ω –ø—Ä–æ—Ü–µ—Å (–Ω–∞–ø—Ä–∏–∫–ª–∞–¥, —É –∫–ª–∞—Å—Ç–µ—Ä—ñ Kubernetes), —Ç–æ–¥—ñ –≤–∏, –π–º–æ–≤—ñ—Ä–Ω–æ, –∑–∞—Ö–æ—á–µ—Ç–µ –º–∞—Ç–∏ –æ–∫—Ä–µ–º–∏–π –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä, —è–∫–∏–π –≤–∏–∫–æ–Ω–∞—î –ø–æ–ø–µ—Ä–µ–¥–Ω—ñ –∫—Ä–æ–∫–∏ –≤ –æ–¥–Ω–æ–º—É –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä—ñ, –∑–∞–ø—É—Å—Ç–∏–≤—à–∏ –æ–¥–∏–Ω –ø—Ä–æ—Ü–µ—Å, –ø–µ—Ä–µ–¥ –∑–∞–ø—É—Å–∫–æ–º —Ä–µ–ø–ª—ñ–∫–æ–≤–∞–Ω–∏—Ö –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä—ñ–≤-–ø—Ä–∞—Ü—ñ–≤–Ω–∏–∫—ñ–≤.

/// info | –Ü–Ω—Ñ–æ—Ä–º–∞—Ü—ñ—è

–Ø–∫—â–æ –≤–∏ –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É—î—Ç–µ Kubernetes, —Ü–µ, –π–º–æ–≤—ñ—Ä–Ω–æ, –±—É–¥–µ <a href="https://kubernetes.io/docs/concepts/workloads/pods/init-containers/" class="external-link" target="_blank">Init Container</a>.

///

–Ø–∫—â–æ —É –≤–∞—à–æ–º—É –≤–∏–ø–∞–¥–∫—É –Ω–µ–º–∞—î –ø—Ä–æ–±–ª–µ–º–∏ –∑–∞–ø—É—Å–∫–∞—Ç–∏ —Ü—ñ –ø–æ–ø–µ—Ä–µ–¥–Ω—ñ –∫—Ä–æ–∫–∏ –∫—ñ–ª—å–∫–∞ —Ä–∞–∑—ñ–≤ –ø–∞—Ä–∞–ª–µ–ª—å–Ω–æ (–Ω–∞–ø—Ä–∏–∫–ª–∞–¥, —è–∫—â–æ –≤–∏ –Ω–µ –≤–∏–∫–æ–Ω—É—î—Ç–µ –º—ñ–≥—Ä–∞—Ü—ñ—ó –±–∞–∑–∏ –¥–∞–Ω–∏—Ö, –∞ –ª–∏—à–µ –ø–µ—Ä–µ–≤—ñ—Ä—è—î—Ç–µ, —á–∏ –±–∞–∑–∞ –≤–∂–µ –≥–æ—Ç–æ–≤–∞), —Ç–æ–¥—ñ –≤–∏ —Ç–∞–∫–æ–∂ –º–æ–∂–µ—Ç–µ –ø—Ä–æ—Å—Ç–æ –ø–æ–º—ñ—Å—Ç–∏—Ç–∏ —ó—Ö —É –∫–æ–∂–µ–Ω –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä –±–µ–∑–ø–æ—Å–µ—Ä–µ–¥–Ω—å–æ –ø–µ—Ä–µ–¥ –∑–∞–ø—É—Å–∫–æ–º –≥–æ–ª–æ–≤–Ω–æ–≥–æ –ø—Ä–æ—Ü–µ—Å—É.

### –û–¥–∏–Ω –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä { #single-container }

–Ø–∫—â–æ —É –≤–∞—Å –ø—Ä–æ—Å—Ç–µ –Ω–∞–ª–∞—à—Ç—É–≤–∞–Ω–Ω—è –∑ –æ–¥–Ω–∏–º –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–æ–º, —è–∫–∏–π –ø–æ—Ç—ñ–º –∑–∞–ø—É—Å–∫–∞—î –∫—ñ–ª—å–∫–∞ –ø—Ä–æ—Ü–µ—Å—ñ–≤-–ø—Ä–∞—Ü—ñ–≤–Ω–∏–∫—ñ–≤ (–∞–±–æ —Ç–µ–∂ –ª–∏—à–µ –æ–¥–∏–Ω –ø—Ä–æ—Ü–µ—Å), —Ç–æ–¥—ñ –≤–∏ –º–æ–∂–µ—Ç–µ –≤–∏–∫–æ–Ω–∞—Ç–∏ —Ü—ñ –ø–æ–ø–µ—Ä–µ–¥–Ω—ñ –∫—Ä–æ–∫–∏ –≤ —Ç–æ–º—É –∂ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä—ñ –±–µ–∑–ø–æ—Å–µ—Ä–µ–¥–Ω—å–æ –ø–µ—Ä–µ–¥ –∑–∞–ø—É—Å–∫–æ–º –ø—Ä–æ—Ü–µ—Å—É —ñ–∑ –∑–∞—Å—Ç–æ—Å—É–Ω–∫–æ–º.

### –ë–∞–∑–æ–≤–∏–π –æ–±—Ä–∞–∑ Docker { #base-docker-image }

–ö–æ–ª–∏—Å—å —ñ—Å–Ω—É–≤–∞–≤ –æ—Ñ—ñ—Ü—ñ–π–Ω–∏–π –æ–±—Ä–∞–∑ Docker –¥–ª—è FastAPI: <a href="https://github.com/tiangolo/uvicorn-gunicorn-fastapi-docker" class="external-link" target="_blank">tiangolo/uvicorn-gunicorn-fastapi</a>. –ê–ª–µ –∑–∞—Ä–∞–∑ –≤—ñ–Ω –∑–∞—Å—Ç–∞—Ä—ñ–ª–∏–π. ‚õîÔ∏è

–ô–º–æ–≤—ñ—Ä–Ω–æ, –≤–∞–º –Ω–µ —Å–ª—ñ–¥ –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É–≤–∞—Ç–∏ —Ü–µ–π –±–∞–∑–æ–≤–∏–π –æ–±—Ä–∞–∑ Docker (–∞–±–æ –±—É–¥—å-—è–∫–∏–π —ñ–Ω—à–∏–π –ø–æ–¥—ñ–±–Ω–∏–π).

–Ø–∫—â–æ –≤–∏ –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É—î—Ç–µ Kubernetes (–∞–±–æ —ñ–Ω—à—ñ) —ñ –≤–∂–µ –Ω–∞–ª–∞—à—Ç–æ–≤—É—î—Ç–µ —Ä–µ–ø–ª—ñ–∫–∞—Ü—ñ—é –Ω–∞ —Ä—ñ–≤–Ω—ñ –∫–ª–∞—Å—Ç–µ—Ä–∞ –∑ –∫—ñ–ª—å–∫–æ–º–∞ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∞–º–∏. –£ —Ç–∞–∫–∏—Ö –≤–∏–ø–∞–¥–∫–∞—Ö –∫—Ä–∞—â–µ –∑—ñ–±—Ä–∞—Ç–∏ –æ–±—Ä–∞–∑ –∑ –Ω—É–ª—è, —è–∫ –æ–ø–∏—Å–∞–Ω–æ –≤–∏—â–µ: [–ó—ñ–±—Ä–∞—Ç–∏ Docker-–æ–±—Ä–∞–∑ –¥–ª—è FastAPI](#build-a-docker-image-for-fastapi).

–ê —è–∫—â–æ –≤–∞–º –ø–æ—Ç—Ä—ñ–±–Ω–æ –º–∞—Ç–∏ –∫—ñ–ª—å–∫–∞ –ø—Ä–∞—Ü—ñ–≤–Ω–∏–∫—ñ–≤, –≤–∏ –º–æ–∂–µ—Ç–µ –ø—Ä–æ—Å—Ç–æ –≤–∏–∫–æ—Ä–∏—Å—Ç–∞—Ç–∏ –æ–ø—Ü—ñ—é –∫–æ–º–∞–Ω–¥–Ω–æ–≥–æ —Ä—è–¥–∫–∞ `--workers`.

/// note | –¢–µ—Ö–Ω—ñ—á–Ω—ñ –¥–µ—Ç–∞–ª—ñ

–¶–µ–π –æ–±—Ä–∞–∑ Docker –±—É–ª–æ —Å—Ç–≤–æ—Ä–µ–Ω–æ —Ç–æ–¥—ñ, –∫–æ–ª–∏ Uvicorn –Ω–µ –ø—ñ–¥—Ç—Ä–∏–º—É–≤–∞–≤ –∫–µ—Ä—É–≤–∞–Ω–Ω—è —Ç–∞ –ø–µ—Ä–µ–∑–∞–ø—É—Å–∫ ¬´–º–µ—Ä—Ç–≤–∏—Ö¬ª –ø—Ä–∞—Ü—ñ–≤–Ω–∏–∫—ñ–≤, —Ç–æ–º—É –ø–æ—Ç—Ä—ñ–±–Ω–æ –±—É–ª–æ –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É–≤–∞—Ç–∏ Gunicorn –∑ Uvicorn, —â–æ –¥–æ–¥–∞–≤–∞–ª–æ —á–∏–º–∞–ª–æ —Å–∫–ª–∞–¥–Ω–æ—Å—Ç—ñ –ª–∏—à–µ –¥–ª—è —Ç–æ–≥–æ, —â–æ–± Gunicorn –∫–µ—Ä—É–≤–∞–≤ —Ç–∞ –ø–µ—Ä–µ–∑–∞–ø—É—Å–∫–∞–≤ –ø—Ä–æ—Ü–µ—Å–∏-–ø—Ä–∞—Ü—ñ–≤–Ω–∏–∫–∏ Uvicorn.

–ê–ª–µ —Ç–µ–ø–µ—Ä, –∫–æ–ª–∏ Uvicorn (—ñ –∫–æ–º–∞–Ω–¥–∞ `fastapi`) –ø—ñ–¥—Ç—Ä–∏–º—É—é—Ç—å –≤–∏–∫–æ—Ä–∏—Å—Ç–∞–Ω–Ω—è `--workers`, –Ω–µ–º–∞—î –ø—Ä–∏—á–∏–Ω –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É–≤–∞—Ç–∏ –±–∞–∑–æ–≤–∏–π –æ–±—Ä–∞–∑ Docker –∑–∞–º—ñ—Å—Ç—å —Ç–æ–≥–æ, —â–æ–± –∑—ñ–±—Ä–∞—Ç–∏ –≤–ª–∞—Å–Ω–∏–π (—Ü–µ –ø—Ä–∏–±–ª–∏–∑–Ω–æ —Ç–∞ —Å–∞–º–∞ –∫—ñ–ª—å–∫—ñ—Å—Ç—å –∫–æ–¥—É üòÖ).

///

## –†–æ–∑–≥–æ—Ä–Ω—É—Ç–∏ –æ–±—Ä–∞–∑ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∞ { #deploy-the-container-image }

–ü—ñ—Å–ª—è –æ—Ç—Ä–∏–º–∞–Ω–Ω—è –æ–±—Ä–∞–∑—É –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∞ (Docker) —î –∫—ñ–ª—å–∫–∞ —Å–ø–æ—Å–æ–±—ñ–≤ –π–æ–≥–æ —Ä–æ–∑–≥–æ—Ä–Ω—É—Ç–∏.

–ù–∞–ø—Ä–∏–∫–ª–∞–¥:

* –ó Docker Compose –Ω–∞ –æ–¥–Ω–æ–º—É —Å–µ—Ä–≤–µ—Ä—ñ
* –ó –∫–ª–∞—Å—Ç–µ—Ä–æ–º Kubernetes
* –ó –∫–ª–∞—Å—Ç–µ—Ä–æ–º Docker Swarm Mode
* –ó —ñ–Ω—à–∏–º —ñ–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–æ–º, —è–∫-–æ—Ç Nomad
* –ó —Ö–º–∞—Ä–Ω–∏–º —Å–µ—Ä–≤—ñ—Å–æ–º, —è–∫–∏–π –±–µ—Ä–µ –≤–∞—à –æ–±—Ä–∞–∑ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∞ —ñ —Ä–æ–∑–≥–æ—Ä—Ç–∞—î –π–æ–≥–æ

## –û–±—Ä–∞–∑ Docker –∑ `uv` { #docker-image-with-uv }

–Ø–∫—â–æ –≤–∏ –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É—î—Ç–µ <a href="https://github.com/astral-sh/uv" class="external-link" target="_blank">uv</a> –¥–ª—è –≤—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–Ω—è —Ç–∞ –∫–µ—Ä—É–≤–∞–Ω–Ω—è –≤–∞—à–∏–º –ø—Ä–æ—î–∫—Ç–æ–º, –≤–∏ –º–æ–∂–µ—Ç–µ —Å–∫–æ—Ä–∏—Å—Ç–∞—Ç–∏—Å—è —ó—Ö–Ω—ñ–º <a href="https://docs.astral.sh/uv/guides/integration/docker/" class="external-link" target="_blank">–ø–æ—Å—ñ–±–Ω–∏–∫–æ–º Docker –¥–ª—è uv</a>.

## –ü—ñ–¥—Å—É–º–æ–∫ { #recap }

–í–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É—é—á–∏ —Å–∏—Å—Ç–µ–º–∏ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä—ñ–≤ (–Ω–∞–ø—Ä–∏–∫–ª–∞–¥, –∑ Docker —ñ Kubernetes), –¥–æ—Å–∏—Ç—å –ø—Ä–æ—Å—Ç–æ –æ–±—Ä–æ–±–ª—è—Ç–∏ –≤—Å—ñ –∫–æ–Ω—Ü–µ–ø—Ü—ñ—ó —Ä–æ–∑–≥–æ—Ä—Ç–∞–Ω–Ω—è:

* HTTPS
* –ê–≤—Ç–æ–∑–∞–ø—É—Å–∫
* –ü–µ—Ä–µ–∑–∞–ø—É—Å–∫–∏
* –†–µ–ø–ª—ñ–∫–∞—Ü—ñ—è (–∫—ñ–ª—å–∫—ñ—Å—Ç—å –∑–∞–ø—É—â–µ–Ω–∏—Ö –ø—Ä–æ—Ü–µ—Å—ñ–≤)
* –ü–∞–º‚Äô—è—Ç—å
* –ü–æ–ø–µ—Ä–µ–¥–Ω—ñ –∫—Ä–æ–∫–∏ –ø–µ—Ä–µ–¥ –∑–∞–ø—É—Å–∫–æ–º

–£ –±—ñ–ª—å—à–æ—Å—Ç—ñ –≤–∏–ø–∞–¥–∫—ñ–≤ –≤–∏, –π–º–æ–≤—ñ—Ä–Ω–æ, –Ω–µ –∑–∞—Ö–æ—á–µ—Ç–µ –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É–≤–∞—Ç–∏ –±—É–¥—å-—è–∫–∏–π –±–∞–∑–æ–≤–∏–π –æ–±—Ä–∞–∑, –∞ –Ω–∞—Ç–æ–º—ñ—Å—Ç—å –∑—ñ–±—Ä–∞—Ç–∏ –æ–±—Ä–∞–∑ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∞ –∑ –Ω—É–ª—è –Ω–∞ –æ—Å–Ω–æ–≤—ñ –æ—Ñ—ñ—Ü—ñ–π–Ω–æ–≥–æ –æ–±—Ä–∞–∑—É Python –¥–ª—è Docker.

–î–æ—Ç—Ä–∏–º—É—é—á–∏—Å—å –ø–æ—Ä—è–¥–∫—É —ñ–Ω—Å—Ç—Ä—É–∫—Ü—ñ–π —É `Dockerfile` —ñ –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É—é—á–∏ –∫–µ—à Docker, –≤–∏ –º–æ–∂–µ—Ç–µ –º—ñ–Ω—ñ–º—ñ–∑—É–≤–∞—Ç–∏ —á–∞—Å –∑–±—ñ—Ä–∫–∏, —â–æ–± –º–∞–∫—Å–∏–º—ñ–∑—É–≤–∞—Ç–∏ —Å–≤–æ—é –ø—Ä–æ–¥—É–∫—Ç–∏–≤–Ω—ñ—Å—Ç—å (—ñ —É–Ω–∏–∫–Ω—É—Ç–∏ –Ω—É–¥—å–≥–∏). üòé
