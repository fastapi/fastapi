# –í–µ–ª–∏–∫—ñ –∑–∞—Å—Ç–æ—Å—É–Ω–∫–∏ ‚Äî –∫—ñ–ª—å–∫–∞ —Ñ–∞–π–ª—ñ–≤ { #bigger-applications-multiple-files }

–Ø–∫—â–æ –≤–∏ —Å—Ç–≤–æ—Ä—é—î—Ç–µ –∑–∞—Å—Ç–æ—Å—É–Ω–æ–∫ –∞–±–æ web API, —Ä—ñ–¥–∫–æ –±—É–≤–∞—î —Ç–∞–∫, —â–æ –≤—Å–µ –º–æ–∂–Ω–∞ —Ä–æ–∑–º—ñ—Å—Ç–∏—Ç–∏ –≤ –æ–¥–Ω–æ–º—É —Ñ–∞–π–ª—ñ.

**FastAPI** –Ω–∞–¥–∞—î –∑—Ä—É—á–Ω–∏–π —ñ–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç –¥–ª—è —Å—Ç—Ä—É–∫—Ç—É—Ä—É–≤–∞–Ω–Ω—è –∑–∞—Å—Ç–æ—Å—É–Ω–∫—É, –∑–±–µ—Ä—ñ–≥–∞—é—á–∏ –≤—Å—é –≥–Ω—É—á–∫—ñ—Å—Ç—å.

/// info | –Ü–Ω—Ñ–æ—Ä–º–∞—Ü—ñ—è

–Ø–∫—â–æ –≤–∏ –ø–µ—Ä–µ—Ö–æ–¥–∏—Ç–µ –∑ Flask, —Ü–µ –±—É–¥–µ –µ–∫–≤—ñ–≤–∞–ª–µ–Ω—Ç–æ–º Flask Blueprints.

///

## –ü—Ä–∏–∫–ª–∞–¥ —Å—Ç—Ä—É–∫—Ç—É—Ä–∏ —Ñ–∞–π–ª—ñ–≤ { #an-example-file-structure }

–ü—Ä–∏–ø—É—Å—Ç—ñ–º–æ, —É –≤–∞—Å —î —Ç–∞–∫–∞ —Å—Ç—Ä—É–∫—Ç—É—Ä–∞ —Ñ–∞–π–ª—ñ–≤:

```
.
‚îú‚îÄ‚îÄ app
‚îÇ¬†¬† ‚îú‚îÄ‚îÄ __init__.py
‚îÇ¬†¬† ‚îú‚îÄ‚îÄ main.py
‚îÇ¬†¬† ‚îú‚îÄ‚îÄ dependencies.py
‚îÇ¬†¬† ‚îî‚îÄ‚îÄ routers
‚îÇ¬†¬† ‚îÇ   ‚îú‚îÄ‚îÄ __init__.py
‚îÇ¬†¬† ‚îÇ   ‚îú‚îÄ‚îÄ items.py
‚îÇ¬†¬† ‚îÇ   ‚îî‚îÄ‚îÄ users.py
‚îÇ¬†¬† ‚îî‚îÄ‚îÄ internal
‚îÇ¬†¬†     ‚îú‚îÄ‚îÄ __init__.py
‚îÇ¬†¬†     ‚îî‚îÄ‚îÄ admin.py
```

/// tip | –ü–æ—Ä–∞–¥–∞

–Ñ –∫—ñ–ª—å–∫–∞ —Ñ–∞–π–ª—ñ–≤ `__init__.py`: –ø–æ –æ–¥–Ω–æ–º—É –≤ –∫–æ–∂–Ω–æ–º—É –∫–∞—Ç–∞–ª–æ–∑—ñ –∞–±–æ –ø—ñ–¥–∫–∞—Ç–∞–ª–æ–∑—ñ.

–°–∞–º–µ —Ü–µ –¥–æ–∑–≤–æ–ª—è—î —ñ–º–ø–æ—Ä—Ç—É–≤–∞—Ç–∏ –∫–æ–¥ –∑ –æ–¥–Ω–æ–≥–æ —Ñ–∞–π–ª—É –≤ —ñ–Ω—à–∏–π.

–ù–∞–ø—Ä–∏–∫–ª–∞–¥, —É `app/main.py` —É –≤–∞—Å –º–æ–∂–µ –±—É—Ç–∏ —Ä—è–¥–æ–∫ –Ω–∞ –∫—à—Ç–∞–ª—Ç:

```
from app.routers import items
```

///

* –ö–∞—Ç–∞–ª–æ–≥ `app` –º—ñ—Å—Ç–∏—Ç—å —É—Å–µ. –Ü –≤ –Ω—å–æ–º—É —î –ø–æ—Ä–æ–∂–Ω—ñ–π —Ñ–∞–π–ª `app/__init__.py`, —Ç–æ–º—É —Ü–µ ¬´Python package¬ª (–∫–æ–ª–µ–∫—Ü—ñ—è ¬´Python modules¬ª): `app`.
* –í—ñ–Ω –º—ñ—Å—Ç–∏—Ç—å —Ñ–∞–π–ª `app/main.py`. –û—Å–∫—ñ–ª—å–∫–∏ –≤—ñ–Ω –∑–Ω–∞—Ö–æ–¥–∏—Ç—å—Å—è –≤—Å–µ—Ä–µ–¥–∏–Ω—ñ Python package (–∫–∞—Ç–∞–ª–æ–≥ —ñ–∑ —Ñ–∞–π–ª–æ–º `__init__.py`), —Ü–µ ¬´module¬ª —Ü—å–æ–≥–æ –ø–∞–∫–µ—Ç–∞: `app.main`.
* –Ñ —Ç–∞–∫–æ–∂ —Ñ–∞–π–ª `app/dependencies.py`; —Ç–∞–∫ —Å–∞–º–æ —è–∫ `app/main.py`, —Ü–µ ¬´module¬ª: `app.dependencies`.
* –Ñ –ø—ñ–¥–∫–∞—Ç–∞–ª–æ–≥ `app/routers/` –∑ —ñ–Ω—à–∏–º —Ñ–∞–π–ª–æ–º `__init__.py`, —Ç–æ–∂ —Ü–µ ¬´Python subpackage¬ª: `app.routers`.
* –§–∞–π–ª `app/routers/items.py` –∑–Ω–∞—Ö–æ–¥–∏—Ç—å—Å—è –≤—Å–µ—Ä–µ–¥–∏–Ω—ñ –ø–∞–∫–µ—Ç–∞ `app/routers/`, –æ—Ç–∂–µ —Ü–µ –ø—ñ–¥–º–æ–¥—É–ª—å: `app.routers.items`.
* –¢–∞–∫ —Å–∞–º–æ –∑ `app/routers/users.py` ‚Äî —Ü–µ —ñ–Ω—à–∏–π –ø—ñ–¥–º–æ–¥—É–ª—å: `app.routers.users`.
* –Ñ —Ç–∞–∫–æ–∂ –ø—ñ–¥–∫–∞—Ç–∞–ª–æ–≥ `app/internal/` –∑ —ñ–Ω—à–∏–º —Ñ–∞–π–ª–æ–º `__init__.py`, —Ç–æ–∂ —Ü–µ —â–µ –æ–¥–∏–Ω ¬´Python subpackage¬ª: `app.internal`.
* –ê —Ñ–∞–π–ª `app/internal/admin.py` ‚Äî —â–µ –æ–¥–∏–Ω –ø—ñ–¥–º–æ–¥—É–ª—å: `app.internal.admin`.

<img src="/img/tutorial/bigger-applications/package.drawio.svg">

–¢–∞ —Å–∞–º–∞ —Å—Ç—Ä—É–∫—Ç—É—Ä–∞ —Ñ–∞–π–ª—ñ–≤ —ñ–∑ –∫–æ–º–µ–Ω—Ç–∞—Ä—è–º–∏:

```bash
.
‚îú‚îÄ‚îÄ app                  # "app" is a Python package
‚îÇ¬†¬† ‚îú‚îÄ‚îÄ __init__.py      # this file makes "app" a "Python package"
‚îÇ¬†¬† ‚îú‚îÄ‚îÄ main.py          # "main" module, e.g. import app.main
‚îÇ¬†¬† ‚îú‚îÄ‚îÄ dependencies.py  # "dependencies" module, e.g. import app.dependencies
‚îÇ¬†¬† ‚îî‚îÄ‚îÄ routers          # "routers" is a "Python subpackage"
‚îÇ¬†¬† ‚îÇ   ‚îú‚îÄ‚îÄ __init__.py  # makes "routers" a "Python subpackage"
‚îÇ¬†¬† ‚îÇ   ‚îú‚îÄ‚îÄ items.py     # "items" submodule, e.g. import app.routers.items
‚îÇ¬†¬† ‚îÇ   ‚îî‚îÄ‚îÄ users.py     # "users" submodule, e.g. import app.routers.users
‚îÇ¬†¬† ‚îî‚îÄ‚îÄ internal         # "internal" is a "Python subpackage"
‚îÇ¬†¬†     ‚îú‚îÄ‚îÄ __init__.py  # makes "internal" a "Python subpackage"
‚îÇ¬†¬†     ‚îî‚îÄ‚îÄ admin.py     # "admin" submodule, e.g. import app.internal.admin
```

## `APIRouter` { #apirouter }

–ü—Ä–∏–ø—É—Å—Ç—ñ–º–æ, —Ñ–∞–π–ª, –ø—Ä–∏–∑–Ω–∞—á–µ–Ω–∏–π –¥–ª—è –æ–±—Ä–æ–±–∫–∏ –ª–∏—à–µ –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á—ñ–≤, ‚Äî —Ü–µ –ø—ñ–¥–º–æ–¥—É–ª—å —É `/app/routers/users.py`.

–í–∏ —Ö–æ—á–µ—Ç–µ, —â–æ–± *–æ–ø–µ—Ä–∞—Ü—ñ—ó —à–ª—è—Ö—É*, –ø–æ–≤‚Äô—è–∑–∞–Ω—ñ –∑ –≤–∞—à–∏–º–∏ –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á–∞–º–∏, –±—É–ª–∏ –≤—ñ–¥–æ–∫—Ä–µ–º–ª–µ–Ω—ñ –≤—ñ–¥ —Ä–µ—à—Ç–∏ –∫–æ–¥—É, –∞–±–∏ –∑–±–µ—Ä—ñ–≥–∞—Ç–∏ –ø–æ—Ä—è–¥–æ–∫.

–ê–ª–µ —Ü–µ –≤—Å–µ –æ–¥–Ω–æ —á–∞—Å—Ç–∏–Ω–∞ —Ç–æ–≥–æ —Å–∞–º–æ–≥–æ –∑–∞—Å—Ç–æ—Å—É–Ω–∫—É/web API **FastAPI** (—Ç–æ–±—Ç–æ —á–∞—Å—Ç–∏–Ω–∞ —Ç–æ–≥–æ —Å–∞–º–æ–≥–æ ¬´Python Package¬ª).

–í–∏ –º–æ–∂–µ—Ç–µ —Å—Ç–≤–æ—Ä–∏—Ç–∏ *–æ–ø–µ—Ä–∞—Ü—ñ—ó —à–ª—è—Ö—É* –¥–ª—è —Ü—å–æ–≥–æ –º–æ–¥—É–ª—è –∑–∞ –¥–æ–ø–æ–º–æ–≥–æ—é `APIRouter`.

### –Ü–º–ø–æ—Ä—Ç `APIRouter` { #import-apirouter }

–í–∏ —ñ–º–ø–æ—Ä—Ç—É—î—Ç–µ –π–æ–≥–æ —Ç–∞ —Å—Ç–≤–æ—Ä—é—î—Ç–µ ¬´instance¬ª —Ç–∞–∫ —Å–∞–º–æ, —è–∫ —ñ –¥–ª—è –∫–ª–∞—Å—É `FastAPI`:

{* ../../docs_src/bigger_applications/app_an_py39/routers/users.py hl[1,3] title["app/routers/users.py"] *}

### *–û–ø–µ—Ä–∞—Ü—ñ—ó —à–ª—è—Ö—É* –∑ `APIRouter` { #path-operations-with-apirouter }

–ê –ø–æ—Ç—ñ–º –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É—î—Ç–µ –π–æ–≥–æ, —â–æ–± –æ–≥–æ–ª–æ—à—É–≤–∞—Ç–∏ –≤–∞—à—ñ *–æ–ø–µ—Ä–∞—Ü—ñ—ó —à–ª—è—Ö—É*.

–í–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É–π—Ç–µ —Ç–∞–∫ —Å–∞–º–æ, —è–∫ –≤–∏–∫–æ—Ä–∏—Å—Ç–∞–ª–∏ –± –∫–ª–∞—Å `FastAPI`:

{* ../../docs_src/bigger_applications/app_an_py39/routers/users.py hl[6,11,16] title["app/routers/users.py"] *}

–í–∏ –º–æ–∂–µ—Ç–µ —Å–ø—Ä–∏–π–º–∞—Ç–∏ `APIRouter` —è–∫ –∫–ª–∞—Å ¬´–º—ñ–Ω—ñ `FastAPI`¬ª.

–ü—ñ–¥—Ç—Ä–∏–º—É—é—Ç—å—Å—è —Ç—ñ —Å–∞–º—ñ –æ–ø—Ü—ñ—ó.

–¢—ñ —Å–∞–º—ñ `parameters`, `responses`, `dependencies`, `tags` —Ç–æ—â–æ.

/// tip | –ü–æ—Ä–∞–¥–∞

–£ —Ü—å–æ–º—É –ø—Ä–∏–∫–ª–∞–¥—ñ –∑–º—ñ–Ω–Ω–∞ –Ω–∞–∑–∏–≤–∞—î—Ç—å—Å—è `router`, –∞–ª–µ –≤–∏ –º–æ–∂–µ—Ç–µ –Ω–∞–∑–≤–∞—Ç–∏ —ó—ó —è–∫ –∑–∞–≤–≥–æ–¥–Ω–æ.

///

–ú–∏ –≤–∫–ª—é—á–∏–º–æ —Ü–µ–π `APIRouter` —É –≥–æ–ª–æ–≤–Ω–∏–π –∑–∞—Å—Ç–æ—Å—É–Ω–æ–∫ `FastAPI`, –∞–ª–µ —Å–ø–µ—Ä—à—É –ø–µ—Ä–µ–≤—ñ—Ä–∏–º–æ dependencies —Ç–∞ —ñ–Ω—à–∏–π `APIRouter`.

## Dependencies { #dependencies }

–ú–∏ –±–∞—á–∏–º–æ, —â–æ –Ω–∞–º –∑–Ω–∞–¥–æ–±–ª—è—Ç—å—Å—è –¥–µ—è–∫—ñ dependencies, —è–∫—ñ –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É—é—Ç—å—Å—è –≤ –∫—ñ–ª—å–∫–æ—Ö –º—ñ—Å—Ü—è—Ö –∑–∞—Å—Ç–æ—Å—É–Ω–∫—É.

–¢–æ–∂ –º–∏ –ø–æ–º—ñ—â–∞—î–º–æ —ó—Ö –≤ –æ–∫—Ä–µ–º–∏–π –º–æ–¥—É–ª—å `dependencies` (`app/dependencies.py`).

–ó–∞—Ä–∞–∑ –º–∏ –≤–∏–∫–æ—Ä–∏—Å—Ç–∞—î–º–æ –ø—Ä–æ—Å—Ç—É dependency, —â–æ–± –ø—Ä–æ—á–∏—Ç–∞—Ç–∏ –∫–∞—Å—Ç–æ–º–Ω–∏–π –∑–∞–≥–æ–ª–æ–≤–æ–∫ `X-Token`:

{* ../../docs_src/bigger_applications/app_an_py39/dependencies.py hl[3,6:8] title["app/dependencies.py"] *}

/// tip | –ü–æ—Ä–∞–¥–∞

–ú–∏ –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É—î–º–æ –≤–∏–≥–∞–¥–∞–Ω–∏–π –∑–∞–≥–æ–ª–æ–≤–æ–∫, —â–æ–± —Å–ø—Ä–æ—Å—Ç–∏—Ç–∏ —Ü–µ–π –ø—Ä–∏–∫–ª–∞–¥.

–ê–ª–µ –≤ —Ä–µ–∞–ª—å–Ω–∏—Ö –≤–∏–ø–∞–¥–∫–∞—Ö –≤–∏ –æ—Ç—Ä–∏–º–∞—î—Ç–µ –∫—Ä–∞—â—ñ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–∏, –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É—é—á–∏ –≤–±—É–¥–æ–≤–∞–Ω—ñ [—É—Ç–∏–ª—ñ—Ç–∏ Security](security/index.md){.internal-link target=_blank}.

///

## –Ü–Ω—à–∏–π –º–æ–¥—É–ª—å –∑ `APIRouter` { #another-module-with-apirouter }

–ü—Ä–∏–ø—É—Å—Ç—ñ–º–æ, —É –≤–∞—Å —Ç–∞–∫–æ–∂ —î endpoints, –ø—Ä–∏–∑–Ω–∞—á–µ–Ω—ñ –¥–ª—è –æ–±—Ä–æ–±–∫–∏ ¬´items¬ª —É –≤–∞—à–æ–º—É –∑–∞—Å—Ç–æ—Å—É–Ω–∫—É, –≤ –º–æ–¥—É–ª—ñ `app/routers/items.py`.

–£ –≤–∞—Å —î *–æ–ø–µ—Ä–∞—Ü—ñ—ó —à–ª—è—Ö—É* –¥–ª—è:

* `/items/`
* `/items/{item_id}`

–°—Ç—Ä—É–∫—Ç—É—Ä–∞ —Ç–∞ —Å–∞–º–∞, —â–æ –π —É `app/routers/users.py`.

–ê–ª–µ –º–∏ —Ö–æ—á–µ–º–æ –±—É—Ç–∏ —Ä–æ–∑—É–º–Ω—ñ—à–∏–º–∏ –π —Ç—Ä–æ—Ö–∏ —Å–ø—Ä–æ—Å—Ç–∏—Ç–∏ –∫–æ–¥.

–ú–∏ –∑–Ω–∞—î–º–æ, —â–æ –≤—Å—ñ *–æ–ø–µ—Ä–∞—Ü—ñ—ó —à–ª—è—Ö—É* –≤ —Ü—å–æ–º—É –º–æ–¥—É–ª—ñ –º–∞—é—Ç—å –æ–¥–Ω–∞–∫–æ–≤—ñ:

* Path `prefix`: `/items`.
* `tags`: (–ª–∏—à–µ –æ–¥–∏–Ω —Ç–µ–≥: `items`).
* –î–æ–¥–∞—Ç–∫–æ–≤—ñ `responses`.
* `dependencies`: —É—Å—ñ–º –ø–æ—Ç—Ä—ñ–±–Ω–∞ dependency `X-Token`, —è–∫—É –º–∏ —Å—Ç–≤–æ—Ä–∏–ª–∏.

–¢–æ–∂ –∑–∞–º—ñ—Å—Ç—å —Ç–æ–≥–æ, —â–æ–± –¥–æ–¥–∞–≤–∞—Ç–∏ –≤—Å–µ —Ü–µ –¥–æ –∫–æ–∂–Ω–æ—ó *–æ–ø–µ—Ä–∞—Ü—ñ—ó —à–ª—è—Ö—É*, –º–∏ –º–æ–∂–µ–º–æ –¥–æ–¥–∞—Ç–∏ —Ü–µ –¥–æ `APIRouter`.

{* ../../docs_src/bigger_applications/app_an_py39/routers/items.py hl[5:10,16,21] title["app/routers/items.py"] *}

–û—Å–∫—ñ–ª—å–∫–∏ —à–ª—è—Ö –∫–æ–∂–Ω–æ—ó *–æ–ø–µ—Ä–∞—Ü—ñ—ó —à–ª—è—Ö—É* –º–∞—î –ø–æ—á–∏–Ω–∞—Ç–∏—Å—è –∑ `/`, —è–∫-–æ—Ç —É:

```Python hl_lines="1"
@router.get("/{item_id}")
async def read_item(item_id: str):
    ...
```

...prefix –Ω–µ –ø–æ–≤–∏–Ω–µ–Ω –º—ñ—Å—Ç–∏—Ç–∏ –∫—ñ–Ω—Ü–µ–≤–∏–π `/`.

–û—Ç–∂–µ, prefix —É —Ü—å–æ–º—É –≤–∏–ø–∞–¥–∫—É ‚Äî `/items`.

–ú–∏ —Ç–∞–∫–æ–∂ –º–æ–∂–µ–º–æ –¥–æ–¥–∞—Ç–∏ —Å–ø–∏—Å–æ–∫ `tags` —ñ –¥–æ–¥–∞—Ç–∫–æ–≤—ñ `responses`, —è–∫—ñ –±—É–¥—É—Ç—å –∑–∞—Å—Ç–æ—Å–æ–≤–∞–Ω—ñ –¥–æ –≤—Å—ñ—Ö *–æ–ø–µ—Ä–∞—Ü—ñ–π —à–ª—è—Ö—É*, –≤–∫–ª—é—á–µ–Ω–∏—Ö —É —Ü–µ–π router.

–Ü –º–∏ –º–æ–∂–µ–º–æ –¥–æ–¥–∞—Ç–∏ —Å–ø–∏—Å–æ–∫ `dependencies`, —è–∫—ñ –±—É–¥—É—Ç—å –¥–æ–¥–∞–Ω—ñ –¥–æ –≤—Å—ñ—Ö *–æ–ø–µ—Ä–∞—Ü—ñ–π —à–ª—è—Ö—É* –≤ router —ñ –±—É–¥—É—Ç—å –≤–∏–∫–æ–Ω–∞–Ω—ñ/—Ä–æ–∑–≤‚Äô—è–∑–∞–Ω—ñ –¥–ª—è –∫–æ–∂–Ω–æ–≥–æ –∑–∞–ø–∏—Ç—É, –∑—Ä–æ–±–ª–µ–Ω–æ–≥–æ –¥–æ –Ω–∏—Ö.

/// tip | –ü–æ—Ä–∞–¥–∞

–ó–≤–µ—Ä–Ω—ñ—Ç—å —É–≤–∞–≥—É, —â–æ, —Ç–∞–∫ —Å–∞–º–æ —è–∫ —ñ —É –≤–∏–ø–∞–¥–∫—É [dependencies –≤ *–¥–µ–∫–æ—Ä–∞—Ç–æ—Ä–∞—Ö –æ–ø–µ—Ä–∞—Ü—ñ–π —à–ª—è—Ö—É*](dependencies/dependencies-in-path-operation-decorators.md){.internal-link target=_blank}, –∂–æ–¥–Ω–µ –∑–Ω–∞—á–µ–Ω–Ω—è –Ω–µ –±—É–¥–µ –ø–µ—Ä–µ–¥–∞–Ω–æ —É –≤–∞—à—É *—Ñ—É–Ω–∫—Ü—ñ—é –æ–ø–µ—Ä–∞—Ü—ñ—ó —à–ª—è—Ö—É*.

///

–ö—ñ–Ω—Ü–µ–≤–∏–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç: —à–ª—è—Ö–∏ –¥–ª—è items —Ç–µ–ø–µ—Ä:

* `/items/`
* `/items/{item_id}`

...—è–∫ –º–∏ –π –ø–ª–∞–Ω—É–≤–∞–ª–∏.

* –í–æ–Ω–∏ –±—É–¥—É—Ç—å –ø–æ–∑–Ω–∞—á–µ–Ω—ñ —Å–ø–∏—Å–∫–æ–º —Ç–µ–≥—ñ–≤, —â–æ –º—ñ—Å—Ç–∏—Ç—å –æ–¥–∏–Ω —Ä—è–¥–æ–∫ `"items"`.
    * –¶—ñ ¬´tags¬ª –æ—Å–æ–±–ª–∏–≤–æ –∫–æ—Ä–∏—Å–Ω—ñ –¥–ª—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–Ω–∏—Ö —ñ–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω–∏—Ö —Å–∏—Å—Ç–µ–º –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü—ñ—ó (–∑ –≤–∏–∫–æ—Ä–∏—Å—Ç–∞–Ω–Ω—è–º OpenAPI).
* –£—Å—ñ –≤–æ–Ω–∏ –≤–∫–ª—é—á–∞—Ç–∏–º—É—Ç—å –Ω–∞–ø–µ—Ä–µ–¥ –≤–∏–∑–Ω–∞—á–µ–Ω—ñ `responses`.
* –£—Å—ñ —Ü—ñ *–æ–ø–µ—Ä–∞—Ü—ñ—ó —à–ª—è—Ö—É* –º–∞—Ç–∏–º—É—Ç—å —Å–ø–∏—Å–æ–∫ `dependencies`, –æ–±—á–∏—Å–ª–µ–Ω–∏–π/–≤–∏–∫–æ–Ω–∞–Ω–∏–π –ø–µ—Ä–µ–¥ –Ω–∏–º–∏.
    * –Ø–∫—â–æ –≤–∏ —Ç–∞–∫–æ–∂ –æ–≥–æ–ª–æ—à—É—î—Ç–µ dependencies —É –∫–æ–Ω–∫—Ä–µ—Ç–Ω—ñ–π *–æ–ø–µ—Ä–∞—Ü—ñ—ó —à–ª—è—Ö—É*, **—ó—Ö —Ç–∞–∫–æ–∂ –±—É–¥–µ –≤–∏–∫–æ–Ω–∞–Ω–æ**.
    * Dependencies router –≤–∏–∫–æ–Ω—É—é—Ç—å—Å—è –ø–µ—Ä—à–∏–º–∏, –ø–æ—Ç—ñ–º [`dependencies` —É –¥–µ–∫–æ—Ä–∞—Ç–æ—Ä—ñ](dependencies/dependencies-in-path-operation-decorators.md){.internal-link target=_blank}, –∞ –ø–æ—Ç—ñ–º –∑–≤–∏—á–∞–π–Ω—ñ dependencies –ø–∞—Ä–∞–º–µ—Ç—Ä—ñ–≤.
    * –í–∏ —Ç–∞–∫–æ–∂ –º–æ–∂–µ—Ç–µ –¥–æ–¥–∞—Ç–∏ [`Security` dependencies –∑—ñ `scopes`](../advanced/security/oauth2-scopes.md){.internal-link target=_blank}.

/// tip | –ü–æ—Ä–∞–¥–∞

–ù–∞—è–≤–Ω—ñ—Å—Ç—å `dependencies` –≤ `APIRouter` –º–æ–∂–Ω–∞ –≤–∏–∫–æ—Ä–∏—Å—Ç–∞—Ç–∏, –Ω–∞–ø—Ä–∏–∫–ª–∞–¥, —â–æ–± –≤–∏–º–∞–≥–∞—Ç–∏ –∞–≤—Ç–µ–Ω—Ç–∏—Ñ—ñ–∫–∞—Ü—ñ—é –¥–ª—è —Ü—ñ–ª–æ–≥–æ –Ω–∞–±–æ—Ä—É *–æ–ø–µ—Ä–∞—Ü—ñ–π —à–ª—è—Ö—É*, –Ω–∞–≤—ñ—Ç—å —è–∫—â–æ dependencies –Ω–µ –¥–æ–¥–∞–Ω—ñ –æ–∫—Ä–µ–º–æ –¥–æ –∫–æ–∂–Ω–æ—ó –∑ –Ω–∏—Ö.

///

/// check

–ü–∞—Ä–∞–º–µ—Ç—Ä–∏ `prefix`, `tags`, `responses` —ñ `dependencies` (—è–∫ —ñ –≤ –±–∞–≥–∞—Ç—å–æ—Ö —ñ–Ω—à–∏—Ö –≤–∏–ø–∞–¥–∫–∞—Ö) ‚Äî —Ü–µ –ø—Ä–æ—Å—Ç–æ –º–æ–∂–ª–∏–≤—ñ—Å—Ç—å **FastAPI**, —è–∫–∞ –¥–æ–ø–æ–º–∞–≥–∞—î —É–Ω–∏–∫–∞—Ç–∏ –¥—É–±–ª—é–≤–∞–Ω–Ω—è –∫–æ–¥—É.

///

### –Ü–º–ø–æ—Ä—Ç dependencies { #import-the-dependencies }

–¶–µ–π –∫–æ–¥ –∑–Ω–∞—Ö–æ–¥–∏—Ç—å—Å—è –≤ –º–æ–¥—É–ª—ñ `app.routers.items`, —Ñ–∞–π–ª—ñ `app/routers/items.py`.

–Ü –Ω–∞–º –ø–æ—Ç—Ä—ñ–±–Ω–æ –æ—Ç—Ä–∏–º–∞—Ç–∏ —Ñ—É–Ω–∫—Ü—ñ—é dependency –∑ –º–æ–¥—É–ª—è `app.dependencies`, —Ñ–∞–π–ª—É `app/dependencies.py`.

–¢–æ–∂ –¥–ª—è dependencies –º–∏ –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É—î–º–æ –≤—ñ–¥–Ω–æ—Å–Ω–∏–π —ñ–º–ø–æ—Ä—Ç –∑ `..`:

{* ../../docs_src/bigger_applications/app_an_py39/routers/items.py hl[3] title["app/routers/items.py"] *}

#### –Ø–∫ –ø—Ä–∞—Ü—é—é—Ç—å –≤—ñ–¥–Ω–æ—Å–Ω—ñ —ñ–º–ø–æ—Ä—Ç–∏ { #how-relative-imports-work }

/// tip | –ü–æ—Ä–∞–¥–∞

–Ø–∫—â–æ –≤–∏ –¥–æ—Å–∫–æ–Ω–∞–ª–æ –∑–Ω–∞—î—Ç–µ, —è–∫ –ø—Ä–∞—Ü—é—é—Ç—å —ñ–º–ø–æ—Ä—Ç–∏, –ø–µ—Ä–µ—Ö–æ–¥—å—Ç–µ –¥–æ –Ω–∞—Å—Ç—É–ø–Ω–æ–≥–æ —Ä–æ–∑–¥—ñ–ª—É –Ω–∏–∂—á–µ.

///

–û–¥–Ω–∞ –∫—Ä–∞–ø–∫–∞ `.`, —è–∫ —É:

```Python
from .dependencies import get_token_header
```

–æ–∑–Ω–∞—á–∞—î:

* –ü–æ—á–∏–Ω–∞—î–º–æ –≤ —Ç–æ–º—É —Å–∞–º–æ–º—É package, –¥–µ –∑–Ω–∞—Ö–æ–¥–∏—Ç—å—Å—è —Ü–µ–π –º–æ–¥—É–ª—å (—Ñ–∞–π–ª `app/routers/items.py`), —Ç–æ–±—Ç–æ –≤ –∫–∞—Ç–∞–ª–æ–∑—ñ `app/routers/`...
* –∑–Ω–∞—Ö–æ–¥–∏–º–æ –º–æ–¥—É–ª—å `dependencies` (—É—è–≤–Ω–∏–π —Ñ–∞–π–ª `app/routers/dependencies.py`)...
* —ñ –∑ –Ω—å–æ–≥–æ —ñ–º–ø–æ—Ä—Ç—É—î–º–æ —Ñ—É–Ω–∫—Ü—ñ—é `get_token_header`.

–ê–ª–µ —Ç–∞–∫–æ–≥–æ —Ñ–∞–π–ª—É –Ω–µ —ñ—Å–Ω—É—î ‚Äî –Ω–∞—à—ñ dependencies –∑–Ω–∞—Ö–æ–¥—è—Ç—å—Å—è —É —Ñ–∞–π–ª—ñ `app/dependencies.py`.

–ó–≥–∞–¥–∞–π—Ç–µ, —è–∫ –≤–∏–≥–ª—è–¥–∞—î —Å—Ç—Ä—É–∫—Ç—É—Ä–∞ –Ω–∞—à–æ–≥–æ –∑–∞—Å—Ç–æ—Å—É–Ω–∫—É/—Ñ–∞–π–ª—ñ–≤:

<img src="/img/tutorial/bigger-applications/package.drawio.svg">

---

–î–≤—ñ –∫—Ä–∞–ø–∫–∏ `..`, —è–∫ —É:

```Python
from ..dependencies import get_token_header
```

–æ–∑–Ω–∞—á–∞—é—Ç—å:

* –ü–æ—á–∏–Ω–∞—î–º–æ –≤ —Ç–æ–º—É —Å–∞–º–æ–º—É package, –¥–µ –∑–Ω–∞—Ö–æ–¥–∏—Ç—å—Å—è —Ü–µ–π –º–æ–¥—É–ª—å (—Ñ–∞–π–ª `app/routers/items.py`), —Ç–æ–±—Ç–æ –≤ –∫–∞—Ç–∞–ª–æ–∑—ñ `app/routers/`...
* –ø–µ—Ä–µ—Ö–æ–¥–∏–º–æ –¥–æ –±–∞—Ç—å–∫—ñ–≤—Å—å–∫–æ–≥–æ package (–∫–∞—Ç–∞–ª–æ–≥ `app/`)...
* —ñ —Ç–∞–º –∑–Ω–∞—Ö–æ–¥–∏–º–æ –º–æ–¥—É–ª—å `dependencies` (—Ñ–∞–π–ª `app/dependencies.py`)...
* —ñ –∑ –Ω—å–æ–≥–æ —ñ–º–ø–æ—Ä—Ç—É—î–º–æ —Ñ—É–Ω–∫—Ü—ñ—é `get_token_header`.

–¶–µ –ø—Ä–∞—Ü—é—î –ø—Ä–∞–≤–∏–ª—å–Ω–æ! üéâ

---

–¢–∞–∫ —Å–∞–º–æ, —è–∫–±–∏ –º–∏ –≤–∏–∫–æ—Ä–∏—Å—Ç–∞–ª–∏ —Ç—Ä–∏ –∫—Ä–∞–ø–∫–∏ `...`, —è–∫ —É:

```Python
from ...dependencies import get_token_header
```

—Ü–µ –æ–∑–Ω–∞—á–∞–ª–æ –±:

* –ü–æ—á–∏–Ω–∞—î–º–æ –≤ —Ç–æ–º—É —Å–∞–º–æ–º—É package, –¥–µ –∑–Ω–∞—Ö–æ–¥–∏—Ç—å—Å—è —Ü–µ–π –º–æ–¥—É–ª—å (—Ñ–∞–π–ª `app/routers/items.py`), —Ç–æ–±—Ç–æ –≤ –∫–∞—Ç–∞–ª–æ–∑—ñ `app/routers/`)...
* –ø–µ—Ä–µ—Ö–æ–¥–∏–º–æ –¥–æ –±–∞—Ç—å–∫—ñ–≤—Å—å–∫–æ–≥–æ package (–∫–∞—Ç–∞–ª–æ–≥ `app/`)...
* –ø–æ—Ç—ñ–º –ø–µ—Ä–µ—Ö–æ–¥–∏–º–æ –¥–æ –±–∞—Ç—å–∫—ñ–≤—Å—å–∫–æ–≥–æ package –¥–ª—è –Ω—å–æ–≥–æ (–∞ –π–æ–≥–æ –Ω–µ–º–∞—î, `app` ‚Äî –≤–µ—Ä—Ö–Ω—ñ–π —Ä—ñ–≤–µ–Ω—å üò±)...
* —ñ —Ç–∞–º –∑–Ω–∞—Ö–æ–¥–∏–º–æ –º–æ–¥—É–ª—å `dependencies` (—Ñ–∞–π–ª `app/dependencies.py`)...
* —ñ –∑ –Ω—å–æ–≥–æ —ñ–º–ø–æ—Ä—Ç—É—î–º–æ —Ñ—É–Ω–∫—Ü—ñ—é `get_token_header`.

–¶–µ –ø–æ—Å–∏–ª–∞–ª–æ—Å—è –± –Ω–∞ —è–∫–∏–π—Å—å package –Ω–∞–¥ `app/`, –∑—ñ —Å–≤–æ—ó–º —Ñ–∞–π–ª–æ–º `__init__.py` —Ç–æ—â–æ. –ê–ª–µ –≤ –Ω–∞—Å —Ç–∞–∫–æ–≥–æ –Ω–µ–º–∞—î. –¢–æ–∂ —É –Ω–∞—à–æ–º—É –ø—Ä–∏–∫–ª–∞–¥—ñ —Ü–µ –≤–∏–∫–ª–∏—á–µ –ø–æ–º–∏–ª–∫—É. üö®

–ê–ª–µ —Ç–µ–ø–µ—Ä –≤–∏ –∑–Ω–∞—î—Ç–µ, —è–∫ —Ü–µ –ø—Ä–∞—Ü—é—î, —Ç–æ–∂ –º–æ–∂–µ—Ç–µ –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É–≤–∞—Ç–∏ –≤—ñ–¥–Ω–æ—Å–Ω—ñ —ñ–º–ø–æ—Ä—Ç–∏ —É –≤–ª–∞—Å–Ω–∏—Ö –∑–∞—Å—Ç–æ—Å—É–Ω–∫–∞—Ö –Ω–µ–∑–∞–ª–µ–∂–Ω–æ –≤—ñ–¥ —Ç–æ–≥–æ, –Ω–∞—Å–∫—ñ–ª—å–∫–∏ –≤–æ–Ω–∏ —Å–∫–ª–∞–¥–Ω—ñ. ü§ì

### –î–æ–¥–∞–π—Ç–µ –≤–ª–∞—Å–Ω—ñ `tags`, `responses` —ñ `dependencies` { #add-some-custom-tags-responses-and-dependencies }

–ú–∏ –Ω–µ –¥–æ–¥–∞—î–º–æ prefix `/items` –∞–Ω—ñ `tags=["items"]` –¥–æ –∫–æ–∂–Ω–æ—ó *–æ–ø–µ—Ä–∞—Ü—ñ—ó —à–ª—è—Ö—É*, —Ç–æ–º—É —â–æ –¥–æ–¥–∞–ª–∏ —ó—Ö –¥–æ `APIRouter`.

–ê–ª–µ –º–∏ –≤—Å–µ –æ–¥–Ω–æ –º–æ–∂–µ–º–æ –¥–æ–¥–∞—Ç–∏ _—â–µ_ `tags`, —è–∫—ñ –±—É–¥—É—Ç—å –∑–∞—Å—Ç–æ—Å–æ–≤–∞–Ω—ñ –¥–æ –∫–æ–Ω–∫—Ä–µ—Ç–Ω–æ—ó *–æ–ø–µ—Ä–∞—Ü—ñ—ó —à–ª—è—Ö—É*, —ñ —Ç–∞–∫–æ–∂ –¥–æ–¥–∞—Ç–∏ –¥–æ–¥–∞—Ç–∫–æ–≤—ñ `responses`, —Å–ø–µ—Ü–∏—Ñ—ñ—á–Ω—ñ –¥–ª—è —Ü—ñ—î—ó *–æ–ø–µ—Ä–∞—Ü—ñ—ó —à–ª—è—Ö—É*:

{* ../../docs_src/bigger_applications/app_an_py39/routers/items.py hl[30:31] title["app/routers/items.py"] *}

/// tip | –ü–æ—Ä–∞–¥–∞

–¶—è –æ—Å—Ç–∞–Ω–Ω—è –æ–ø–µ—Ä–∞—Ü—ñ—è —à–ª—è—Ö—É –º–∞—Ç–∏–º–µ –∫–æ–º–±—ñ–Ω–∞—Ü—ñ—é —Ç–µ–≥—ñ–≤: `["items", "custom"]`.

–Ü –≤–æ–Ω–∞ —Ç–∞–∫–æ–∂ –º–∞—Ç–∏–º–µ –æ–±–∏–¥–≤—ñ –≤—ñ–¥–ø–æ–≤—ñ–¥—ñ –≤ –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü—ñ—ó: –æ–¥–Ω—É –¥–ª—è `404` —ñ –æ–¥–Ω—É –¥–ª—è `403`.

///

## –ì–æ–ª–æ–≤–Ω–∏–π `FastAPI` { #the-main-fastapi }

–¢–µ–ø–µ—Ä —Ä–æ–∑–≥–ª—è–Ω—å–º–æ –º–æ–¥—É–ª—å `app/main.py`.

–¢—É—Ç –≤–∏ —ñ–º–ø–æ—Ä—Ç—É—î—Ç–µ –π –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É—î—Ç–µ –∫–ª–∞—Å `FastAPI`.

–¶–µ –±—É–¥–µ –≥–æ–ª–æ–≤–Ω–∏–π —Ñ–∞–π–ª –≤–∞—à–æ–≥–æ –∑–∞—Å—Ç–æ—Å—É–Ω–∫—É, —è–∫–∏–π –ø–æ—î–¥–Ω—É—î –≤—Å–µ —Ä–∞–∑–æ–º.

–Ü –æ—Å–∫—ñ–ª—å–∫–∏ –±—ñ–ª—å—à–∞ —á–∞—Å—Ç–∏–Ω–∞ –≤–∞—à–æ—ó –ª–æ–≥—ñ–∫–∏ —Ç–µ–ø–µ—Ä –∂–∏—Ç–∏–º–µ —É –≤–ª–∞—Å–Ω–∏—Ö –æ–∫—Ä–µ–º–∏—Ö –º–æ–¥—É–ª—è—Ö, –≥–æ–ª–æ–≤–Ω–∏–π —Ñ–∞–π–ª –±—É–¥–µ –¥–æ–≤–æ–ª—ñ –ø—Ä–æ—Å—Ç–∏–º.

### –Ü–º–ø–æ—Ä—Ç `FastAPI` { #import-fastapi }

–í–∏ —ñ–º–ø–æ—Ä—Ç—É—î—Ç–µ —Ç–∞ —Å—Ç–≤–æ—Ä—é—î—Ç–µ –∫–ª–∞—Å `FastAPI` —è–∫ –∑–∞–∑–≤–∏—á–∞–π.

–Ü –º–∏ –Ω–∞–≤—ñ—Ç—å –º–æ–∂–µ–º–æ –æ–≥–æ–ª–æ—Å–∏—Ç–∏ [–≥–ª–æ–±–∞–ª—å–Ω—ñ dependencies](dependencies/global-dependencies.md){.internal-link target=_blank}, —è–∫—ñ –±—É–¥—É—Ç—å –ø–æ—î–¥–Ω–∞–Ω—ñ –∑ dependencies –¥–ª—è –∫–æ–∂–Ω–æ–≥–æ `APIRouter`:

{* ../../docs_src/bigger_applications/app_an_py39/main.py hl[1,3,7] title["app/main.py"] *}

### –Ü–º–ø–æ—Ä—Ç `APIRouter` { #import-the-apirouter }

–¢–µ–ø–µ—Ä —ñ–º–ø–æ—Ä—Ç—É—î–º–æ —ñ–Ω—à—ñ –ø—ñ–¥–º–æ–¥—É–ª—ñ, —è–∫—ñ –º–∞—é—Ç—å `APIRouter`:

{* ../../docs_src/bigger_applications/app_an_py39/main.py hl[4:5] title["app/main.py"] *}

–û—Å–∫—ñ–ª—å–∫–∏ —Ñ–∞–π–ª–∏ `app/routers/users.py` —ñ `app/routers/items.py` —î –ø—ñ–¥–º–æ–¥—É–ª—è–º–∏, —â–æ –Ω–∞–ª–µ–∂–∞—Ç—å –¥–æ —Ç–æ–≥–æ —Å–∞–º–æ–≥–æ Python package `app`, –º–∏ –º–æ–∂–µ–º–æ –≤–∏–∫–æ—Ä–∏—Å—Ç–∞—Ç–∏ –æ–¥–Ω—É –∫—Ä–∞–ø–∫—É `.` –¥–ª—è —ñ–º–ø–æ—Ä—Ç—É –∑–∞ –¥–æ–ø–æ–º–æ–≥–æ—é ¬´relative imports¬ª.

### –Ø–∫ –ø—Ä–∞—Ü—é—î —ñ–º–ø–æ—Ä—Ç { #how-the-importing-works }

–°–µ–∫—Ü—ñ—è:

```Python
from .routers import items, users
```

–æ–∑–Ω–∞—á–∞—î:

* –ü–æ—á–∏–Ω–∞—î–º–æ –≤ —Ç–æ–º—É —Å–∞–º–æ–º—É package, –¥–µ –∑–Ω–∞—Ö–æ–¥–∏—Ç—å—Å—è —Ü–µ–π –º–æ–¥—É–ª—å (—Ñ–∞–π–ª `app/main.py`), —Ç–æ–±—Ç–æ –≤ –∫–∞—Ç–∞–ª–æ–∑—ñ `app/`)...
* —à—É–∫–∞—î–º–æ subpackage `routers` (–∫–∞—Ç–∞–ª–æ–≥ `app/routers/`)...
* —ñ –∑ –Ω—å–æ–≥–æ —ñ–º–ø–æ—Ä—Ç—É—î–º–æ –ø—ñ–¥–º–æ–¥—É–ª—å `items` (—Ñ–∞–π–ª `app/routers/items.py`) —Ç–∞ `users` (—Ñ–∞–π–ª `app/routers/users.py`)...

–ú–æ–¥—É–ª—å `items` –º–∞—Ç–∏–º–µ –∑–º—ñ–Ω–Ω—É `router` (`items.router`). –¶–µ —Ç–∞ —Å–∞–º–∞ –∑–º—ñ–Ω–Ω–∞, —è–∫—É –º–∏ —Å—Ç–≤–æ—Ä–∏–ª–∏ —É —Ñ–∞–π–ª—ñ `app/routers/items.py`; —Ü–µ –æ–±‚Äô—î–∫—Ç `APIRouter`.

–ê –ø–æ—Ç—ñ–º –º–∏ —Ä–æ–±–∏–º–æ —Ç–µ —Å–∞–º–µ –¥–ª—è –º–æ–¥—É–ª—è `users`.

–ú–∏ —Ç–∞–∫–æ–∂ –º–æ–≥–ª–∏ –± —ñ–º–ø–æ—Ä—Ç—É–≤–∞—Ç–∏ —ó—Ö —Ç–∞–∫:

```Python
from app.routers import items, users
```

/// info | –Ü–Ω—Ñ–æ—Ä–º–∞—Ü—ñ—è

–ü–µ—Ä—à–∞ –≤–µ—Ä—Å—ñ—è ‚Äî —Ü–µ ¬´relative import¬ª:

```Python
from .routers import items, users
```

–î—Ä—É–≥–∞ –≤–µ—Ä—Å—ñ—è ‚Äî —Ü–µ ¬´absolute import¬ª:

```Python
from app.routers import items, users
```

–©–æ–± –¥—ñ–∑–Ω–∞—Ç–∏—Å—è –±—ñ–ª—å—à–µ –ø—Ä–æ Python Packages —ñ Modules, –ø—Ä–æ—á–∏—Ç–∞–π—Ç–µ <a href="https://docs.python.org/3/tutorial/modules.html" class="external-link" target="_blank">–æ—Ñ—ñ—Ü—ñ–π–Ω—É –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü—ñ—é Python –ø—Ä–æ Modules</a>.

///

### –£–Ω–∏–∫–∞–π—Ç–µ –∫–æ–ª—ñ–∑—ñ–π —ñ–º–µ–Ω { #avoid-name-collisions }

–ú–∏ —ñ–º–ø–æ—Ä—Ç—É—î–º–æ –ø—ñ–¥–º–æ–¥—É–ª—å `items` –±–µ–∑–ø–æ—Å–µ—Ä–µ–¥–Ω—å–æ, –∑–∞–º—ñ—Å—Ç—å —ñ–º–ø–æ—Ä—Ç—É –ª–∏—à–µ –π–æ–≥–æ –∑–º—ñ–Ω–Ω–æ—ó `router`.

–¶–µ —Ç–æ–º—É, —â–æ –≤ –ø—ñ–¥–º–æ–¥—É–ª—ñ `users` —É –Ω–∞—Å —Ç–∞–∫–æ–∂ —î –∑–º—ñ–Ω–Ω–∞ –∑ –Ω–∞–∑–≤–æ—é `router`.

–Ø–∫–±–∏ –º–∏ —ñ–º–ø–æ—Ä—Ç—É–≤–∞–ª–∏ –æ–¥–Ω—É –∑–∞ –æ–¥–Ω–æ—é, –Ω–∞–ø—Ä–∏–∫–ª–∞–¥ —Ç–∞–∫:

```Python
from .routers.items import router
from .routers.users import router
```

—Ç–æ `router` –∑ `users` –ø–µ—Ä–µ–∑–∞–ø–∏—Å–∞–≤ –±–∏ `router` –∑ `items`, —ñ –º–∏ –Ω–µ –∑–º–æ–≥–ª–∏ –± –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É–≤–∞—Ç–∏ —ó—Ö –æ–¥–Ω–æ—á–∞—Å–Ω–æ.

–¢–æ–∂, —â–æ–± –º–∞—Ç–∏ –∑–º–æ–≥—É –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É–≤–∞—Ç–∏ –æ–±–∏–¥–≤–∞ –≤ –æ–¥–Ω–æ–º—É —Ñ–∞–π–ª—ñ, –º–∏ —ñ–º–ø–æ—Ä—Ç—É—î–º–æ –ø—ñ–¥–º–æ–¥—É–ª—ñ –Ω–∞–ø—Ä—è–º—É:

{* ../../docs_src/bigger_applications/app_an_py39/main.py hl[5] title["app/main.py"] *}

### –ü—ñ–¥–∫–ª—é—á—ñ—Ç—å `APIRouter` –¥–ª—è `users` —ñ `items` { #include-the-apirouters-for-users-and-items }

–¢–µ–ø–µ—Ä –ø—ñ–¥–∫–ª—é—á—ñ–º–æ `router` –∑ –ø—ñ–¥–º–æ–¥—É–ª—ñ–≤ `users` —ñ `items`:

{* ../../docs_src/bigger_applications/app_an_py39/main.py hl[10:11] title["app/main.py"] *}

/// info | –Ü–Ω—Ñ–æ—Ä–º–∞—Ü—ñ—è

`users.router` –º—ñ—Å—Ç–∏—Ç—å `APIRouter` —É—Å–µ—Ä–µ–¥–∏–Ω—ñ —Ñ–∞–π–ª—É `app/routers/users.py`.

–ê `items.router` –º—ñ—Å—Ç–∏—Ç—å `APIRouter` —É—Å–µ—Ä–µ–¥–∏–Ω—ñ —Ñ–∞–π–ª—É `app/routers/items.py`.

///

–ó–∞ –¥–æ–ø–æ–º–æ–≥–æ—é `app.include_router()` –º–∏ –º–æ–∂–µ–º–æ –¥–æ–¥–∞—Ç–∏ –∫–æ–∂–µ–Ω `APIRouter` –¥–æ –≥–æ–ª–æ–≤–Ω–æ–≥–æ –∑–∞—Å—Ç–æ—Å—É–Ω–∫—É `FastAPI`.

–í—ñ–Ω –≤–∫–ª—é—á–∏—Ç—å —É—Å—ñ –º–∞—Ä—à—Ä—É—Ç–∏ –∑ —Ç–æ–≥–æ router —è–∫ —á–∞—Å—Ç–∏–Ω—É –∑–∞—Å—Ç–æ—Å—É–Ω–∫—É.

/// note | –¢–µ—Ö–Ω—ñ—á–Ω—ñ –¥–µ—Ç–∞–ª—ñ

–ù–∞—Å–ø—Ä–∞–≤–¥—ñ –≤—ñ–Ω –≤–Ω—É—Ç—Ä—ñ—à–Ω—å–æ —Å—Ç–≤–æ—Ä–∏—Ç—å *–æ–ø–µ—Ä–∞—Ü—ñ—é —à–ª—è—Ö—É* –¥–ª—è –∫–æ–∂–Ω–æ—ó *–æ–ø–µ—Ä–∞—Ü—ñ—ó —à–ª—è—Ö—É*, –æ–≥–æ–ª–æ—à–µ–Ω–æ—ó –≤ `APIRouter`.

–¢–æ–∂ ¬´–∑–∞ –ª–∞—à—Ç—É–Ω–∫–∞–º–∏¬ª —É—Å–µ –ø—Ä–∞—Ü—é–≤–∞—Ç–∏–º–µ —Ç–∞–∫, –Ω—ñ–±–∏ —Ü–µ –æ–¥–∏–Ω –∑–∞—Å—Ç–æ—Å—É–Ω–æ–∫.

///

/// check

–í–∞–º –Ω–µ –ø–æ—Ç—Ä—ñ–±–Ω–æ —Ç—É—Ä–±—É–≤–∞—Ç–∏—Å—è –ø—Ä–æ –ø—Ä–æ–¥—É–∫—Ç–∏–≤–Ω—ñ—Å—Ç—å –ø—ñ–¥ —á–∞—Å –ø—ñ–¥–∫–ª—é—á–µ–Ω–Ω—è router.

–¶–µ –∑–∞–π–º–µ –º—ñ–∫—Ä–æ—Å–µ–∫—É–Ω–¥–∏ –π –≤—ñ–¥–±—É–¥–µ—Ç—å—Å—è –ª–∏—à–µ –ø—ñ–¥ —á–∞—Å —Å—Ç–∞—Ä—Ç—É.

–¢–æ–∂ —Ü–µ –Ω–µ –≤–ø–ª–∏–Ω–µ –Ω–∞ –ø—Ä–æ–¥—É–∫—Ç–∏–≤–Ω—ñ—Å—Ç—å. ‚ö°

///

### –ü—ñ–¥–∫–ª—é—á—ñ—Ç—å `APIRouter` –∑ –≤–ª–∞—Å–Ω–∏–º–∏ `prefix`, `tags`, `responses` —ñ `dependencies` { #include-an-apirouter-with-a-custom-prefix-tags-responses-and-dependencies }

–¢–µ–ø–µ—Ä —É—è–≤—ñ–º–æ, —â–æ –≤–∞—à–∞ –æ—Ä–≥–∞–Ω—ñ–∑–∞—Ü—ñ—è –Ω–∞–¥–∞–ª–∞ –≤–∞–º —Ñ–∞–π–ª `app/internal/admin.py`.

–í—ñ–Ω –º—ñ—Å—Ç–∏—Ç—å `APIRouter` –∑ –¥–µ—è–∫–∏–º–∏ –∞–¥–º—ñ–Ω—ñ—Å—Ç—Ä–∞—Ç–∏–≤–Ω–∏–º–∏ *–æ–ø–µ—Ä–∞—Ü—ñ—è–º–∏ —à–ª—è—Ö—É*, —è–∫—ñ –æ—Ä–≥–∞–Ω—ñ–∑–∞—Ü—ñ—è —Å–ø—ñ–ª—å–Ω–æ –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É—î –º—ñ–∂ –∫—ñ–ª—å–∫–æ–º–∞ –ø—Ä–æ—î–∫—Ç–∞–º–∏.

–£ —Ü—å–æ–º—É –ø—Ä–∏–∫–ª–∞–¥—ñ –≤—ñ–Ω –±—É–¥–µ –¥—É–∂–µ –ø—Ä–æ—Å—Ç–∏–º. –ê–ª–µ –ø—Ä–∏–ø—É—Å—Ç—ñ–º–æ, —â–æ —á–µ—Ä–µ–∑ —Å–ø—ñ–ª—å–Ω–µ –≤–∏–∫–æ—Ä–∏—Å—Ç–∞–Ω–Ω—è –∑ —ñ–Ω—à–∏–º–∏ –ø—Ä–æ—î–∫—Ç–∞–º–∏ –æ—Ä–≥–∞–Ω—ñ–∑–∞—Ü—ñ—ó –º–∏ –Ω–µ –º–æ–∂–µ–º–æ –∑–º—ñ–Ω—é–≤–∞—Ç–∏ –π–æ–≥–æ —Ç–∞ –¥–æ–¥–∞–≤–∞—Ç–∏ `prefix`, `dependencies`, `tags` —Ç–æ—â–æ –±–µ–∑–ø–æ—Å–µ—Ä–µ–¥–Ω—å–æ –¥–æ `APIRouter`:

{* ../../docs_src/bigger_applications/app_an_py39/internal/admin.py hl[3] title["app/internal/admin.py"] *}

–ê–ª–µ –º–∏ –≤—Å–µ –æ–¥–Ω–æ —Ö–æ—á–µ–º–æ –≤—Å—Ç–∞–Ω–æ–≤–∏—Ç–∏ –≤–ª–∞—Å–Ω–∏–π `prefix` –ø—ñ–¥ —á–∞—Å –ø—ñ–¥–∫–ª—é—á–µ–Ω–Ω—è `APIRouter`, —â–æ–± —É—Å—ñ –π–æ–≥–æ *–æ–ø–µ—Ä–∞—Ü—ñ—ó —à–ª—è—Ö—É* –ø–æ—á–∏–Ω–∞–ª–∏—Å—è –∑ `/admin`, —Ö–æ—á–µ–º–æ –∑–∞—Ö–∏—Å—Ç–∏—Ç–∏ –π–æ–≥–æ –∑–∞ –¥–æ–ø–æ–º–æ–≥–æ—é `dependencies`, —è–∫—ñ –≤–∂–µ —î –≤ —Ü—å–æ–º—É –ø—Ä–æ—î–∫—Ç—ñ, —ñ —Ö–æ—á–µ–º–æ –¥–æ–¥–∞—Ç–∏ `tags` —Ç–∞ `responses`.

–ú–∏ –º–æ–∂–µ–º–æ –æ–≥–æ–ª–æ—Å–∏—Ç–∏ –≤—Å–µ —Ü–µ –±–µ–∑ –º–æ–¥–∏—Ñ—ñ–∫–∞—Ü—ñ—ó –æ—Ä–∏–≥—ñ–Ω–∞–ª—å–Ω–æ–≥–æ `APIRouter`, –ø–µ—Ä–µ–¥–∞–≤—à–∏ —Ü—ñ –ø–∞—Ä–∞–º–µ—Ç—Ä–∏ –≤ `app.include_router()`:

{* ../../docs_src/bigger_applications/app_an_py39/main.py hl[14:17] title["app/main.py"] *}

–¢–∞–∫–∏–º —á–∏–Ω–æ–º –æ—Ä–∏–≥—ñ–Ω–∞–ª—å–Ω–∏–π `APIRouter` –∑–∞–ª–∏—à–∏—Ç—å—Å—è –Ω–µ–∑–º—ñ–Ω–Ω–∏–º, —Ç–æ–∂ –º–∏ –π –Ω–∞–¥–∞–ª—ñ –∑–º–æ–∂–µ–º–æ –¥—ñ–ª–∏—Ç–∏—Å—è —Ç–∏–º —Å–∞–º–∏–º —Ñ–∞–π–ª–æ–º `app/internal/admin.py` –∑ —ñ–Ω—à–∏–º–∏ –ø—Ä–æ—î–∫—Ç–∞–º–∏ –≤ –æ—Ä–≥–∞–Ω—ñ–∑–∞—Ü—ñ—ó.

–†–µ–∑—É–ª—å—Ç–∞—Ç: —É –Ω–∞—à–æ–º—É –∑–∞—Å—Ç–æ—Å—É–Ω–∫—É –∫–æ–∂–Ω–∞ *–æ–ø–µ—Ä–∞—Ü—ñ—è —à–ª—è—Ö—É* –∑ –º–æ–¥—É–ª—è `admin` –º–∞—Ç–∏–º–µ:

* Prefix `/admin`.
* –¢–µ–≥ `admin`.
* Dependency `get_token_header`.
* –í—ñ–¥–ø–æ–≤—ñ–¥—å `418`. üçµ

–ê–ª–µ —Ü–µ –≤–ø–ª–∏–Ω–µ –ª–∏—à–µ –Ω–∞ —Ü–µ–π `APIRouter` —É –Ω–∞—à–æ–º—É –∑–∞—Å—Ç–æ—Å—É–Ω–∫—É, –∞ –Ω–µ –Ω–∞ –±—É–¥—å-—è–∫–∏–π —ñ–Ω—à–∏–π –∫–æ–¥, —è–∫–∏–π –π–æ–≥–æ –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É—î.

–¢–æ–∂, –Ω–∞–ø—Ä–∏–∫–ª–∞–¥, —ñ–Ω—à—ñ –ø—Ä–æ—î–∫—Ç–∏ –º–æ–∂—É—Ç—å –≤–∏–∫–æ—Ä–∏—Å—Ç–∞—Ç–∏ —Ç–æ–π —Å–∞–º–∏–π `APIRouter` –∑ —ñ–Ω—à–∏–º –º–µ—Ç–æ–¥–æ–º –∞–≤—Ç–µ–Ω—Ç–∏—Ñ—ñ–∫–∞—Ü—ñ—ó.

### –î–æ–¥–∞–π—Ç–µ *–æ–ø–µ—Ä–∞—Ü—ñ—é —à–ª—è—Ö—É* { #include-a-path-operation }

–ú–∏ —Ç–∞–∫–æ–∂ –º–æ–∂–µ–º–æ –¥–æ–¥–∞–≤–∞—Ç–∏ *–æ–ø–µ—Ä–∞—Ü—ñ—ó —à–ª—è—Ö—É* –±–µ–∑–ø–æ—Å–µ—Ä–µ–¥–Ω—å–æ –¥–æ –∑–∞—Å—Ç–æ—Å—É–Ω–∫—É `FastAPI`.

–¢—É—Ç –º–∏ –∑—Ä–æ–±–∏–º–æ —Ü–µ... –ø—Ä–æ—Å—Ç–æ —â–æ–± –ø–æ–∫–∞–∑–∞—Ç–∏, —â–æ –º–æ–∂–µ–º–æ ü§∑:

{* ../../docs_src/bigger_applications/app_an_py39/main.py hl[21:23] title["app/main.py"] *}

—ñ —Ü–µ –ø—Ä–∞—Ü—é–≤–∞—Ç–∏–º–µ –∫–æ—Ä–µ–∫—Ç–Ω–æ —Ä–∞–∑–æ–º –∑ —É—Å—ñ–º–∞ —ñ–Ω—à–∏–º–∏ *–æ–ø–µ—Ä–∞—Ü—ñ—è–º–∏ —à–ª—è—Ö—É*, –¥–æ–¥–∞–Ω–∏–º–∏ —á–µ—Ä–µ–∑ `app.include_router()`.

/// info | –Ü–Ω—Ñ–æ—Ä–º–∞—Ü—ñ—è

**–ü—Ä–∏–º—ñ—Ç–∫–∞**: —Ü–µ –¥—É–∂–µ —Ç–µ—Ö–Ω—ñ—á–Ω–∞ –¥–µ—Ç–∞–ª—å, —è–∫—É –≤–∏, –π–º–æ–≤—ñ—Ä–Ω–æ, –º–æ–∂–µ—Ç–µ **–ø—Ä–æ—Å—Ç–æ –ø—Ä–æ–ø—É—Å—Ç–∏—Ç–∏**.

---

`APIRouter` –Ω–µ ¬´–º–æ–Ω—Ç—É—é—Ç—å—Å—è¬ª, –≤–æ–Ω–∏ –Ω–µ —ñ–∑–æ–ª—å–æ–≤–∞–Ω—ñ –≤—ñ–¥ —Ä–µ—à—Ç–∏ –∑–∞—Å—Ç–æ—Å—É–Ω–∫—É.

–¶–µ —Ç–æ–º—É, —â–æ –º–∏ —Ö–æ—á–µ–º–æ –≤–∫–ª—é—á–∏—Ç–∏ —ó—Ö–Ω—ñ *–æ–ø–µ—Ä–∞—Ü—ñ—ó —à–ª—è—Ö—É* –≤ —Å—Ö–µ–º—É OpenAPI —Ç–∞ —ñ–Ω—Ç–µ—Ä—Ñ–µ–π—Å–∏ –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á–∞.

–û—Å–∫—ñ–ª—å–∫–∏ –º–∏ –Ω–µ –º–æ–∂–µ–º–æ –ø—Ä–æ—Å—Ç–æ —ñ–∑–æ–ª—é–≤–∞—Ç–∏ —ó—Ö —ñ ¬´–∑–º–æ–Ω—Ç—É–≤–∞—Ç–∏¬ª –Ω–µ–∑–∞–ª–µ–∂–Ω–æ –≤—ñ–¥ —Ä–µ—à—Ç–∏, *–æ–ø–µ—Ä–∞—Ü—ñ—ó —à–ª—è—Ö—É* ¬´–∫–ª–æ–Ω—É—é—Ç—å—Å—è¬ª (—Å—Ç–≤–æ—Ä—é—é—Ç—å—Å—è –∑–∞–Ω–æ–≤–æ), –∞ –Ω–µ –≤–∫–ª—é—á–∞—é—Ç—å—Å—è –Ω–∞–ø—Ä—è–º—É.

///

## –ü–µ—Ä–µ–≤—ñ—Ä—Ç–µ –∞–≤—Ç–æ–º–∞—Ç–∏—á–Ω—É –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü—ñ—é API { #check-the-automatic-api-docs }

–¢–µ–ø–µ—Ä –∑–∞–ø—É—Å—Ç—ñ—Ç—å –∑–∞—Å—Ç–æ—Å—É–Ω–æ–∫:

<div class="termy">

```console
$ fastapi dev app/main.py

<span style="color: green;">INFO</span>:     Uvicorn running on http://127.0.0.1:8000 (Press CTRL+C to quit)
```

</div>

–Ü –≤—ñ–¥–∫—Ä–∏–π—Ç–µ –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü—ñ—é –∑–∞ –∞–¥—Ä–µ—Å–æ—é <a href="http://127.0.0.1:8000/docs" class="external-link" target="_blank">http://127.0.0.1:8000/docs</a>.

–í–∏ –ø–æ–±–∞—á–∏—Ç–µ –∞–≤—Ç–æ–º–∞—Ç–∏—á–Ω—É –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü—ñ—é API, –≤–∫–ª—é—á–Ω–æ –∑—ñ —à–ª—è—Ö–∞–º–∏ –∑ —É—Å—ñ—Ö –ø—ñ–¥–º–æ–¥—É–ª—ñ–≤, –∑ –ø—Ä–∞–≤–∏–ª—å–Ω–∏–º–∏ —à–ª—è—Ö–∞–º–∏ (—ñ prefix) —Ç–∞ –ø—Ä–∞–≤–∏–ª—å–Ω–∏–º–∏ —Ç–µ–≥–∞–º–∏:

<img src="/img/tutorial/bigger-applications/image01.png">

## –ü—ñ–¥–∫–ª—é—á–∞–π—Ç–µ —Ç–æ–π —Å–∞–º–∏–π router –∫—ñ–ª—å–∫–∞ —Ä–∞–∑—ñ–≤ –∑ —Ä—ñ–∑–Ω–∏–º–∏ `prefix` { #include-the-same-router-multiple-times-with-different-prefix }

–í–∏ —Ç–∞–∫–æ–∂ –º–æ–∂–µ—Ç–µ –≤–∏–∫–ª–∏–∫–∞—Ç–∏ `.include_router()` –∫—ñ–ª—å–∫–∞ —Ä–∞–∑—ñ–≤ –¥–ª—è *—Ç–æ–≥–æ —Å–∞–º–æ–≥–æ* router, –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É—é—á–∏ —Ä—ñ–∑–Ω—ñ prefix.

–¶–µ –º–æ–∂–µ –±—É—Ç–∏ –∫–æ—Ä–∏—Å–Ω–æ, –Ω–∞–ø—Ä–∏–∫–ª–∞–¥, —â–æ–± –Ω–∞–¥–∞–≤–∞—Ç–∏ —Ç–æ–π —Å–∞–º–∏–π API –ø—ñ–¥ —Ä—ñ–∑–Ω–∏–º–∏ prefix, –Ω–∞–ø—Ä–∏–∫–ª–∞–¥ `/api/v1` —ñ `/api/latest`.

–¶–µ –ø—Ä–æ—Å—É–Ω—É—Ç–µ –≤–∏–∫–æ—Ä–∏—Å—Ç–∞–Ω–Ω—è, —è–∫–µ –≤–∞–º, –º–æ–∂–ª–∏–≤–æ, –Ω–µ –∑–Ω–∞–¥–æ–±–∏—Ç—å—Å—è, –∞–ª–µ –≤–æ–Ω–æ –¥–æ—Å—Ç—É–ø–Ω–µ, —è–∫—â–æ –ø–æ—Ç—Ä—ñ–±–Ω–æ.

## –ü—ñ–¥–∫–ª—é—á—ñ—Ç—å `APIRouter` –≤ —ñ–Ω—à–∏–π { #include-an-apirouter-in-another }

–¢–∞–∫ —Å–∞–º–æ, —è–∫ –≤–∏ –º–æ–∂–µ—Ç–µ –ø—ñ–¥–∫–ª—é—á–∏—Ç–∏ `APIRouter` —É –∑–∞—Å—Ç–æ—Å—É–Ω–æ–∫ `FastAPI`, –≤–∏ –º–æ–∂–µ—Ç–µ –ø—ñ–¥–∫–ª—é—á–∏—Ç–∏ `APIRouter` –≤ —ñ–Ω—à–∏–π `APIRouter`, –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É—é—á–∏:

```Python
router.include_router(other_router)
```

–ü–µ—Ä–µ–∫–æ–Ω–∞–π—Ç–µ—Å—è, —â–æ –≤–∏ –∑—Ä–æ–±–∏–ª–∏ —Ü–µ –ø–µ—Ä–µ–¥ –ø—ñ–¥–∫–ª—é—á–µ–Ω–Ω—è–º `router` —É –∑–∞—Å—Ç–æ—Å—É–Ω–æ–∫ `FastAPI`, —â–æ–± *–æ–ø–µ—Ä–∞—Ü—ñ—ó —à–ª—è—Ö—É* –∑ `other_router` —Ç–∞–∫–æ–∂ –±—É–ª–∏ –≤–∫–ª—é—á–µ–Ω—ñ.
