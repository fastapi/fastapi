# –ó–∞–ª–µ–∂–Ω–æ—Å—Ç—ñ –∑ yield { #dependencies-with-yield }

FastAPI –ø—ñ–¥—Ç—Ä–∏–º—É—î –∑–∞–ª–µ–∂–Ω–æ—Å—Ç—ñ, —è–∫—ñ –≤–∏–∫–æ–Ω—É—é—Ç—å –¥–µ—è–∫—ñ <dfn title='—ñ–Ω–∫–æ–ª–∏ —Ç–∞–∫–æ–∂ –Ω–∞–∑–∏–≤–∞—î—Ç—å—Å—è ¬´exit code¬ª, ¬´cleanup code¬ª, ¬´teardown code¬ª, ¬´closing code¬ª, ¬´context manager exit code¬ª —Ç–æ—â–æ'>–¥–æ–¥–∞—Ç–∫–æ–≤—ñ –∫—Ä–æ–∫–∏ –ø—ñ—Å–ª—è –∑–∞–≤–µ—Ä—à–µ–Ω–Ω—è</dfn>.

–©–æ–± —Ü–µ –∑—Ä–æ–±–∏—Ç–∏, –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É–π—Ç–µ `yield` –∑–∞–º—ñ—Å—Ç—å `return` —ñ –Ω–∞–ø–∏—à—ñ—Ç—å –¥–æ–¥–∞—Ç–∫–æ–≤—ñ –∫—Ä–æ–∫–∏ (–∫–æ–¥) –ø—ñ—Å–ª—è –Ω—å–æ–≥–æ.

/// tip | –ü–æ—Ä–∞–¥–∞

–ü–µ—Ä–µ–∫–æ–Ω–∞–π—Ç–µ—Å—å, —â–æ –≤–∏ –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É—î—Ç–µ `yield` –ª–∏—à–µ –æ–¥–∏–Ω —Ä–∞–∑ –Ω–∞ –∑–∞–ª–µ–∂–Ω—ñ—Å—Ç—å.

///

/// note | –¢–µ—Ö–Ω—ñ—á–Ω—ñ –¥–µ—Ç–∞–ª—ñ

–ë—É–¥—å-—è–∫–∞ —Ñ—É–Ω–∫—Ü—ñ—è, —è–∫—É –º–æ–∂–Ω–∞ –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É–≤–∞—Ç–∏ –∑:

* <a href="https://docs.python.org/3/library/contextlib.html#contextlib.contextmanager" class="external-link" target="_blank">`@contextlib.contextmanager`</a> –∞–±–æ
* <a href="https://docs.python.org/3/library/contextlib.html#contextlib.asynccontextmanager" class="external-link" target="_blank">`@contextlib.asynccontextmanager`</a>

–±—É–¥–µ –ø—Ä–∏–¥–∞—Ç–Ω–æ—é —è–∫ –∑–∞–ª–µ–∂–Ω—ñ—Å—Ç—å —É **FastAPI**.

–ù–∞—Å–ø—Ä–∞–≤–¥—ñ FastAPI –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É—î —Ü—ñ –¥–≤–∞ –¥–µ–∫–æ—Ä–∞—Ç–æ—Ä–∏ –≤–Ω—É—Ç—Ä—ñ—à–Ω—å–æ.

///

## –ó–∞–ª–µ–∂–Ω—ñ—Å—Ç—å –±–∞–∑–∏ –¥–∞–Ω–∏—Ö –∑ `yield` { #a-database-dependency-with-yield }

–ù–∞–ø—Ä–∏–∫–ª–∞–¥, –≤–∏ –º–æ–∂–µ—Ç–µ –≤–∏–∫–æ—Ä–∏—Å—Ç–∞—Ç–∏ —Ü–µ, —â–æ–± —Å—Ç–≤–æ—Ä–∏—Ç–∏ —Å–µ—Å—ñ—é –±–∞–∑–∏ –¥–∞–Ω–∏—Ö —ñ –∑–∞–∫—Ä–∏—Ç–∏ —ó—ó –ø—ñ—Å–ª—è –∑–∞–≤–µ—Ä—à–µ–Ω–Ω—è.

–ü–µ—Ä–µ–¥ —Å—Ç–≤–æ—Ä–µ–Ω–Ω—è–º –≤—ñ–¥–ø–æ–≤—ñ–¥—ñ –≤–∏–∫–æ–Ω—É—î—Ç—å—Å—è –ª–∏—à–µ –∫–æ–¥ –¥–æ —ñ –≤–∫–ª—é—á–Ω–æ –∑ –æ–ø–µ—Ä–∞—Ç–æ—Ä–æ–º `yield`:

{* ../../docs_src/dependencies/tutorial007_py310.py hl[2:4] *}

–ó–Ω–∞—á–µ–Ω–Ω—è, –ø–µ—Ä–µ–¥–∞–Ω–µ `yield`, –≤–ø—Ä–æ–≤–∞–¥–∂—É—î—Ç—å—Å—è –≤ *–æ–ø–µ—Ä–∞—Ü—ñ—ó —à–ª—è—Ö—É* —Ç–∞ —ñ–Ω—à—ñ –∑–∞–ª–µ–∂–Ω–æ—Å—Ç—ñ:

{* ../../docs_src/dependencies/tutorial007_py310.py hl[4] *}

–ö–æ–¥ –ø—ñ—Å–ª—è –æ–ø–µ—Ä–∞—Ç–æ—Ä–∞ `yield` –≤–∏–∫–æ–Ω—É—î—Ç—å—Å—è –ø—ñ—Å–ª—è –≤—ñ–¥–ø–æ–≤—ñ–¥—ñ:

{* ../../docs_src/dependencies/tutorial007_py310.py hl[5:6] *}

/// tip | –ü–æ—Ä–∞–¥–∞

–ú–æ–∂–µ—Ç–µ –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É–≤–∞—Ç–∏ —è–∫ `async`, —Ç–∞–∫ —ñ –∑–≤–∏—á–∞–π–Ω—ñ —Ñ—É–Ω–∫—Ü—ñ—ó.

**FastAPI** –∑—Ä–æ–±–∏—Ç—å —É—Å–µ –ø—Ä–∞–≤–∏–ª—å–Ω–æ –∑ –∫–æ–∂–Ω–æ—é –∑ –Ω–∏—Ö, —Ç–∞–∫ —Å–∞–º–æ —è–∫ —ñ –∑—ñ –∑–≤–∏—á–∞–π–Ω–∏–º–∏ –∑–∞–ª–µ–∂–Ω–æ—Å—Ç—è–º–∏.

///

## –ó–∞–ª–µ–∂–Ω—ñ—Å—Ç—å –∑ `yield` —Ç–∞ `try` { #a-dependency-with-yield-and-try }

–Ø–∫—â–æ –≤–∏ –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É—î—Ç–µ –±–ª–æ–∫ `try` –≤ –∑–∞–ª–µ–∂–Ω–æ—Å—Ç—ñ –∑ `yield`, –≤–∏ –æ—Ç—Ä–∏–º–∞—î—Ç–µ –±—É–¥—å-—è–∫–∏–π –≤–∏–Ω—è—Ç–æ–∫, —è–∫–∏–π –±—É–≤ –∑–≥–µ–Ω–µ—Ä–æ–≤–∞–Ω–∏–π –ø—ñ–¥ —á–∞—Å –≤–∏–∫–æ—Ä–∏—Å—Ç–∞–Ω–Ω—è –∑–∞–ª–µ–∂–Ω–æ—Å—Ç—ñ.

–ù–∞–ø—Ä–∏–∫–ª–∞–¥, —è–∫—â–æ —è–∫–∏–π—Å—å –∫–æ–¥ –¥–µ—Å—å –ø–æ—Å–µ—Ä–µ–¥–∏–Ω—ñ, –≤ —ñ–Ω—à—ñ–π –∑–∞–ª–µ–∂–Ω–æ—Å—Ç—ñ –∞–±–æ –≤ *–æ–ø–µ—Ä–∞—Ü—ñ—ó —à–ª—è—Ö—É*, –∑—Ä–æ–±–∏–≤ ¬´rollback¬ª —Ç—Ä–∞–Ω–∑–∞–∫—Ü—ñ—ó –±–∞–∑–∏ –¥–∞–Ω–∏—Ö –∞–±–æ —Å—Ç–≤–æ—Ä–∏–≤ –±—É–¥—å-—è–∫–∏–π —ñ–Ω—à–∏–π –≤–∏–Ω—è—Ç–æ–∫, –≤–∏ –æ—Ç—Ä–∏–º–∞—î—Ç–µ —Ü–µ–π –≤–∏–Ω—è—Ç–æ–∫ —É —Å–≤–æ—ó–π –∑–∞–ª–µ–∂–Ω–æ—Å—Ç—ñ.

–¢–æ–∂ –≤–∏ –º–æ–∂–µ—Ç–µ –æ–±—Ä–æ–±–∏—Ç–∏ —Ü–µ–π –∫–æ–Ω–∫—Ä–µ—Ç–Ω–∏–π –≤–∏–Ω—è—Ç–æ–∫ —É—Å–µ—Ä–µ–¥–∏–Ω—ñ –∑–∞–ª–µ–∂–Ω–æ—Å—Ç—ñ –∑–∞ –¥–æ–ø–æ–º–æ–≥–æ—é `except SomeException`.

–¢–∞–∫ —Å–∞–º–æ –≤–∏ –º–æ–∂–µ—Ç–µ –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É–≤–∞—Ç–∏ `finally`, —â–æ–± –≥–∞—Ä–∞–Ω—Ç—É–≤–∞—Ç–∏ –≤–∏–∫–æ–Ω–∞–Ω–Ω—è –∑–∞–≤–µ—Ä—à–∞–ª—å–Ω–∏—Ö –∫—Ä–æ–∫—ñ–≤ –Ω–µ–∑–∞–ª–µ–∂–Ω–æ –≤—ñ–¥ —Ç–æ–≥–æ, –±—É–≤ –≤–∏–Ω—è—Ç–æ–∫ —á–∏ –Ω—ñ.

{* ../../docs_src/dependencies/tutorial007_py310.py hl[3,5] *}

## –ü—ñ–¥–∑–∞–ª–µ–∂–Ω–æ—Å—Ç—ñ –∑ `yield` { #sub-dependencies-with-yield }

–í–∏ –º–æ–∂–µ—Ç–µ –º–∞—Ç–∏ –ø—ñ–¥–∑–∞–ª–µ–∂–Ω–æ—Å—Ç—ñ —Ç–∞ ¬´–¥–µ—Ä–µ–≤–∞¬ª –ø—ñ–¥–∑–∞–ª–µ–∂–Ω–æ—Å—Ç–µ–π –±—É–¥—å-—è–∫–æ–≥–æ —Ä–æ–∑–º—ñ—Ä—É —ñ —Ñ–æ—Ä–º–∏, —ñ –±—É–¥—å-—è–∫–∞ –∞–±–æ –≤—Å—ñ –∑ –Ω–∏—Ö –º–æ–∂—É—Ç—å –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É–≤–∞—Ç–∏ `yield`.

**FastAPI** –≥–∞—Ä–∞–Ω—Ç—É—î, —â–æ ¬´exit code¬ª —É –∫–æ–∂–Ω—ñ–π –∑–∞–ª–µ–∂–Ω–æ—Å—Ç—ñ –∑ `yield` –±—É–¥–µ –≤–∏–∫–æ–Ω–∞–Ω–æ –≤ –ø—Ä–∞–≤–∏–ª—å–Ω–æ–º—É –ø–æ—Ä—è–¥–∫—É.

–ù–∞–ø—Ä–∏–∫–ª–∞–¥, `dependency_c` –º–æ–∂–µ –∑–∞–ª–µ–∂–∞—Ç–∏ –≤—ñ–¥ `dependency_b`, –∞ `dependency_b` - –≤—ñ–¥ `dependency_a`:

{* ../../docs_src/dependencies/tutorial008_an_py310.py hl[6,14,22] *}

–Ü –≤—Å—ñ –≤–æ–Ω–∏ –º–æ–∂—É—Ç—å –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É–≤–∞—Ç–∏ `yield`.

–£ —Ü—å–æ–º—É –≤–∏–ø–∞–¥–∫—É `dependency_c`, —â–æ–± –≤–∏–∫–æ–Ω–∞—Ç–∏ —Å–≤—ñ–π –∑–∞–≤–µ—Ä—à–∞–ª—å–Ω–∏–π –∫–æ–¥, –ø–æ—Ç—Ä–µ–±—É—î, —â–æ–± –∑–Ω–∞—á–µ–Ω–Ω—è –∑ `dependency_b` (—Ç—É—Ç `dep_b`) –≤—Å–µ —â–µ –±—É–ª–æ –¥–æ—Å—Ç—É–ø–Ω–∏–º.

–Ü, —É —Å–≤–æ—é —á–µ—Ä–≥—É, `dependency_b` –ø–æ—Ç—Ä–µ–±—É—î, —â–æ–± –∑–Ω–∞—á–µ–Ω–Ω—è –∑ `dependency_a` (—Ç—É—Ç `dep_a`) –±—É–ª–æ –¥–æ—Å—Ç—É–ø–Ω–∏–º –¥–ª—è —Å–≤–æ–≥–æ –∑–∞–≤–µ—Ä—à–∞–ª—å–Ω–æ–≥–æ –∫–æ–¥—É.

{* ../../docs_src/dependencies/tutorial008_an_py310.py hl[18:19,26:27] *}

–¢–∞–∫ —Å–∞–º–æ –≤–∏ –º–æ–∂–µ—Ç–µ –º–∞—Ç–∏ –¥–µ—è–∫—ñ –∑–∞–ª–µ–∂–Ω–æ—Å—Ç—ñ –∑ `yield`, –∞ —ñ–Ω—à—ñ - –∑ `return`, —ñ —á–∞—Å—Ç–∏–Ω–∞ –∑ –Ω–∏—Ö –º–æ–∂–µ –∑–∞–ª–µ–∂–∞—Ç–∏ –≤—ñ–¥ —ñ–Ω—à–∏—Ö.

–Ü –≤–∏ –º–æ–∂–µ—Ç–µ –º–∞—Ç–∏ –æ–¥–Ω—É –∑–∞–ª–µ–∂–Ω—ñ—Å—Ç—å, —è–∫–∞ –≤–∏–º–∞–≥–∞—î –∫—ñ–ª—å–∫–∞ —ñ–Ω—à–∏—Ö –∑–∞–ª–µ–∂–Ω–æ—Å—Ç–µ–π –∑ `yield` —Ç–æ—â–æ.

–í–∏ –º–æ–∂–µ—Ç–µ –º–∞—Ç–∏ –±—É–¥—å-—è–∫—ñ –∫–æ–º–±—ñ–Ω–∞—Ü—ñ—ó –∑–∞–ª–µ–∂–Ω–æ—Å—Ç–µ–π, —è–∫—ñ –≤–∞–º –ø–æ—Ç—Ä—ñ–±–Ω—ñ.

**FastAPI** –ø–æ–¥–±–∞—î, —â–æ–± —É—Å–µ –≤–∏–∫–æ–Ω—É–≤–∞–ª–æ—Å—è –≤ –ø—Ä–∞–≤–∏–ª—å–Ω–æ–º—É –ø–æ—Ä—è–¥–∫—É.

/// note | –¢–µ—Ö–Ω—ñ—á–Ω—ñ –¥–µ—Ç–∞–ª—ñ

–¶–µ –ø—Ä–∞—Ü—é—î –∑–∞–≤–¥—è–∫–∏ <a href="https://docs.python.org/3/library/contextlib.html" class="external-link" target="_blank">–ú–µ–Ω–µ–¥–∂–µ—Ä–∞–º –∫–æ–Ω—Ç–µ–∫—Å—Ç—É</a> Python.

**FastAPI** –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É—î —ó—Ö –≤–Ω—É—Ç—Ä—ñ—à–Ω—å–æ, —â–æ–± –¥–æ—Å—è–≥—Ç–∏ —Ü—å–æ–≥–æ.

///

## –ó–∞–ª–µ–∂–Ω–æ—Å—Ç—ñ –∑ `yield` —Ç–∞ `HTTPException` { #dependencies-with-yield-and-httpexception }

–í–∏ –±–∞—á–∏–ª–∏, —â–æ –º–æ–∂–Ω–∞ –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É–≤–∞—Ç–∏ –∑–∞–ª–µ–∂–Ω–æ—Å—Ç—ñ –∑ `yield` —ñ –º–∞—Ç–∏ –±–ª–æ–∫–∏ `try`, —è–∫—ñ –Ω–∞–º–∞–≥–∞—é—Ç—å—Å—è –≤–∏–∫–æ–Ω–∞—Ç–∏ –¥–µ—è–∫–∏–π –∫–æ–¥, –∞ –ø–æ—Ç—ñ–º –∑–∞–ø—É—Å–∫–∞—é—Ç—å –∑–∞–≤–µ—Ä—à–∞–ª—å–Ω–∏–π –∫–æ–¥ –ø—ñ—Å–ª—è `finally`.

–¢–∞–∫–æ–∂ –º–æ–∂–Ω–∞ –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É–≤–∞—Ç–∏ `except`, —â–æ–± –ø–µ—Ä–µ—Ö–æ–ø–∏—Ç–∏ –∑–≥–µ–Ω–µ—Ä–æ–≤–∞–Ω–∏–π –≤–∏–Ω—è—Ç–æ–∫ —ñ —â–æ—Å—å —ñ–∑ –Ω–∏–º –∑—Ä–æ–±–∏—Ç–∏.

–ù–∞–ø—Ä–∏–∫–ª–∞–¥, –≤–∏ –º–æ–∂–µ—Ç–µ –ø—ñ–¥–Ω—è—Ç–∏ —ñ–Ω—à–∏–π –≤–∏–Ω—è—Ç–æ–∫, —è–∫-–æ—Ç `HTTPException`.

/// tip | –ü–æ—Ä–∞–¥–∞

–¶–µ –¥–æ–≤–æ–ª—ñ –ø—Ä–æ—Å—É–Ω—É—Ç–∞ —Ç–µ—Ö–Ω—ñ–∫–∞, —ñ –≤ –±—ñ–ª—å—à–æ—Å—Ç—ñ –≤–∏–ø–∞–¥–∫—ñ–≤ –≤–æ–Ω–∞ –≤–∞–º –Ω–µ –∑–Ω–∞–¥–æ–±–∏—Ç—å—Å—è, –∞–¥–∂–µ –≤–∏ –º–æ–∂–µ—Ç–µ –ø—ñ–¥–Ω—ñ–º–∞—Ç–∏ –≤–∏–Ω—è—Ç–∫–∏ (–≤–∫–ª—é—á–Ω–æ –∑ `HTTPException`) –≤—Å–µ—Ä–µ–¥–∏–Ω—ñ —ñ–Ω—à–æ–≥–æ –∫–æ–¥—É –≤–∞—à–æ–≥–æ –∑–∞—Å—Ç–æ—Å—É–Ω–∫—É, –Ω–∞–ø—Ä–∏–∫–ª–∞–¥, —É *—Ñ—É–Ω–∫—Ü—ñ—ó –æ–ø–µ—Ä–∞—Ü—ñ—ó —à–ª—è—Ö—É*.

–ê–ª–µ –≤–æ–Ω–∞ —î, —è–∫—â–æ –≤–∞–º —Ü–µ –ø–æ—Ç—Ä—ñ–±–Ω–æ. ü§ì

///

{* ../../docs_src/dependencies/tutorial008b_an_py310.py hl[18:22,31] *}

–Ø–∫—â–æ –≤–∏ —Ö–æ—á–µ—Ç–µ –ø–µ—Ä–µ—Ö–æ–ø–ª—é–≤–∞—Ç–∏ –≤–∏–Ω—è—Ç–∫–∏ —Ç–∞ —Å—Ç–≤–æ—Ä—é–≤–∞—Ç–∏ –Ω–∞ —ó—Ö –æ—Å–Ω–æ–≤—ñ –∫–æ—Ä–∏—Å—Ç—É–≤–∞—Ü—å–∫—É –≤—ñ–¥–ø–æ–≤—ñ–¥—å, —Å—Ç–≤–æ—Ä—ñ—Ç—å [–ö–æ—Ä–∏—Å—Ç—É–≤–∞—Ü—å–∫–∏–π –æ–±—Ä–æ–±–Ω–∏–∫ –≤–∏–Ω—è—Ç–∫—ñ–≤](../handling-errors.md#install-custom-exception-handlers){.internal-link target=_blank}.

## –ó–∞–ª–µ–∂–Ω–æ—Å—Ç—ñ –∑ `yield` —Ç–∞ `except` { #dependencies-with-yield-and-except }

–Ø–∫—â–æ –≤–∏ –ø–µ—Ä–µ—Ö–æ–ø–ª—é—î—Ç–µ –≤–∏–Ω—è—Ç–æ–∫ –∑–∞ –¥–æ–ø–æ–º–æ–≥–æ—é `except` —É –∑–∞–ª–µ–∂–Ω–æ—Å—Ç—ñ –∑ `yield` —ñ –Ω–µ –ø—ñ–¥–Ω—ñ–º–∞—î—Ç–µ –π–æ–≥–æ –∑–Ω–æ–≤—É (–∞–±–æ –Ω–µ –ø—ñ–¥–Ω—ñ–º–∞—î—Ç–µ –Ω–æ–≤–∏–π –≤–∏–Ω—è—Ç–æ–∫), FastAPI –Ω–µ –∑–º–æ–∂–µ –ø–æ–º—ñ—Ç–∏—Ç–∏, —â–æ —Å—Ç–∞–≤—Å—è –≤–∏–Ω—è—Ç–æ–∫, —Ç–∞–∫ —Å–∞–º–æ —è–∫ —Ü–µ –±—É–ª–æ –± —É –∑–≤–∏—á–∞–π–Ω–æ–º—É Python:

{* ../../docs_src/dependencies/tutorial008c_an_py310.py hl[15:16] *}

–£ —Ü—å–æ–º—É –≤–∏–ø–∞–¥–∫—É –∫–ª—ñ—î–Ω—Ç –ø–æ–±–∞—á–∏—Ç—å –≤—ñ–¥–ø–æ–≤—ñ–¥—å *HTTP 500 Internal Server Error*, —è–∫ —ñ –º–∞—î –±—É—Ç–∏, –∑ –æ–≥–ª—è–¥—É –Ω–∞ —Ç–µ, —â–æ –º–∏ –Ω–µ –ø—ñ–¥–Ω—ñ–º–∞—î–º–æ `HTTPException` –∞–±–æ –ø–æ–¥—ñ–±–Ω–∏–π –≤–∏–Ω—è—Ç–æ–∫, –∞–ª–µ –Ω–∞ —Å–µ—Ä–≤–µ—Ä—ñ **–Ω–µ –±—É–¥–µ –∂–æ–¥–Ω–∏—Ö –ª–æ–≥—ñ–≤** —á–∏ —ñ–Ω—à–∏—Ö –æ–∑–Ω–∞–∫ —Ç–æ–≥–æ, —â–æ —Ü–µ –±—É–ª–∞ –∑–∞ –ø–æ–º–∏–ª–∫–∞. üò±

### –ó–∞–≤–∂–¥–∏ –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É–π—Ç–µ `raise` —É –∑–∞–ª–µ–∂–Ω–æ—Å—Ç—è—Ö –∑ `yield` —Ç–∞ `except` { #always-raise-in-dependencies-with-yield-and-except }

–Ø–∫—â–æ –≤–∏ –ø–µ—Ä–µ—Ö–æ–ø–ª—é—î—Ç–µ –≤–∏–Ω—è—Ç–æ–∫ —É –∑–∞–ª–µ–∂–Ω–æ—Å—Ç—ñ –∑ `yield`, —è–∫—â–æ —Ç—ñ–ª—å–∫–∏ –≤–∏ –Ω–µ –ø—ñ–¥–Ω—ñ–º–∞—î—Ç–µ —ñ–Ω—à–∏–π `HTTPException` –∞–±–æ –ø–æ–¥—ñ–±–Ω–∏–π, **–≤–∞–º —Å–ª—ñ–¥ –ø–æ–≤—Ç–æ—Ä–Ω–æ –ø—ñ–¥–Ω—è—Ç–∏ –ø–æ—á–∞—Ç–∫–æ–≤–∏–π –≤–∏–Ω—è—Ç–æ–∫**.

–í–∏ –º–æ–∂–µ—Ç–µ –ø–æ–≤—Ç–æ—Ä–Ω–æ –ø—ñ–¥–Ω—è—Ç–∏ —Ç–æ–π —Å–∞–º–∏–π –≤–∏–Ω—è—Ç–æ–∫, –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É—é—á–∏ `raise`:

{* ../../docs_src/dependencies/tutorial008d_an_py310.py hl[17] *}

–¢–µ–ø–µ—Ä –∫–ª—ñ—î–Ω—Ç –æ—Ç—Ä–∏–º–∞—î —Ç—É —Å–∞–º—É –≤—ñ–¥–ø–æ–≤—ñ–¥—å *HTTP 500 Internal Server Error*, –∞–ª–µ —Å–µ—Ä–≤–µ—Ä –º–∞—Ç–∏–º–µ –Ω–∞—à –∫–æ—Ä–∏—Å—Ç—É–≤–∞—Ü—å–∫–∏–π `InternalError` —É –ª–æ–≥–∞—Ö. üòé

## –í–∏–∫–æ–Ω–∞–Ω–Ω—è –∑–∞–ª–µ–∂–Ω–æ—Å—Ç–µ–π –∑ `yield` { #execution-of-dependencies-with-yield }

–ü–æ—Å–ª—ñ–¥–æ–≤–Ω—ñ—Å—Ç—å –≤–∏–∫–æ–Ω–∞–Ω–Ω—è –ø—Ä–∏–±–ª–∏–∑–Ω–æ —Ç–∞–∫–∞, —è–∫ –Ω–∞ —Ü—ñ–π –¥—ñ–∞–≥—Ä–∞–º—ñ. –ß–∞—Å —Ç–µ—á–µ –∑–≤–µ—Ä—Ö—É –≤–Ω–∏–∑. –Ü –∫–æ–∂–Ω–∞ –∫–æ–ª–æ–Ω–∫–∞ - —Ü–µ –æ–¥–Ω–∞ –∑ —á–∞—Å—Ç–∏–Ω, —â–æ –≤–∑–∞—î–º–æ–¥—ñ—é—Ç—å –∞–±–æ –≤–∏–∫–æ–Ω—É—é—Ç—å –∫–æ–¥.

```mermaid
sequenceDiagram

participant client as Client
participant handler as Exception handler
participant dep as Dep with yield
participant operation as Path Operation
participant tasks as Background tasks

    Note over client,operation: Can raise exceptions, including HTTPException
    client ->> dep: Start request
    Note over dep: Run code up to yield
    opt raise Exception
        dep -->> handler: Raise Exception
        handler -->> client: HTTP error response
    end
    dep ->> operation: Run dependency, e.g. DB session
    opt raise
        operation -->> dep: Raise Exception (e.g. HTTPException)
        opt handle
            dep -->> dep: Can catch exception, raise a new HTTPException, raise other exception
        end
        handler -->> client: HTTP error response
    end

    operation ->> client: Return response to client
    Note over client,operation: Response is already sent, can't change it anymore
    opt Tasks
        operation -->> tasks: Send background tasks
    end
    opt Raise other exception
        tasks -->> tasks: Handle exceptions in the background task code
    end
```

/// info | –Ü–Ω—Ñ–æ—Ä–º–∞—Ü—ñ—è

–õ–∏—à–µ **–æ–¥–Ω–∞ –≤—ñ–¥–ø–æ–≤—ñ–¥—å** –±—É–¥–µ –Ω–∞–¥—ñ—Å–ª–∞–Ω–∞ –∫–ª—ñ—î–Ω—Ç—É. –¶–µ –º–æ–∂–µ –±—É—Ç–∏ –æ–¥–Ω–∞ –∑ –ø–æ–º–∏–ª–∫–æ–≤–∏—Ö –≤—ñ–¥–ø–æ–≤—ñ–¥–µ–π –∞–±–æ –≤—ñ–¥–ø–æ–≤—ñ–¥—å –≤—ñ–¥ *–æ–ø–µ—Ä–∞—Ü—ñ—ó —à–ª—è—Ö—É*.

–ü—ñ—Å–ª—è –≤—ñ–¥–ø—Ä–∞–≤–ª–µ–Ω–Ω—è –æ–¥–Ω—ñ—î—ó –∑ —Ü–∏—Ö –≤—ñ–¥–ø–æ–≤—ñ–¥–µ–π —ñ–Ω—à—É –≤—ñ–¥–ø—Ä–∞–≤–∏—Ç–∏ –Ω–µ –º–æ–∂–Ω–∞.

///

/// tip | –ü–æ—Ä–∞–¥–∞

–Ø–∫—â–æ –≤–∏ –ø—ñ–¥–Ω—ñ–º–∞—î—Ç–µ –±—É–¥—å-—è–∫–∏–π –≤–∏–Ω—è—Ç–æ–∫ —É –∫–æ–¥—ñ –∑ *—Ñ—É–Ω–∫—Ü—ñ—ó –æ–ø–µ—Ä–∞—Ü—ñ—ó —à–ª—è—Ö—É*, –≤—ñ–Ω –±—É–¥–µ –ø–µ—Ä–µ–¥–∞–Ω–∏–π —É –∑–∞–ª–µ–∂–Ω–æ—Å—Ç—ñ –∑ `yield`, –≤–∫–ª—é—á–Ω–æ –∑ `HTTPException`. –£ –±—ñ–ª—å—à–æ—Å—Ç—ñ –≤–∏–ø–∞–¥–∫—ñ–≤ –≤–∏ –∑–∞—Ö–æ—á–µ—Ç–µ –ø–æ–≤—Ç–æ—Ä–Ω–æ –ø—ñ–¥–Ω—è—Ç–∏ —Ç–æ–π —Å–∞–º–∏–π –≤–∏–Ω—è—Ç–æ–∫ –∞–±–æ –Ω–æ–≤–∏–π —ñ–∑ –∑–∞–ª–µ–∂–Ω–æ—Å—Ç—ñ –∑ `yield`, —â–æ–± –ø–µ—Ä–µ–∫–æ–Ω–∞—Ç–∏—Å—è, —â–æ –π–æ–≥–æ –∫–æ—Ä–µ–∫—Ç–Ω–æ –æ–±—Ä–æ–±–ª–µ–Ω–æ.

///

## –†–∞–Ω–Ω—ñ–π –≤–∏—Ö—ñ–¥ —ñ `scope` { #early-exit-and-scope }

–ó–∞–∑–≤–∏—á–∞–π –∑–∞–≤–µ—Ä—à–∞–ª—å–Ω–∏–π –∫–æ–¥ –∑–∞–ª–µ–∂–Ω–æ—Å—Ç–µ–π –∑ `yield` –≤–∏–∫–æ–Ω—É—î—Ç—å—Å—è **–ø—ñ—Å–ª—è —Ç–æ–≥–æ**, —è–∫ –≤—ñ–¥–ø–æ–≤—ñ–¥—å –Ω–∞–¥—ñ—Å–ª–∞–Ω–æ –∫–ª—ñ—î–Ω—Ç—É.

–ê–ª–µ —è–∫—â–æ –≤–∏ –∑–Ω–∞—î—Ç–µ, —â–æ –≤–∞–º –Ω–µ –ø–æ—Ç—Ä—ñ–±–Ω–æ –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É–≤–∞—Ç–∏ –∑–∞–ª–µ–∂–Ω—ñ—Å—Ç—å –ø—ñ—Å–ª—è –ø–æ–≤–µ—Ä–Ω–µ–Ω–Ω—è –∑ *—Ñ—É–Ω–∫—Ü—ñ—ó –æ–ø–µ—Ä–∞—Ü—ñ—ó —à–ª—è—Ö—É*, –≤–∏ –º–æ–∂–µ—Ç–µ –≤–∏–∫–æ—Ä–∏—Å—Ç–∞—Ç–∏ `Depends(scope="function")`, —â–æ–± —Å–∫–∞–∑–∞—Ç–∏ FastAPI, —â–æ —Å–ª—ñ–¥ –∑–∞–∫—Ä–∏—Ç–∏ –∑–∞–ª–µ–∂–Ω—ñ—Å—Ç—å –ø—ñ—Å–ª—è –ø–æ–≤–µ—Ä–Ω–µ–Ω–Ω—è –∑ *—Ñ—É–Ω–∫—Ü—ñ—ó –æ–ø–µ—Ä–∞—Ü—ñ—ó —à–ª—è—Ö—É*, –∞–ª–µ **–¥–æ** –Ω–∞–¥—Å–∏–ª–∞–Ω–Ω—è **–≤—ñ–¥–ø–æ–≤—ñ–¥—ñ**.

{* ../../docs_src/dependencies/tutorial008e_an_py310.py hl[12,16] *}

`Depends()` –ø—Ä–∏–π–º–∞—î –ø–∞—Ä–∞–º–µ—Ç—Ä `scope`, —è–∫–∏–π –º–æ–∂–µ –±—É—Ç–∏:

* `"function"`: –∑–∞–ø—É—Å—Ç–∏—Ç–∏ –∑–∞–ª–µ–∂–Ω—ñ—Å—Ç—å –ø–µ—Ä–µ–¥ *—Ñ—É–Ω–∫—Ü—ñ—î—é –æ–ø–µ—Ä–∞—Ü—ñ—ó —à–ª—è—Ö—É*, —â–æ –æ–±—Ä–æ–±–ª—è—î –∑–∞–ø–∏—Ç, –∑–∞–≤–µ—Ä—à–∏—Ç–∏ –∑–∞–ª–µ–∂–Ω—ñ—Å—Ç—å –ø—ñ—Å–ª—è –∑–∞–≤–µ—Ä—à–µ–Ω–Ω—è *—Ñ—É–Ω–∫—Ü—ñ—ó –æ–ø–µ—Ä–∞—Ü—ñ—ó —à–ª—è—Ö—É*, –∞–ª–µ **–¥–æ** —Ç–æ–≥–æ, —è–∫ –≤—ñ–¥–ø–æ–≤—ñ–¥—å –±—É–¥–µ –≤—ñ–¥–ø—Ä–∞–≤–ª–µ–Ω–∞ –∫–ª—ñ—î–Ω—Ç—É. –¢–æ–±—Ç–æ —Ñ—É–Ω–∫—Ü—ñ—è –∑–∞–ª–µ–∂–Ω–æ—Å—Ç—ñ –±—É–¥–µ –≤–∏–∫–æ–Ω—É–≤–∞—Ç–∏—Å—è **–Ω–∞–≤–∫–æ–ª–æ** *—Ñ—É–Ω–∫—Ü—ñ—ó –æ–ø–µ—Ä–∞—Ü—ñ—ó **—à–ª—è—Ö—É***.
* `"request"`: –∑–∞–ø—É—Å—Ç–∏—Ç–∏ –∑–∞–ª–µ–∂–Ω—ñ—Å—Ç—å –ø–µ—Ä–µ–¥ *—Ñ—É–Ω–∫—Ü—ñ—î—é –æ–ø–µ—Ä–∞—Ü—ñ—ó —à–ª—è—Ö—É*, —â–æ –æ–±—Ä–æ–±–ª—è—î –∑–∞–ø–∏—Ç (–ø–æ–¥—ñ–±–Ω–æ –¥–æ `"function"`), –∞–ª–µ –∑–∞–≤–µ—Ä—à–∏—Ç–∏ **–ø—ñ—Å–ª—è** —Ç–æ–≥–æ, —è–∫ –≤—ñ–¥–ø–æ–≤—ñ–¥—å –±—É–¥–µ –≤—ñ–¥–ø—Ä–∞–≤–ª–µ–Ω–∞ –∫–ª—ñ—î–Ω—Ç—É. –¢–æ–±—Ç–æ —Ñ—É–Ω–∫—Ü—ñ—è –∑–∞–ª–µ–∂–Ω–æ—Å—Ç—ñ –±—É–¥–µ –≤–∏–∫–æ–Ω—É–≤–∞—Ç–∏—Å—è **–Ω–∞–≤–∫–æ–ª–æ** —Ü–∏–∫–ª—É **–∑–∞–ø–∏—Ç—É** —Ç–∞ –≤—ñ–¥–ø–æ–≤—ñ–¥—ñ.

–Ø–∫—â–æ –Ω–µ –≤–∫–∞–∑–∞–Ω–æ, —ñ –∑–∞–ª–µ–∂–Ω—ñ—Å—Ç—å –º–∞—î `yield`, –∑–∞ –∑–∞–º–æ–≤—á—É–≤–∞–Ω–Ω—è–º `scope` –¥–æ—Ä—ñ–≤–Ω—é—î `"request"`.

### `scope` –¥–ª—è –ø—ñ–¥–∑–∞–ª–µ–∂–Ω–æ—Å—Ç–µ–π { #scope-for-sub-dependencies }

–ö–æ–ª–∏ –≤–∏ –æ–≥–æ–ª–æ—à—É—î—Ç–µ –∑–∞–ª–µ–∂–Ω—ñ—Å—Ç—å —ñ–∑ `scope="request"` (–∑–∞ –∑–∞–º–æ–≤—á—É–≤–∞–Ω–Ω—è–º), –±—É–¥—å-—è–∫–∞ –ø—ñ–¥–∑–∞–ª–µ–∂–Ω—ñ—Å—Ç—å —Ç–∞–∫–æ–∂ –º–∞—î –º–∞—Ç–∏ `scope` —Ä—ñ–≤–Ω–∏–π `"request"`.

–ê–ª–µ –∑–∞–ª–µ–∂–Ω—ñ—Å—Ç—å –∑ `scope` —Ä—ñ–≤–Ω–∏–º `"function"` –º–æ–∂–µ –º–∞—Ç–∏ –∑–∞–ª–µ–∂–Ω–æ—Å—Ç—ñ –∑ `scope` `"function"` —ñ `scope` `"request"`.

–¶–µ —Ç–æ–º—É, —â–æ –±—É–¥—å-—è–∫–∞ –∑–∞–ª–µ–∂–Ω—ñ—Å—Ç—å –º–∞—î –±—É—Ç–∏ –∑–¥–∞—Ç–Ω–æ—é –≤–∏–∫–æ–Ω–∞—Ç–∏ —Å–≤—ñ–π –∑–∞–≤–µ—Ä—à–∞–ª—å–Ω–∏–π –∫–æ–¥ —Ä–∞–Ω—ñ—à–µ –∑–∞ –ø—ñ–¥–∑–∞–ª–µ–∂–Ω–æ—Å—Ç—ñ, –æ—Å–∫—ñ–ª—å–∫–∏ –≤–æ–Ω–∞ –º–æ–∂–µ –≤—Å–µ —â–µ –ø–æ—Ç—Ä–µ–±—É–≤–∞—Ç–∏ —ó—Ö –ø—ñ–¥ —á–∞—Å —Å–≤–æ–≥–æ –∑–∞–≤–µ—Ä—à–∞–ª—å–Ω–æ–≥–æ –∫–æ–¥—É.

```mermaid
sequenceDiagram

participant client as Client
participant dep_req as Dep scope="request"
participant dep_func as Dep scope="function"
participant operation as Path Operation

    client ->> dep_req: Start request
    Note over dep_req: Run code up to yield
    dep_req ->> dep_func: Pass dependency
    Note over dep_func: Run code up to yield
    dep_func ->> operation: Run path operation with dependency
    operation ->> dep_func: Return from path operation
    Note over dep_func: Run code after yield
    Note over dep_func: ‚úÖ Dependency closed
    dep_func ->> client: Send response to client
    Note over client: Response sent
    Note over dep_req: Run code after yield
    Note over dep_req: ‚úÖ Dependency closed
```

## –ó–∞–ª–µ–∂–Ω–æ—Å—Ç—ñ –∑ `yield`, `HTTPException`, `except` —ñ —Ñ–æ–Ω–æ–≤–∏–º–∏ –∑–∞–¥–∞—á–∞–º–∏ { #dependencies-with-yield-httpexception-except-and-background-tasks }

–ó–∞–ª–µ–∂–Ω–æ—Å—Ç—ñ –∑ `yield` –µ–≤–æ–ª—é—Ü—ñ–æ–Ω—É–≤–∞–ª–∏ –∑ —á–∞—Å–æ–º, —â–æ–± –ø–æ–∫—Ä–∏—Ç–∏ —Ä—ñ–∑–Ω—ñ —Å—Ü–µ–Ω–∞—Ä—ñ—ó —Ç–∞ –≤–∏–ø—Ä–∞–≤–∏—Ç–∏ –¥–µ—è–∫—ñ –ø—Ä–æ–±–ª–µ–º–∏.

–Ø–∫—â–æ –≤–∏ —Ö–æ—á–µ—Ç–µ –¥—ñ–∑–Ω–∞—Ç–∏—Å—è, —â–æ –∑–º—ñ–Ω—é–≤–∞–ª–æ—Å—è –≤ —Ä—ñ–∑–Ω–∏—Ö –≤–µ—Ä—Å—ñ—è—Ö FastAPI, –ø—Ä–æ—á–∏—Ç–∞–π—Ç–µ –ø—Ä–æ —Ü–µ –≤ –ø—Ä–æ—Å—É–Ω—É—Ç–æ–º—É –ø–æ—Å—ñ–±–Ω–∏–∫—É –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á–∞: [–†–æ–∑—à–∏—Ä–µ–Ω—ñ –∑–∞–ª–µ–∂–Ω–æ—Å—Ç—ñ - –ó–∞–ª–µ–∂–Ω–æ—Å—Ç—ñ –∑ `yield`, `HTTPException`, `except` —ñ —Ñ–æ–Ω–æ–≤–∏–º–∏ –∑–∞–¥–∞—á–∞–º–∏](../../advanced/advanced-dependencies.md#dependencies-with-yield-httpexception-except-and-background-tasks){.internal-link target=_blank}.
## –ú–µ–Ω–µ–¥–∂–µ—Ä–∏ –∫–æ–Ω—Ç–µ–∫—Å—Ç—É { #context-managers }

### –©–æ —Ç–∞–∫–µ ¬´–ú–µ–Ω–µ–¥–∂–µ—Ä–∏ –∫–æ–Ω—Ç–µ–∫—Å—Ç—É¬ª { #what-are-context-managers }

¬´–ú–µ–Ω–µ–¥–∂–µ—Ä–∏ –∫–æ–Ω—Ç–µ–∫—Å—Ç—É¬ª - —Ü–µ –±—É–¥—å-—è–∫—ñ Python-–æ–±'—î–∫—Ç–∏, —è–∫—ñ –º–æ–∂–Ω–∞ –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É–≤–∞—Ç–∏ –≤ –æ–ø–µ—Ä–∞—Ç–æ—Ä—ñ `with`.

–ù–∞–ø—Ä–∏–∫–ª–∞–¥, <a href="https://docs.python.org/3/tutorial/inputoutput.html#reading-and-writing-files" class="external-link" target="_blank">–º–æ–∂–Ω–∞ –≤–∏–∫–æ—Ä–∏—Å—Ç–∞—Ç–∏ `with`, —â–æ–± –ø—Ä–æ—á–∏—Ç–∞—Ç–∏ —Ñ–∞–π–ª</a>:

```Python
with open("./somefile.txt") as f:
    contents = f.read()
    print(contents)
```

–ü—ñ–¥ –∫–∞–ø–æ—Ç–æ–º `open("./somefile.txt")` —Å—Ç–≤–æ—Ä—é—î –æ–±'—î–∫—Ç, —è–∫–∏–π –Ω–∞–∑–∏–≤–∞—î—Ç—å—Å—è ¬´–ú–µ–Ω–µ–¥–∂–µ—Ä –∫–æ–Ω—Ç–µ–∫—Å—Ç—É¬ª.

–ö–æ–ª–∏ –±–ª–æ–∫ `with` –∑–∞–≤–µ—Ä—à—É—î—Ç—å—Å—è, –≤—ñ–Ω –≥–∞—Ä–∞–Ω—Ç—É—î –∑–∞–∫—Ä–∏—Ç—Ç—è —Ñ–∞–π–ª—É, –Ω–∞–≤—ñ—Ç—å —è–∫—â–æ –±—É–ª–∏ –≤–∏–Ω—è—Ç–∫–∏.

–ö–æ–ª–∏ –≤–∏ —Å—Ç–≤–æ—Ä—é—î—Ç–µ –∑–∞–ª–µ–∂–Ω—ñ—Å—Ç—å –∑ `yield`, **FastAPI** –≤–Ω—É—Ç—Ä—ñ—à–Ω—å–æ —Å—Ç–≤–æ—Ä–∏—Ç—å –¥–ª—è –Ω–µ—ó –º–µ–Ω–µ–¥–∂–µ—Ä –∫–æ–Ω—Ç–µ–∫—Å—Ç—É –π –ø–æ—î–¥–Ω–∞—î –π–æ–≥–æ –∑ —ñ–Ω—à–∏–º–∏ –ø–æ–≤'—è–∑–∞–Ω–∏–º–∏ —ñ–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–∞–º–∏.

### –í–∏–∫–æ—Ä–∏—Å—Ç–∞–Ω–Ω—è –º–µ–Ω–µ–¥–∂–µ—Ä—ñ–≤ –∫–æ–Ω—Ç–µ–∫—Å—Ç—É –≤ –∑–∞–ª–µ–∂–Ω–æ—Å—Ç—è—Ö –∑ `yield` { #using-context-managers-in-dependencies-with-yield }

/// warning | –ü–æ–ø–µ—Ä–µ–¥–∂–µ–Ω–Ω—è

–¶–µ, –∑–∞–≥–∞–ª–æ–º, ¬´–ø—Ä–æ—Å—É–Ω—É—Ç–∞¬ª —ñ–¥–µ—è.

–Ø–∫—â–æ –≤–∏ —Ç—ñ–ª—å–∫–∏ –ø–æ—á–∏–Ω–∞—î—Ç–µ –∑ **FastAPI**, –º–æ–∂–ª–∏–≤–æ, –≤–∞—Ä—Ç–æ –Ω–∞—Ä–∞–∑—ñ –ø—Ä–æ–ø—É—Å—Ç–∏—Ç–∏ —Ü–µ.

///

–£ Python –≤–∏ –º–æ–∂–µ—Ç–µ —Å—Ç–≤–æ—Ä—é–≤–∞—Ç–∏ –ú–µ–Ω–µ–¥–∂–µ—Ä–∏ –∫–æ–Ω—Ç–µ–∫—Å—Ç—É, <a href="https://docs.python.org/3/reference/datamodel.html#context-managers" class="external-link" target="_blank">—Å—Ç–≤–æ—Ä–∏–≤—à–∏ –∫–ª–∞—Å —ñ–∑ –¥–≤–æ–º–∞ –º–µ—Ç–æ–¥–∞–º–∏: `__enter__()` —ñ `__exit__()`</a>.

–í–∏ —Ç–∞–∫–æ–∂ –º–æ–∂–µ—Ç–µ –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É–≤–∞—Ç–∏ —ó—Ö —É—Å–µ—Ä–µ–¥–∏–Ω—ñ –∑–∞–ª–µ–∂–Ω–æ—Å—Ç–µ–π **FastAPI** –∑ `yield`, –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É—é—á–∏
`with` –∞–±–æ `async with` —É —Å–µ—Ä–µ–¥–∏–Ω—ñ —Ñ—É–Ω–∫—Ü—ñ—ó –∑–∞–ª–µ–∂–Ω–æ—Å—Ç—ñ:

{* ../../docs_src/dependencies/tutorial010_py310.py hl[1:9,13] *}

/// tip | –ü–æ—Ä–∞–¥–∞

–Ü–Ω—à–∏–π —Å–ø–æ—Å—ñ–± —Å—Ç–≤–æ—Ä–∏—Ç–∏ –º–µ–Ω–µ–¥–∂–µ—Ä –∫–æ–Ω—Ç–µ–∫—Å—Ç—É:

* <a href="https://docs.python.org/3/library/contextlib.html#contextlib.contextmanager" class="external-link" target="_blank">`@contextlib.contextmanager`</a> –∞–±–æ
* <a href="https://docs.python.org/3/library/contextlib.html#contextlib.asynccontextmanager" class="external-link" target="_blank">`@contextlib.asynccontextmanager`</a>

–≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É—é—á–∏ —ó—Ö –¥–ª—è –¥–µ–∫–æ—Ä—É–≤–∞–Ω–Ω—è —Ñ—É–Ω–∫—Ü—ñ—ó –∑ –æ–¥–Ω–∏–º `yield`.

–°–∞–º–µ —Ü–µ **FastAPI** –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É—î –≤–Ω—É—Ç—Ä—ñ—à–Ω—å–æ –¥–ª—è –∑–∞–ª–µ–∂–Ω–æ—Å—Ç–µ–π –∑ `yield`.

–ê–ª–µ –≤–∞–º –Ω–µ –ø–æ—Ç—Ä—ñ–±–Ω–æ –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É–≤–∞—Ç–∏ —Ü—ñ –¥–µ–∫–æ—Ä–∞—Ç–æ—Ä–∏ –¥–ª—è –∑–∞–ª–µ–∂–Ω–æ—Å—Ç–µ–π FastAPI (—ñ –Ω–µ –≤–∞—Ä—Ç–æ).

FastAPI –∑—Ä–æ–±–∏—Ç—å —Ü–µ –∑–∞ –≤–∞—Å –≤–Ω—É—Ç—Ä—ñ—à–Ω—å–æ.

///
