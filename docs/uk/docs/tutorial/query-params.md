# Параметри запиту

Коли ви оголошуєте інші параметри функції, які не є частиною параметрів шляху, вони автоматично інтерпретуються як параметри "запиту".

```Python hl_lines="9"
{!../../../docs_src/query_params/tutorial001.py!}
```

Запит – це набір пар ключ-значення, які йдуть після `?` в URL-адресі, розділених символами `&`.

Наприклад, в URL-адресі:

```
http://127.0.0.1:8000/items/?skip=0&limit=10
```

...параметрами запиту є:

* `skip`: зі значенням `0`
* `limit`: зі значенням `10`

Оскільки вони є частиною URL-адреси, вони є «природними» рядками.

Але коли ви оголошуєте їх за допомогою типів Python (у прикладі вище, як `int`), вони перетворюються на цей тип і перевіряються відповідно до нього.

Той самий процес, який застосовувався для параметрів шляху, також застосовується для параметрів запиту:

* Підтримка редактора (очевидно)
* <abbr title="перетворення рядка, який надходить із запиту HTTP, у дані Python">"Парсинг"</abbr> даних
* Валідація даних
* Автоматична документація

## Значення за замовчуванням

Оскільки параметри запиту не є фіксованою частиною шляху, вони можуть бути необов’язковими та мати значення за замовчуванням.

У наведеному вище прикладі вони мають значення за замовчуванням `skip=0` і `limit=10`.

Отже, перехід до URL-адреси:

```
http://127.0.0.1:8000/items/
```

буде таким же, як перехід до:

```
http://127.0.0.1:8000/items/?skip=0&limit=10
```

Але якщо ви перейдете, наприклад, до:

```
http://127.0.0.1:8000/items/?skip=20
```

Значення параметрів у вашій функції будуть:

* `skip=20`: тому що ви встановили його в URL-адресі
* `limit=10`: тому що це було значення за замовчуванням

## Опціональні параметри

Таким же чином ви можете оголосити додаткові параметри запиту, встановивши для них значення `None` за замовчуванням:

=== "Python 3.6 і вище"

    ```Python hl_lines="9"
    {!> ../../../docs_src/query_params/tutorial002.py!}
    ```

=== "Python 3.10 і вище"

    ```Python hl_lines="7"
    {!> ../../../docs_src/query_params/tutorial002_py310.py!}
    ```

У цьому випадку параметр функції `q` буде необов'язковим і за замовчуванням матиме значення `None`.

!!! check
    Також зауважте, що **FastAPI** достатньо розумний, щоб помітити, що параметр шляху `item_id` є параметром шляху, а `q` ні, тож це параметр запиту.

## Перетворення типу параметра запиту

Ви також можете оголосити типи `bool`, і вони будуть перетворені:

=== "Python 3.6 і вище"

    ```Python hl_lines="9"
    {!> ../../../docs_src/query_params/tutorial003.py!}
    ```

=== "Python 3.10 і вище"

    ```Python hl_lines="7"
    {!> ../../../docs_src/query_params/tutorial003_py310.py!}
    ```

У цьому випадку, якщо ви перейдете до:

```
http://127.0.0.1:8000/items/foo?short=1
```

або

```
http://127.0.0.1:8000/items/foo?short=True
```

або

```
http://127.0.0.1:8000/items/foo?short=true
```

або

```
http://127.0.0.1:8000/items/foo?short=on
```

або

```
http://127.0.0.1:8000/items/foo?short=yes
```

або будь-який інший варіант регістру (великий регістр, перша літера у верхньому регістрі тощо), ваша функція побачить параметр `short` із `bool` значенням `True`. Інакше як `False`.


## Кілька параметрів шляху та запиту

Ви можете оголосити кілька параметрів шляху та параметрів запиту одночасно, **FastAPI** знає, що є що.

І вам не потрібно оголошувати їх у певному порядку.

Вони будуть виявлені за іменами:

=== "Python 3.6 і вище"

    ```Python hl_lines="8  10"
    {!> ../../../docs_src/query_params/tutorial004.py!}
    ```

=== "Python 3.10 і вище"

    ```Python hl_lines="6  8"
    {!> ../../../docs_src/query_params/tutorial004_py310.py!}
    ```

## Обов’язкові параметри запиту

Коли ви оголошуєте значення за замовчуванням для параметрів, що не є шляхом (наразі ми бачили лише параметри запиту), тоді вони не є обов'язковими.

Якщо ви не хочете додавати конкретне значення, а просто зробити його необов’язковим, встановіть значення `None` за замовчуванням.

Але якщо ви хочете зробити параметр запиту обов’язковим, ви можете просто не оголошувати значення за замовчуванням:

```Python hl_lines="6-7"
{!../../../docs_src/query_params/tutorial005.py!}
```

Тут параметр запиту `needy` є обов'язковим параметром запиту типу `str`.

Якщо ви відкриєте у своєму браузері URL-адресу, наприклад:

```
http://127.0.0.1:8000/items/foo-item
```

...без додавання необхідного параметра `needy`, ви побачите таке повідомлення про помилку:

```JSON
{
    "detail": [
        {
            "loc": [
                "query",
                "needy"
            ],
            "msg": "field required",
            "type": "value_error.missing"
        }
    ]
}
```

Оскільки `needy` є обов'язковим параметром, вам потрібно буде встановити його в URL-адресі:

```
http://127.0.0.1:8000/items/foo-item?needy=sooooneedy
```

...це спрацює:

```JSON
{
    "item_id": "foo-item",
    "needy": "sooooneedy"
}
```

І, звичайно, ви можете визначити деякі параметри як необхідні, деякі як такі, що мають значення за замовчуванням, а деякі зовсім необов’язкові:

=== "Python 3.6 і вище"

    ```Python hl_lines="10"
    {!> ../../../docs_src/query_params/tutorial006.py!}
    ```

=== "Python 3.10 і вище"

    ```Python hl_lines="8"
    {!> ../../../docs_src/query_params/tutorial006_py310.py!}
    ```

У цьому випадку є 3 параметри запиту:

* `needy`, обов'язковий `str`.
* `skip`, `int` зі значенням за замовчуванням `0`.
* `limit`, опціональний `int`.

!!! tip
    Ви також можете використовувати `Enum` так само, як і з [Параметри шляху](path-params.md#predefined-values){.internal-link target=_blank}.
