# –ü–æ–¥—ñ—ó —Ç—Ä–∏–≤–∞–ª–æ—Å—Ç—ñ –∂–∏—Ç—Ç—è { #lifespan-events }

–í–∏ –º–æ–∂–µ—Ç–µ –≤–∏–∑–Ω–∞—á–∏—Ç–∏ –ª–æ–≥—ñ–∫—É (–∫–æ–¥), —è–∫—É —Å–ª—ñ–¥ –≤–∏–∫–æ–Ω–∞—Ç–∏ –ø–µ—Ä–µ–¥ —Ç–∏–º, —è–∫ –∑–∞—Å—Ç–æ—Å—É–Ω–æ–∫ –∑–∞–ø—É—Å—Ç–∏—Ç—å—Å—è. –¶–µ –æ–∑–Ω–∞—á–∞—î, —â–æ —Ü–µ–π –∫–æ–¥ –±—É–¥–µ –≤–∏–∫–æ–Ω–∞–Ω–æ –æ–¥–∏–Ω —Ä–∞–∑, –ø–µ—Ä–µ–¥ —Ç–∏–º —è–∫ –∑–∞—Å—Ç–æ—Å—É–Ω–æ–∫ –ø–æ—á–Ω–µ –æ—Ç—Ä–∏–º—É–≤–∞—Ç–∏ –∑–∞–ø–∏—Ç–∏.

–¢–∞–∫ —Å–∞–º–æ –≤–∏ –º–æ–∂–µ—Ç–µ –≤–∏–∑–Ω–∞—á–∏—Ç–∏ –ª–æ–≥—ñ–∫—É (–∫–æ–¥), —è–∫—É —Å–ª—ñ–¥ –≤–∏–∫–æ–Ω–∞—Ç–∏ –ø—ñ–¥ —á–∞—Å –≤–∏–º–∫–Ω–µ–Ω–Ω—è –∑–∞—Å—Ç–æ—Å—É–Ω–∫—É. –£ —Ü—å–æ–º—É –≤–∏–ø–∞–¥–∫—É –∫–æ–¥ –±—É–¥–µ –≤–∏–∫–æ–Ω–∞–Ω–æ –æ–¥–∏–Ω —Ä–∞–∑, –ø—ñ—Å–ª—è –æ–±—Ä–æ–±–∫–∏ –º–æ–∂–ª–∏–≤–æ –±–∞–≥–∞—Ç—å–æ—Ö –∑–∞–ø–∏—Ç—ñ–≤.

–û—Å–∫—ñ–ª—å–∫–∏ —Ü–µ–π –∫–æ–¥ –≤–∏–∫–æ–Ω—É—î—Ç—å—Å—è –ø–µ—Ä–µ–¥ —Ç–∏–º, —è–∫ –∑–∞—Å—Ç–æ—Å—É–Ω–æ–∫ –ø–æ—á–Ω–µ –ø—Ä–∏–π–º–∞—Ç–∏ –∑–∞–ø–∏—Ç–∏, —ñ –æ–¥—Ä–∞–∑—É –ø—ñ—Å–ª—è —Ç–æ–≥–æ, —è–∫ –≤—ñ–Ω –∑–∞–≤–µ—Ä—à–∏—Ç—å —ó—Ö –æ–±—Ä–æ–±–∫—É, –≤—ñ–Ω –æ—Ö–æ–ø–ª—é—î –≤—Å—é —Ç—Ä–∏–≤–∞–ª—ñ—Å—Ç—å –∂–∏—Ç—Ç—è –∑–∞—Å—Ç–æ—Å—É–Ω–∫—É (—Å–ª–æ–≤–æ ¬´lifespan¬ª –±—É–¥–µ –≤–∞–∂–ª–∏–≤–∏–º –∑–∞ –º–∏—Ç—å üòâ).

–¶–µ –¥—É–∂–µ –∫–æ—Ä–∏—Å–Ω–æ –¥–ª—è –Ω–∞–ª–∞—à—Ç—É–≤–∞–Ω–Ω—è —Ä–µ—Å—É—Ä—Å—ñ–≤, —è–∫—ñ –ø–æ—Ç—Ä—ñ–±–Ω—ñ –¥–ª—è –≤—Å—å–æ–≥–æ –∑–∞—Å—Ç–æ—Å—É–Ω–∫—É, —è–∫—ñ —Å–ø—ñ–ª—å–Ω—ñ –º—ñ–∂ –∑–∞–ø–∏—Ç–∞–º–∏, —Ç–∞/–∞–±–æ —è–∫—ñ –ø–æ—Ç—Ä—ñ–±–Ω–æ –ø–æ—Ç—ñ–º –ø—Ä–∏–±—Ä–∞—Ç–∏. –ù–∞–ø—Ä–∏–∫–ª–∞–¥, –ø—É–ª –∑‚Äô—î–¥–Ω–∞–Ω—å –∑ –±–∞–∑–æ—é –¥–∞–Ω–∏—Ö –∞–±–æ –∑–∞–≤–∞–Ω—Ç–∞–∂–µ–Ω–Ω—è —Å–ø—ñ–ª—å–Ω–æ—ó –º–æ–¥–µ–ª—ñ –º–∞—à–∏–Ω–Ω–æ–≥–æ –Ω–∞–≤—á–∞–Ω–Ω—è.

## –í–∏–ø–∞–¥–æ–∫ –≤–∏–∫–æ—Ä–∏—Å—Ç–∞–Ω–Ω—è { #use-case }

–ü–æ—á–Ω–µ–º–æ –∑ –ø—Ä–∏–∫–ª–∞–¥—É –≤–∏–ø–∞–¥–∫—É –≤–∏–∫–æ—Ä–∏—Å—Ç–∞–Ω–Ω—è, –∞ –ø–æ—Ç—ñ–º –ø–æ–¥–∏–≤–∏–º–æ—Å—å, —è–∫ —Ü–µ –≤–∏—Ä—ñ—à–∏—Ç–∏.

–£—è–≤—ñ–º–æ, —â–æ —É –≤–∞—Å —î –º–æ–¥–µ–ª—ñ –º–∞—à–∏–Ω–Ω–æ–≥–æ –Ω–∞–≤—á–∞–Ω–Ω—è, —è–∫–∏–º–∏ –≤–∏ —Ö–æ—á–µ—Ç–µ –æ–±—Ä–æ–±–ª—è—Ç–∏ –∑–∞–ø–∏—Ç–∏. ü§ñ

–¢—ñ —Å–∞–º—ñ –º–æ–¥–µ–ª—ñ —Å–ø—ñ–ª—å–Ω—ñ –º—ñ–∂ –∑–∞–ø–∏—Ç–∞–º–∏, —Ç–æ–±—Ç–æ —Ü–µ –Ω–µ –æ–∫—Ä–µ–º–∞ –º–æ–¥–µ–ª—å –Ω–∞ –∑–∞–ø–∏—Ç —á–∏ –Ω–∞ –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á–∞.

–£—è–≤—ñ–º–æ, —â–æ –∑–∞–≤–∞–Ω—Ç–∞–∂–µ–Ω–Ω—è –º–æ–¥–µ–ª—ñ –º–æ–∂–µ –∑–∞–π–º–∞—Ç–∏ —á–∏–º–∞–ª–æ —á–∞—Å—É, –±–æ —Ç—Ä–µ–±–∞ —á–∏—Ç–∞—Ç–∏ –±–∞–≥–∞—Ç–æ –¥–∞–Ω–∏—Ö –∑ –¥–∏—Å–∫–∞. –¢–æ–∂ –≤–∏ –Ω–µ —Ö–æ—á–µ—Ç–µ —Ä–æ–±–∏—Ç–∏ —Ü–µ –¥–ª—è –∫–æ–∂–Ω–æ–≥–æ –∑–∞–ø–∏—Ç—É.

–í–∏ –º–æ–≥–ª–∏ –± –∑–∞–≤–∞–Ω—Ç–∞–∂–∏—Ç–∏ —ó—ó –Ω–∞ –≤–µ—Ä—Ö–Ω—å–æ–º—É —Ä—ñ–≤–Ω—ñ –º–æ–¥—É–ª—è/—Ñ–∞–π–ª—É, –∞–ª–µ —Ü–µ –æ–∑–Ω–∞—á–∞–ª–æ –±, —â–æ –º–æ–¥–µ–ª—å –∑–∞–≤–∞–Ω—Ç–∞–∂–∏—Ç—å—Å—è –Ω–∞–≤—ñ—Ç—å —è–∫—â–æ –≤–∏ –ø—Ä–æ—Å—Ç–æ –∑–∞–ø—É—Å–∫–∞—î—Ç–µ –ø—Ä–æ—Å—Ç–∏–π –∞–≤—Ç–æ–º–∞—Ç–∏–∑–æ–≤–∞–Ω–∏–π —Ç–µ—Å—Ç - —Ç–æ–¥—ñ —Ç–µ—Å—Ç –±—É–¥–µ –ø–æ–≤—ñ–ª—å–Ω–∏–º, –±–æ –π–æ–º—É –¥–æ–≤–µ–¥–µ—Ç—å—Å—è —á–µ–∫–∞—Ç–∏ –∑–∞–≤–∞–Ω—Ç–∞–∂–µ–Ω–Ω—è –º–æ–¥–µ–ª—ñ –ø–µ—Ä–µ–¥ –≤–∏–∫–æ–Ω–∞–Ω–Ω—è–º –Ω–µ–∑–∞–ª–µ–∂–Ω–æ—ó —á–∞—Å—Ç–∏–Ω–∏ –∫–æ–¥—É.

–û—Å—å —Ü–µ –º–∏ –π –≤–∏—Ä—ñ—à–∏–º–æ: –∑–∞–≤–∞–Ω—Ç–∞–∂–∏–º–æ –º–æ–¥–µ–ª—å –ø–µ—Ä–µ–¥ –æ–±—Ä–æ–±–∫–æ—é –∑–∞–ø–∏—Ç—ñ–≤, –∞–ª–µ –ª–∏—à–µ –±–µ–∑–ø–æ—Å–µ—Ä–µ–¥–Ω—å–æ –ø–µ—Ä–µ–¥ —Ç–∏–º, —è–∫ –∑–∞—Å—Ç–æ—Å—É–Ω–æ–∫ –ø–æ—á–Ω–µ –æ—Ç—Ä–∏–º—É–≤–∞—Ç–∏ –∑–∞–ø–∏—Ç–∏, –∞ –Ω–µ –ø—ñ–¥ —á–∞—Å –∑–∞–≤–∞–Ω—Ç–∞–∂–µ–Ω–Ω—è –∫–æ–¥—É.

## –¢—Ä–∏–≤–∞–ª—ñ—Å—Ç—å –∂–∏—Ç—Ç—è { #lifespan }

–í–∏ –º–æ–∂–µ—Ç–µ –≤–∏–∑–Ω–∞—á–∏—Ç–∏ —Ü—é –ª–æ–≥—ñ–∫—É –∑–∞–ø—É—Å–∫—É —ñ –≤–∏–º–∫–Ω–µ–Ω–Ω—è –∑–∞ –¥–æ–ø–æ–º–æ–≥–æ—é –ø–∞—Ä–∞–º–µ—Ç—Ä–∞ `lifespan` –∑–∞—Å—Ç–æ—Å—É–Ω–∫—É `FastAPI` —Ç–∞ ¬´–º–µ–Ω–µ–¥–∂–µ—Ä–∞ –∫–æ–Ω—Ç–µ–∫—Å—Ç—É¬ª (–∑–∞—Ä–∞–∑ –ø–æ–∫–∞–∂—É, —â–æ —Ü–µ).

–ü–æ—á–Ω–µ–º–æ –∑ –ø—Ä–∏–∫–ª–∞–¥—É, –∞ –ø–æ—Ç—ñ–º —Ä–æ–∑–±–µ—Ä–µ–º–æ –¥–µ—Ç–∞–ª—å–Ω–æ.

–ú–∏ —Å—Ç–≤–æ—Ä—é—î–º–æ –∞—Å–∏–Ω—Ö—Ä–æ–Ω–Ω—É —Ñ—É–Ω–∫—Ü—ñ—é `lifespan()` –∑ `yield` —Ç–∞–∫:

{* ../../docs_src/events/tutorial003_py310.py hl[16,19] *}

–¢—É—Ç –º–∏ —ñ–º—ñ—Ç—É—î–º–æ –¥–æ—Ä–æ–≥—É –æ–ø–µ—Ä–∞—Ü—ñ—é –∑–∞–ø—É—Å–∫—É —ñ–∑ –∑–∞–≤–∞–Ω—Ç–∞–∂–µ–Ω–Ω—è–º –º–æ–¥–µ–ª—ñ, –ø–æ–º—ñ—â–∞—é—á–∏ (—Ñ–∞–ª—å—à–∏–≤—É) —Ñ—É–Ω–∫—Ü—ñ—é –º–æ–¥–µ–ª—ñ —É —Å–ª–æ–≤–Ω–∏–∫ –∑ –º–æ–¥–µ–ª—è–º–∏ –º–∞—à–∏–Ω–Ω–æ–≥–æ –Ω–∞–≤—á–∞–Ω–Ω—è –ø–µ—Ä–µ–¥ `yield`. –¶–µ–π –∫–æ–¥ –±—É–¥–µ –≤–∏–∫–æ–Ω–∞–Ω–æ –ø–µ—Ä–µ–¥ —Ç–∏–º, —è–∫ –∑–∞—Å—Ç–æ—Å—É–Ω–æ–∫ –ø–æ—á–Ω–µ –ø—Ä–∏–π–º–∞—Ç–∏ –∑–∞–ø–∏—Ç–∏, –ø—ñ–¥ —á–∞—Å –∑–∞–ø—É—Å–∫—É.

–ê –æ–¥—Ä–∞–∑—É –ø—ñ—Å–ª—è `yield` –º–∏ —Ä–æ–∑–≤–∞–Ω—Ç–∞–∂—É—î–º–æ –º–æ–¥–µ–ª—å. –¶–µ–π –∫–æ–¥ –±—É–¥–µ –≤–∏–∫–æ–Ω–∞–Ω–æ –ø—ñ—Å–ª—è —Ç–æ–≥–æ, —è–∫ –∑–∞—Å—Ç–æ—Å—É–Ω–æ–∫ –∑–∞–≤–µ—Ä—à–∏—Ç—å –æ–±—Ä–æ–±–∫—É –∑–∞–ø–∏—Ç—ñ–≤, –±–µ–∑–ø–æ—Å–µ—Ä–µ–¥–Ω—å–æ –ø–µ—Ä–µ–¥ –≤–∏–º–∫–Ω–µ–Ω–Ω—è–º. –¶–µ, –Ω–∞–ø—Ä–∏–∫–ª–∞–¥, –º–æ–∂–µ –∑–≤—ñ–ª—å–Ω–∏—Ç–∏ —Ä–µ—Å—É—Ä—Å–∏ –Ω–∞ –∫—à—Ç–∞–ª—Ç –ø–∞–º‚Äô—è—Ç—ñ –∞–±–æ GPU.

/// tip | –ü–æ—Ä–∞–¥–∞

–ü–æ–¥—ñ—è `shutdown` –≤—ñ–¥–±—É–≤–∞—î—Ç—å—Å—è, –∫–æ–ª–∏ –≤–∏ –∑—É–ø–∏–Ω—è—î—Ç–µ –∑–∞—Å—Ç–æ—Å—É–Ω–æ–∫.

–ú–æ–∂–ª–∏–≤–æ, –≤–∞–º —Ç—Ä–µ–±–∞ –∑–∞–ø—É—Å—Ç–∏—Ç–∏ –Ω–æ–≤—É –≤–µ—Ä—Å—ñ—é, –∞–±–æ –≤–∏ –ø—Ä–æ—Å—Ç–æ –≤—Ç–æ–º–∏–ª–∏—Å—è —ó—ó –∑–∞–ø—É—Å–∫–∞—Ç–∏. ü§∑

///

### –§—É–Ω–∫—Ü—ñ—è —Ç—Ä–∏–≤–∞–ª–æ—Å—Ç—ñ –∂–∏—Ç—Ç—è { #lifespan-function }

–ü–µ—Ä—à–µ, –Ω–∞ —â–æ —Å–ª—ñ–¥ –∑–≤–µ—Ä–Ω—É—Ç–∏ —É–≤–∞–≥—É: –º–∏ –≤–∏–∑–Ω–∞—á–∞—î–º–æ –∞—Å–∏–Ω—Ö—Ä–æ–Ω–Ω—É —Ñ—É–Ω–∫—Ü—ñ—é –∑ `yield`. –¶–µ –¥—É–∂–µ —Å—Ö–æ–∂–µ –Ω–∞ –∑–∞–ª–µ–∂–Ω–æ—Å—Ç—ñ –∑ `yield`.

{* ../../docs_src/events/tutorial003_py310.py hl[14:19] *}

–ü–µ—Ä—à–∞ —á–∞—Å—Ç–∏–Ω–∞ —Ñ—É–Ω–∫—Ü—ñ—ó –¥–æ `yield` –±—É–¥–µ –≤–∏–∫–æ–Ω–∞–Ω–∞ –ø–µ—Ä–µ–¥ –∑–∞–ø—É—Å–∫–æ–º –∑–∞—Å—Ç–æ—Å—É–Ω–∫—É.

–ê —á–∞—Å—Ç–∏–Ω–∞ –ø—ñ—Å–ª—è `yield` –±—É–¥–µ –≤–∏–∫–æ–Ω–∞–Ω–∞ –ø—ñ—Å–ª—è –∑–∞–≤–µ—Ä—à–µ–Ω–Ω—è —Ä–æ–±–æ—Ç–∏ –∑–∞—Å—Ç–æ—Å—É–Ω–∫—É.

### –ê—Å–∏–Ω—Ö—Ä–æ–Ω–Ω–∏–π –º–µ–Ω–µ–¥–∂–µ—Ä –∫–æ–Ω—Ç–µ–∫—Å—Ç—É { #async-context-manager }

–Ø–∫—â–æ –ø—Ä–∏–¥–∏–≤–∏—Ç–∏—Å—è, —Ñ—É–Ω–∫—Ü—ñ—è –∑–∞–¥–µ–∫–æ—Ä–æ–≤–∞–Ω–∞ –∑–∞ –¥–æ–ø–æ–º–æ–≥–æ—é `@asynccontextmanager`.

–¶–µ –ø–µ—Ä–µ—Ç–≤–æ—Ä—é—î —Ñ—É–Ω–∫—Ü—ñ—é –Ω–∞ —Ç–∞–∫ –∑–≤–∞–Ω–∏–π ¬´–∞—Å–∏–Ω—Ö—Ä–æ–Ω–Ω–∏–π –º–µ–Ω–µ–¥–∂–µ—Ä –∫–æ–Ω—Ç–µ–∫—Å—Ç—É¬ª.

{* ../../docs_src/events/tutorial003_py310.py hl[1,13] *}

–ú–µ–Ω–µ–¥–∂–µ—Ä –∫–æ–Ω—Ç–µ–∫—Å—Ç—É –≤ Python - —Ü–µ —Ç–µ, —â–æ –º–æ–∂–Ω–∞ –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É–≤–∞—Ç–∏ –≤ –æ–ø–µ—Ä–∞—Ç–æ—Ä—ñ `with`, –Ω–∞–ø—Ä–∏–∫–ª–∞–¥, `open()` –º–æ–∂–Ω–∞ –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É–≤–∞—Ç–∏ —è–∫ –º–µ–Ω–µ–¥–∂–µ—Ä –∫–æ–Ω—Ç–µ–∫—Å—Ç—É:

```Python
with open("file.txt") as file:
    file.read()
```

–£ –Ω–æ–≤—ñ—à–∏—Ö –≤–µ—Ä—Å—ñ—è—Ö Python —Ç–∞–∫–æ–∂ —î –∞—Å–∏–Ω—Ö—Ä–æ–Ω–Ω–∏–π –º–µ–Ω–µ–¥–∂–µ—Ä –∫–æ–Ω—Ç–µ–∫—Å—Ç—É. –ô–æ–≥–æ –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É—é—Ç—å –∑ `async with`:

```Python
async with lifespan(app):
    await do_stuff()
```

–ö–æ–ª–∏ –≤–∏ —Å—Ç–≤–æ—Ä—é—î—Ç–µ –º–µ–Ω–µ–¥–∂–µ—Ä –∫–æ–Ω—Ç–µ–∫—Å—Ç—É –∞–±–æ –∞—Å–∏–Ω—Ö—Ä–æ–Ω–Ω–∏–π –º–µ–Ω–µ–¥–∂–µ—Ä –∫–æ–Ω—Ç–µ–∫—Å—Ç—É, —è–∫ –≤–∏—â–µ, –ø–µ—Ä–µ–¥ –≤—Ö–æ–¥–æ–º —É –±–ª–æ–∫ `with` –±—É–¥–µ –≤–∏–∫–æ–Ω–∞–Ω–æ –∫–æ–¥ –ø–µ—Ä–µ–¥ `yield`, –∞ –ø—ñ—Å–ª—è –≤–∏—Ö–æ–¥—É –∑ –±–ª–æ–∫—É `with` –±—É–¥–µ –≤–∏–∫–æ–Ω–∞–Ω–æ –∫–æ–¥ –ø—ñ—Å–ª—è `yield`.

–£ –Ω–∞—à–æ–º—É –ø—Ä–∏–∫–ª–∞–¥—ñ –∫–æ–¥—É –≤–∏—â–µ –º–∏ –Ω–µ –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É—î–º–æ –π–æ–≥–æ –Ω–∞–ø—Ä—è–º—É, –∞ –ø–µ—Ä–µ–¥–∞—î–º–æ –π–æ–≥–æ –¥–æ FastAPI, —â–æ–± –≤—ñ–Ω –π–æ–≥–æ –≤–∏–∫–æ—Ä–∏—Å—Ç–∞–≤.

–ü–∞—Ä–∞–º–µ—Ç—Ä `lifespan` –∑–∞—Å—Ç–æ—Å—É–Ω–∫—É `FastAPI` –ø—Ä–∏–π–º–∞—î –∞—Å–∏–Ω—Ö—Ä–æ–Ω–Ω–∏–π –º–µ–Ω–µ–¥–∂–µ—Ä –∫–æ–Ω—Ç–µ–∫—Å—Ç—É, —Ç–æ–∂ –º–∏ –º–æ–∂–µ–º–æ –ø–µ—Ä–µ–¥–∞—Ç–∏ –π–æ–º—É –Ω–∞—à –Ω–æ–≤–∏–π –∞—Å–∏–Ω—Ö—Ä–æ–Ω–Ω–∏–π –º–µ–Ω–µ–¥–∂–µ—Ä –∫–æ–Ω—Ç–µ–∫—Å—Ç—É `lifespan`.

{* ../../docs_src/events/tutorial003_py310.py hl[22] *}

## –ê–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤–Ω—ñ –ø–æ–¥—ñ—ó (–∑–∞—Å—Ç–∞—Ä—ñ–ª–æ) { #alternative-events-deprecated }

/// warning | –ü–æ–ø–µ—Ä–µ–¥–∂–µ–Ω–Ω—è

–†–µ–∫–æ–º–µ–Ω–¥–æ–≤–∞–Ω–∏–π —Å–ø–æ—Å—ñ–± –æ–±—Ä–æ–±–ª—è—Ç–∏ –∑–∞–ø—É—Å–∫ —ñ –≤–∏–º–∫–Ω–µ–Ω–Ω—è - –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É–≤–∞—Ç–∏ –ø–∞—Ä–∞–º–µ—Ç—Ä `lifespan` –∑–∞—Å—Ç–æ—Å—É–Ω–∫—É `FastAPI`, —è–∫ –æ–ø–∏—Å–∞–Ω–æ –≤–∏—â–µ. –Ø–∫—â–æ –≤–∏ –Ω–∞–¥–∞—î—Ç–µ –ø–∞—Ä–∞–º–µ—Ç—Ä `lifespan`, –æ–±—Ä–æ–±–Ω–∏–∫–∏ –ø–æ–¥—ñ–π `startup` —ñ `shutdown` –±—ñ–ª—å—à–µ –Ω–µ –±—É–¥—É—Ç—å –≤–∏–∫–ª–∏–∫–∞–Ω—ñ. –ê–±–æ –≤—Å–µ —á–µ—Ä–µ–∑ `lifespan`, –∞–±–æ –≤—Å–µ —á–µ—Ä–µ–∑ –ø–æ–¥—ñ—ó - –Ω–µ –æ–±–∏–¥–≤–∞ –æ–¥–Ω–æ—á–∞—Å–Ω–æ.

–ú–æ–∂–µ—Ç–µ, –π–º–æ–≤—ñ—Ä–Ω–æ, –ø—Ä–æ–ø—É—Å—Ç–∏—Ç–∏ —Ü—é —á–∞—Å—Ç–∏–Ω—É.

///

–Ñ –∞–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤–Ω–∏–π —Å–ø–æ—Å—ñ–± –≤–∏–∑–Ω–∞—á–∏—Ç–∏ –ª–æ–≥—ñ–∫—É, —è–∫—É —Å–ª—ñ–¥ –≤–∏–∫–æ–Ω–∞—Ç–∏ –ø—ñ–¥ —á–∞—Å –∑–∞–ø—É—Å–∫—É —ñ –ø—ñ–¥ —á–∞—Å –≤–∏–º–∫–Ω–µ–Ω–Ω—è.

–í–∏ –º–æ–∂–µ—Ç–µ –≤–∏–∑–Ω–∞—á–∏—Ç–∏ –æ–±—Ä–æ–±–Ω–∏–∫–∏ –ø–æ–¥—ñ–π (—Ñ—É–Ω–∫—Ü—ñ—ó), —è–∫—ñ –ø–æ—Ç—Ä—ñ–±–Ω–æ –≤–∏–∫–æ–Ω–∞—Ç–∏ –ø–µ—Ä–µ–¥ –∑–∞–ø—É—Å–∫–æ–º –∑–∞—Å—Ç–æ—Å—É–Ω–∫—É –∞–±–æ –∫–æ–ª–∏ –∑–∞—Å—Ç–æ—Å—É–Ω–æ–∫ –≤–∏–º–∏–∫–∞—î—Ç—å—Å—è.

–¶—ñ —Ñ—É–Ω–∫—Ü—ñ—ó –º–æ–∂–Ω–∞ –æ–≥–æ–ª–æ—à—É–≤–∞—Ç–∏ —è–∫ –∑ `async def`, —Ç–∞–∫ —ñ –∑–≤–∏—á–∞–π–Ω–∏–º `def`.

### –ü–æ–¥—ñ—è `startup` { #startup-event }

–©–æ–± –¥–æ–¥–∞—Ç–∏ —Ñ—É–Ω–∫—Ü—ñ—é, —è–∫—É —Å–ª—ñ–¥ –≤–∏–∫–æ–Ω–∞—Ç–∏ –ø–µ—Ä–µ–¥ –∑–∞–ø—É—Å–∫–æ–º –∑–∞—Å—Ç–æ—Å—É–Ω–∫—É, –æ–≥–æ–ª–æ—Å—ñ—Ç—å —ó—ó –∑ –ø–æ–¥—ñ—î—é `"startup"`:

{* ../../docs_src/events/tutorial001_py310.py hl[8] *}

–£ —Ü—å–æ–º—É –≤–∏–ø–∞–¥–∫—É —Ñ—É–Ω–∫—Ü—ñ—è-–æ–±—Ä–æ–±–Ω–∏–∫ –ø–æ–¥—ñ—ó `startup` —ñ–Ω—ñ—Ü—ñ–∞–ª—ñ–∑—É—î ¬´–±–∞–∑—É –¥–∞–Ω–∏—Ö¬ª –ø—Ä–µ–¥–º–µ—Ç—ñ–≤ (—Ü–µ –ª–∏—à–µ `dict`) –¥–µ—è–∫–∏–º–∏ –∑–Ω–∞—á–µ–Ω–Ω—è–º–∏.

–í–∏ –º–æ–∂–µ—Ç–µ –¥–æ–¥–∞—Ç–∏ –±—ñ–ª—å—à–µ –Ω—ñ–∂ –æ–¥–∏–Ω –æ–±—Ä–æ–±–Ω–∏–∫ –ø–æ–¥—ñ—ó.

–Ü –≤–∞—à –∑–∞—Å—Ç–æ—Å—É–Ω–æ–∫ –Ω–µ –ø–æ—á–Ω–µ –ø—Ä–∏–π–º–∞—Ç–∏ –∑–∞–ø–∏—Ç–∏, –¥–æ–∫–∏ –≤—Å—ñ –æ–±—Ä–æ–±–Ω–∏–∫–∏ –ø–æ–¥—ñ—ó `startup` –Ω–µ –∑–∞–≤–µ—Ä—à–∞—Ç—å—Å—è.

### –ü–æ–¥—ñ—è `shutdown` { #shutdown-event }

–©–æ–± –¥–æ–¥–∞—Ç–∏ —Ñ—É–Ω–∫—Ü—ñ—é, —è–∫—É —Å–ª—ñ–¥ –≤–∏–∫–æ–Ω–∞—Ç–∏, –∫–æ–ª–∏ –∑–∞—Å—Ç–æ—Å—É–Ω–æ–∫ –≤–∏–º–∏–∫–∞—î—Ç—å—Å—è, –æ–≥–æ–ª–æ—Å—ñ—Ç—å —ó—ó –∑ –ø–æ–¥—ñ—î—é `"shutdown"`:

{* ../../docs_src/events/tutorial002_py310.py hl[6] *}

–¢—É—Ç —Ñ—É–Ω–∫—Ü—ñ—è-–æ–±—Ä–æ–±–Ω–∏–∫ –ø–æ–¥—ñ—ó `shutdown` –∑–∞–ø–∏—à–µ —Ç–µ–∫—Å—Ç–æ–≤–∏–π —Ä—è–¥–æ–∫ `"Application shutdown"` —É —Ñ–∞–π–ª `log.txt`.

/// info | –Ü–Ω—Ñ–æ—Ä–º–∞—Ü—ñ—è

–£ —Ñ—É–Ω–∫—Ü—ñ—ó `open()` –ø–∞—Ä–∞–º–µ—Ç—Ä `mode="a"` –æ–∑–Ω–∞—á–∞—î ¬´append¬ª, —Ç–æ–∂ —Ä—è–¥–æ–∫ –±—É–¥–µ –¥–æ–¥–∞–Ω–æ –ø—ñ—Å–ª—è –≤—Å—å–æ–≥–æ, —â–æ —î —É —Ñ–∞–π–ª—ñ, –±–µ–∑ –ø–µ—Ä–µ–∑–∞–ø–∏—Å—É –ø–æ–ø–µ—Ä–µ–¥–Ω—å–æ–≥–æ –≤–º—ñ—Å—Ç—É.

///

/// tip | –ü–æ—Ä–∞–¥–∞

–ó–∞—É–≤–∞–∂—Ç–µ, —â–æ –≤ —Ü—å–æ–º—É –≤–∏–ø–∞–¥–∫—É –º–∏ –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É—î–º–æ —Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω—É Python-—Ñ—É–Ω–∫—Ü—ñ—é `open()`, —è–∫–∞ –ø—Ä–∞—Ü—é—î –∑ —Ñ–∞–π–ª–æ–º.

–¢–æ–±—Ç–æ –≤–æ–Ω–∞ –≤–∫–ª—é—á–∞—î I/O (input/output), –¥–µ –ø–æ—Ç—Ä—ñ–±–Ω–æ ¬´—á–µ–∫–∞—Ç–∏¬ª, –ø–æ–∫–∏ –¥–∞–Ω—ñ –±—É–¥–µ –∑–∞–ø–∏—Å–∞–Ω–æ –Ω–∞ –¥–∏—Å–∫.

–ê–ª–µ `open()` –Ω–µ –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É—î `async` —ñ `await`.

–¢–æ–º—É –º–∏ –æ–≥–æ–ª–æ—à—É—î–º–æ —Ñ—É–Ω–∫—Ü—ñ—é-–æ–±—Ä–æ–±–Ω–∏–∫ –ø–æ–¥—ñ—ó –∑—ñ —Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω–∏–º `def`, –∞ –Ω–µ `async def`.

///

### –†–∞–∑–æ–º `startup` —ñ `shutdown` { #startup-and-shutdown-together }

–í–µ–ª–∏–∫–∞ –π–º–æ–≤—ñ—Ä–Ω—ñ—Å—Ç—å, —â–æ –ª–æ–≥—ñ–∫–∞ –¥–ª—è –≤–∞—à–æ–≥–æ –∑–∞–ø—É—Å–∫—É —ñ –≤–∏–º–∫–Ω–µ–Ω–Ω—è –ø–æ–≤‚Äô—è–∑–∞–Ω–∞: –≤–∏ –º–æ–∂–µ—Ç–µ —Ö–æ—Ç—ñ—Ç–∏ —â–æ—Å—å –∑–∞–ø—É—Å—Ç–∏—Ç–∏, –∞ –ø–æ—Ç—ñ–º –∑–∞–≤–µ—Ä—à–∏—Ç–∏, –æ—Ç—Ä–∏–º–∞—Ç–∏ —Ä–µ—Å—É—Ä—Å, –∞ –ø–æ—Ç—ñ–º –∑–≤—ñ–ª—å–Ω–∏—Ç–∏ –π–æ–≥–æ —Ç–æ—â–æ.

–†–æ–±–∏—Ç–∏ —Ü–µ –≤ –æ–∫—Ä–µ–º–∏—Ö —Ñ—É–Ω–∫—Ü—ñ—è—Ö, —è–∫—ñ –Ω–µ –¥—ñ–ª—è—Ç—å—Å—è –ª–æ–≥—ñ–∫–æ—é —á–∏ –∑–º—ñ–Ω–Ω–∏–º–∏, —Å–∫–ª–∞–¥–Ω—ñ—à–µ - –¥–æ–≤–µ–¥–µ—Ç—å—Å—è –∑–±–µ—Ä—ñ–≥–∞—Ç–∏ –∑–Ω–∞—á–µ–Ω–Ω—è —É –≥–ª–æ–±–∞–ª—å–Ω–∏—Ö –∑–º—ñ–Ω–Ω–∏—Ö –∞–±–æ –≤–¥–∞–≤–∞—Ç–∏—Å—è –¥–æ –ø–æ–¥—ñ–±–Ω–∏—Ö —Ç—Ä—é–∫—ñ–≤.

–¢–æ–º—É –∑–∞—Ä–∞–∑ —Ä–µ–∫–æ–º–µ–Ω–¥—É—î—Ç—å—Å—è –Ω–∞—Ç–æ–º—ñ—Å—Ç—å –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É–≤–∞—Ç–∏ `lifespan`, —è–∫ –ø–æ—è—Å–Ω–µ–Ω–æ –≤–∏—â–µ.

## –¢–µ—Ö–Ω—ñ—á–Ω—ñ –¥–µ—Ç–∞–ª—ñ { #technical-details }

–ù–µ–≤–µ–ª–∏–∫–∞ —Ç–µ—Ö–Ω—ñ—á–Ω–∞ –¥–µ—Ç–∞–ª—å –¥–ª—è –¥–æ–ø–∏—Ç–ª–∏–≤–∏—Ö –Ω–µ—Ä–¥—ñ–≤. ü§ì

–ü—ñ–¥ –∫–∞–ø–æ—Ç–æ–º, —É —Ç–µ—Ö–Ω—ñ—á–Ω—ñ–π —Å–ø–µ—Ü–∏—Ñ—ñ–∫–∞—Ü—ñ—ó ASGI, —Ü–µ —á–∞—Å—Ç–∏–Ω–∞ <a href="https://asgi.readthedocs.io/en/latest/specs/lifespan.html" class="external-link" target="_blank">–ü—Ä–æ—Ç–æ–∫–æ–ª—É —Ç—Ä–∏–≤–∞–ª–æ—Å—Ç—ñ –∂–∏—Ç—Ç—è</a>, —ñ —Ç–∞–º –≤–∏–∑–Ω–∞—á–µ–Ω—ñ –ø–æ–¥—ñ—ó `startup` —ñ `shutdown`.

/// info | –Ü–Ω—Ñ–æ—Ä–º–∞—Ü—ñ—è

–í–∏ –º–æ–∂–µ—Ç–µ –ø—Ä–æ—á–∏—Ç–∞—Ç–∏ –±—ñ–ª—å—à–µ –ø—Ä–æ –æ–±—Ä–æ–±–Ω–∏–∫–∏ `lifespan` —É <a href="https://www.starlette.dev/lifespan/" class="external-link" target="_blank">–¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü—ñ—ó Starlette –ø—Ä–æ Lifespan</a>.

–ó–æ–∫—Ä–µ–º–∞, —è–∫ –ø—Ä–∞—Ü—é–≤–∞—Ç–∏ –∑—ñ —Å—Ç–∞–Ω–æ–º —Ç—Ä–∏–≤–∞–ª–æ—Å—Ç—ñ –∂–∏—Ç—Ç—è, —è–∫–∏–π –º–æ–∂–Ω–∞ –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É–≤–∞—Ç–∏ –≤ —ñ–Ω—à–∏—Ö –¥—ñ–ª—è–Ω–∫–∞—Ö –≤–∞—à–æ–≥–æ –∫–æ–¥—É.

///

## –ü—ñ–¥–∑–∞—Å—Ç–æ—Å—É–Ω–∫–∏ { #sub-applications }

üö® –ú–∞–π—Ç–µ –Ω–∞ —É–≤–∞–∑—ñ, —â–æ —Ü—ñ –ø–æ–¥—ñ—ó —Ç—Ä–∏–≤–∞–ª–æ—Å—Ç—ñ –∂–∏—Ç—Ç—è (startup —ñ shutdown) –≤–∏–∫–æ–Ω—É—é—Ç—å—Å—è –ª–∏—à–µ –¥–ª—è –≥–æ–ª–æ–≤–Ω–æ–≥–æ –∑–∞—Å—Ç–æ—Å—É–Ω–∫—É, –∞ –Ω–µ –¥–ª—è [–ü—ñ–¥–∑–∞—Å—Ç–æ—Å—É–Ω–∫–∏ - –º–æ–Ω—Ç—É–≤–∞–Ω–Ω—è](sub-applications.md){.internal-link target=_blank}.
