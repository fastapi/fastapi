# –û HTTPS

–õ–µ–≥–∫–æ –ø—Ä–µ–¥–ø–æ–ª–æ–∂–∏—Ç—å, —á—Ç–æ HTTPS - —ç—Ç–æ —á—Ç–æ-—Ç–æ, —á—Ç–æ "–≤–∫–ª—é—á–µ–Ω–æ" –∏–ª–∏ –Ω–µ—Ç.

–ù–æ –≤—Å–µ –≥–æ—Ä–∞–∑–¥–æ —Å–ª–æ–∂–Ω–µ–µ, —á–µ–º –∫–∞–∂–µ—Ç—Å—è.

!!! –ü–æ–¥—Å–∫–∞–∑–∫–∞
    –ï—Å–ª–∏ –≤—ã —Ç–æ—Ä–æ–ø–∏—Ç–µ—Å—å –∏–ª–∏ –≤–∞–º –≤—Å–µ —Ä–∞–≤–Ω–æ, —á–∏—Ç–∞–π—Ç–µ —Å–ª–µ–¥—É—é—â–∏–µ —Ä–∞–∑–¥–µ–ª—ã –ø–æ—à–∞–≥–æ–≤–æ–π –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏–∏ –ø–æ –Ω–∞—Å—Ç—Ä–æ–π–∫–µ —Ä–∞–∑–≤–µ—Ä—Ç—ã–≤–∞–Ω–∏—è —Å –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ–º —Ä–∞–∑–ª–∏—á–Ω—ã—Ö —Ç–µ—Ö–Ω–æ–ª–æ–≥–∏–π.

–ß—Ç–æ–±—ã **–ø–æ–Ω—è—Ç—å –æ—Å–Ω–æ–≤—ã HTTPS** —Å —Ç–æ—á–∫–∏ –∑—Ä–µ–Ω–∏—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è, –∏–∑—É—á–∏—Ç–µ <a href="https://howhttps.works/ru/" class="external-link" target="_blank">https://howhttps.works/</a>.

–ò—Ç–∞–∫, **—Å —Ç–æ—á–∫–∏ –∑—Ä–µ–Ω–∏—è —Ä–∞–∑—Ä–∞–±–æ—Ç—á–∏–∫–∞** –µ—Å—Ç—å –Ω–µ—Å–∫–æ–ª—å–∫–æ –≤–µ—â–µ–π, –∫–æ—Ç–æ—Ä—ã–µ –Ω–∞–¥–æ –¥–µ—Ä–∂–∞—Ç—å –≤ —É–º–µ, —Ä–∞–∑–º—ã—à–ª—è—è –æ HTTPS:

* –ü—Ä–∏ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–∏ –ø—Ä–æ—Ç–æ–∫–æ–ª–∞ HTTPS, **—Å–µ—Ä–≤–µ—Ä** –¥–æ–ª–∂–µ–Ω **–æ–±–ª–∞–¥–∞—Ç—å "—Å–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç–∞–º–∏"**, —Å–≥–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞–Ω–Ω—ã–º–∏ **—Ç—Ä–µ—Ç—å–µ–π —Å—Ç–æ—Ä–æ–Ω–æ–π**.
    * –ù–∞ —Å–∞–º–æ–º –¥–µ–ª–µ, —Ç—Ä–µ—Ç—å—è —Å—Ç–æ—Ä–æ–Ω–∞ **–≤—ã–¥–∞–µ—Ç** —Å–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç—ã, –∞ –Ω–µ "–≥–µ–Ω–µ—Ä–∏—Ä—É–µ—Ç".
* –£ —Å–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç–æ–≤ –µ—Å—Ç—å **—Å—Ä–æ–∫ –¥–µ–π—Å—Ç–≤–∏—è**.
    * –û–Ω **–∏—Å—Ç–µ–∫–∞–µ—Ç**.
    * –ü–æ—Å–ª–µ —ç—Ç–æ–≥–æ —Å–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç—ã –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ **–æ–±–Ω–æ–≤–∏—Ç—å**, **–≤–Ω–æ–≤—å –ø–æ–ª—É—á–∏—Ç—å** –æ—Ç —Ç—Ä–µ—Ç—å–µ–π —Å—Ç–æ—Ä–æ–Ω—ã.
* –®–∏—Ñ—Ä–æ–≤–∞–Ω–∏–µ —Å–æ–µ–¥–∏–Ω–µ–Ω–∏—è –ø—Ä–æ–∏—Å—Ö–æ–¥–∏—Ç –Ω–∞ **TCP-—É—Ä–æ–≤–Ω–µ**.
    * –≠—Ç–æ –Ω–∞ –æ–¥–∏–Ω —É—Ä–æ–≤–µ–Ω—å **–Ω–∏–∂–µ HTTP**.
    * –¢–∞–∫ —á—Ç–æ **—Å–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ü–∏—è –∏ —à–∏—Ñ—Ä–æ–≤–∞–Ω–∏–µ** –≤—ã–ø–æ–ª–Ω—è–µ—Ç—Å—è **–ø–µ—Ä–µ–¥ HTTP**.
* **TCP –Ω–µ –∑–Ω–∞–µ—Ç –æ "–¥–æ–º–µ–Ω–∞—Ö"**. –¢–æ–ª—å–∫–æ –æ–± IP-–∞–¥—Ä–µ—Å–∞—Ö.
    * –ò–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è **–æ –∫–æ–Ω–∫—Ä–µ—Ç–Ω–æ–º –∑–∞–ø—Ä–∞—à–∏–≤–∞–µ–º–æ–º –¥–æ–º–µ–Ω–µ** —Å–æ–¥–µ—Ä–∂–∏—Ç—Å—è –≤ **–¥–∞–Ω–Ω—ã—Ö HTTP**.
* **HTTPS-—Å–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç—ã** "—Å–µ—Ä—Ç–∏—Ñ–∏—Ü–∏—Ä—É—é—Ç" **–æ–ø—Ä–µ–¥–µ–ª–µ–Ω–Ω—ã–π –¥–æ–º–µ–Ω**, –Ω–æ –ø—Ä–æ—Ç–æ–∫–æ–ª –∏ —à–∏—Ñ—Ä–æ–≤–∞–Ω–∏–µ –ø—Ä–æ–∏—Å—Ö–æ–¥–∏—Ç –Ω–∞ TCP-—É—Ä–æ–≤–Ω–µ, **–Ω–µ –∑–Ω–∞—è** —Å –∫–∞–∫–∏–º –¥–æ–º–µ–Ω–æ–º –≤–µ–¥–µ—Ç—Å—è —Ä–∞–±–æ—Ç–∞.
* **–ü–æ —É–º–æ–ª—á–∞–Ω–∏—é**, —ç—Ç–æ –æ–∑–Ω–∞—á–∞–µ—Ç, —á—Ç–æ –≤—ã –º–æ–∂–µ—Ç–µ –∏–º–µ—Ç—å —Ç–æ–ª—å–∫–æ **–æ–¥–∏–Ω HTTPS-—Å–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç –Ω–∞ IP-–∞–¥—Ä–µ—Å**.
    * –í–Ω–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ –æ—Ç —Ç–æ–≥–æ, –Ω–∞—Å–∫–æ–ª—å–∫–æ –±–æ–ª—å—à–æ–π —É –≤–∞—Å —Å–µ—Ä–≤–µ—Ä –∏–ª–∏ –Ω–∞—Å–∫–æ–ª—å–∫–æ –º–∞–ª—ã –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è, –∫–æ—Ç–æ—Ä—ã–µ –∏–º–µ—é—Ç—Å—è –Ω–∞ –Ω–µ–º.
    * –ù–µ—Å–º–æ—Ä—Ç—Ä—è –Ω–∞ —ç—Ç–æ, –∏–º–µ–µ—Ç—Å—è **—Ä–µ—à–µ–Ω–∏–µ** –¥–∞–Ω–Ω–æ–π –ø—Ä–æ–±–ª–µ–º—ã.
* –°—É—â–µ—Å—Ç–≤—É–µ—Ç **—Ä–∞—Å—à–∏—Ä–µ–Ω–∏–µ** –ø—Ä–æ—Ç–æ–∫–æ–ª–∞ **TLS** (—Ç–æ–≥–æ, —á—Ç–æ —É–ø—Ä–∞–≤–ª—è–µ—Ç —à–∏—Ñ—Ä–æ–≤–∞–Ω–∏–µ–º –Ω–∞ TCP-—É—Ä–æ–≤–Ω–µ, –ø–µ—Ä–µ–¥ HTTP), –∫–æ—Ç–æ—Ä–æ–µ –Ω–∞–∑—ã–≤–∞–µ—Ç—Å—è **<a href="https://ru.wikipedia.org/wiki/Server_Name_Indication" class="external-link" target="_blank"><abbr title="–ò–Ω–¥–∏–∫–∞—Ü–∏—è –∏–º–µ–Ω–∏ —Å–µ—Ä–≤–µ—Ä–∞">SNI</abbr></a>**.
    * –†–∞—Å—à–∏—Ä–µ–Ω–∏–µ SNI –ø–æ–∑–≤–æ–ª—è–µ—Ç –æ–¥–Ω–æ–º—É —Å–µ—Ä–≤–µ—Ä—É (**—Å –æ–¥–Ω–∏–º IP-–∞–¥—Ä–µ—Å–æ–º**) –∏–º–µ—Ç—å **–Ω–µ—Å–∫–æ–ª—å–∫–æ HTTPS-—Å–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç–æ–≤** –∏ –æ–±—Å–ª—É–∂–∏–≤–∞—Ç—å **–Ω–µ—Å–∫–æ–ª—å–∫–æ HTTPS-–¥–æ–º–µ–Ω–æ–≤/–ø—Ä–∏–ª–æ–∂–µ–Ω–∏–π**.
    * –î–ª—è —Ä–∞–±–æ—Ç—ã SNI –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ, —á—Ç–æ–±—ã **–æ–¥–∏–Ω** –∫–æ–º–ø–æ–Ω–µ–Ω—Ç (–ø—Ä–æ–≥—Ä–∞–º–º–∞), –∑–∞–ø—É—â–µ–Ω–Ω—ã–π –Ω–∞ —Å–µ—Ä–≤–µ—Ä–µ –∏ —Å–ª—É—à–∞—é—â–∏–π **–ø—É–±–ª–∏—á–Ω—ã–π IP-–∞–¥—Ä–µ—Å**, –¥–æ–ª–∂–µ–Ω –∏–º–µ—Ç—å –¥–æ—Å—Ç—É–ø –∫–æ **–≤—Å–µ–º HTTPS-—Å–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç–∞–º** –Ω–∞ —Å–µ—Ä–≤–µ—Ä–µ.
* **–ü–æ—Å–ª–µ** —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏—è –∑–∞—â–∏—â–µ–Ω–Ω–æ–≥–æ —Å–æ–µ–¥–∏–Ω–µ–Ω–∏—è, –≤ –∫–∞—á–µ—Å—Ç–≤–µ –ø—Ä–æ—Ç–æ–∫–æ–ª–∞ —Å–æ–µ–¥–∏–Ω–µ–Ω–∏—è –≤—Å–µ –µ—â–µ **–∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è HTTP**.
    * –î–∞–Ω–Ω—ã–µ **—à–∏—Ñ—Ä—É—é—Ç—Å—è**, –¥–∞–∂–µ –Ω–µ—Å–º–æ—Ç—Ä—è –Ω–∞ —Ç–æ, —á—Ç–æ –æ–Ω–∏ –ø–æ—Å—ã–ª–∞—é—Ç—Å—è —Å –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ–º **–ø—Ä–æ—Ç–æ–∫–æ–ª–∞ HTTP**.

–ù–æ—Ä–º–∞–ª—å–Ω–æ–π –ø—Ä–∞–∫—Ç–∏–∫–æ–π —è–≤–ª—è–µ—Ç—Å—è —Å–∏—Ç—É–∞—Ü–∏—è, –ø—Ä–∏ –∫–æ—Ç–æ—Ä–æ–π **–æ–¥–Ω–∞ –ø—Ä–æ–≥—Ä–∞–º–º–∞/HTTP-—Å–µ—Ä–≤–µ—Ä**, –∑–∞–ø—É—â–µ–Ω–Ω—ã–π –Ω–∞ —Å–µ—Ä–≤–µ—Ä–µ (–º–∞—à–∏–Ω–µ, —Ö–æ—Å—Ç–µ, –∏ —Ç.–¥.) –∏ **—É–ø—Ä–∞–≤–ª–µ–Ω–∏—é—â–∏–π –≤—Å–µ–º–∏ —á–∞—Å—Ç—è–º–∏ HTTPS**: –ø–æ–ª—É—á–µ–Ω–∏–µ **–∑–∞—à–∏—Ñ—Ä–æ–≤–∞–Ω–Ω—ã—Ö HTTPS –∑–∞–ø—Ä–æ—Å–æ–≤**, –æ—Ç–ø—Ä–∞–≤–∫–∞ **—Ä–∞—Å—à–∏—Ñ—Ä–æ–≤–∞–Ω–Ω—ã—Ö HTTP –∑–∞–ø—Ä–æ—Å–æ–≤** –∫–æ–Ω–∫—Ä–µ—Ç–Ω–æ–º—É HTTP –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—é, –∑–∞–ø—É—â–µ–Ω–Ω–æ–º—É –Ω–∞ –¥–∞–Ω–Ω–æ–º —Å–µ—Ä–≤–µ—Ä–µ (–≤ –Ω–∞—à–µ–º —Å–ª—É—á–∞–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ **FastAPI**), –ø—Ä–∏–µ–º **HTTP –æ—Ç–≤–µ—Ç–∞** –æ—Ç –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è, **–µ–≥–æ —à–∏—Ñ—Ä–æ–≤–∞–Ω–∏–µ** –ø—Ä–∏ –ø–æ–º–æ—â–∏ —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É—é—â–µ–≥–æ **HTTPS —Å–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç–∞** –∏ –µ–≥–æ –¥–∞–ª—å–Ω–µ–π—à–∞—è –æ—Ç–ø—Ä–∞–≤–∫–∞ –æ–±—Ä–∞—Ç–Ω–æ –∫–ª–∏–µ–Ω—Ç—É, –∏—Å–ø–æ–ª—å–∑—É—è **HTTPS**. –¢–∞–∫–æ–π —Å–µ—Ä–≤–µ—Ä –∑–æ–≤–µ—Ç—Å—è **<a href="https://en.wikipedia.org/wiki/TLS_termination_proxy" class="external-link" target="_blank">–ø—Ä–æ–∫—Å–∏-—Å–µ—Ä–≤–µ—Ä –∑–∞–≤–µ—Ä—à–µ–Ω–∏—è TLS</a>**.

–ù–∏–∂–µ –ø—Ä–µ–¥—Å—Ç–∞–≤–ª–µ–Ω—ã –≤–∞—Ä–∏–∞–Ω—Ç—ã, –∫–æ—Ç–æ—Ä—ã–µ –≤—ã –º–æ–∂–µ—Ç–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –∫–∞–∫ –ø—Ä–æ–∫—Å–∏-—Å–µ—Ä–≤–µ—Ä –∑–∞–≤–µ—Ä—à–µ–Ω–∏—è TLS:

* Traefik (–º–æ–∂–µ—Ç —É–ø—Ä–∞–≤–ª—è—Ç—å –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ–º —Å–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç–æ–≤)
* Caddy (–º–æ–∂–µ—Ç —É–ø—Ä–∞–≤–ª—è—Ç—å –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ–º —Å–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç–æ–≤)
* Nginx
* HAProxy

## Let's Encrypt

–î–æ —Å–æ–∑–¥–∞–Ω–∏—è Let's Encrypt, **HTTPS-—Å–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç—ã** –ø—Ä–æ–¥–∞–≤–∞–ª–∏—Å—å –¥–æ–≤–µ—Ä–µ–Ω–Ω—ã–º–∏ —Ç—Ä–µ—Ç—å–∏–º–∏ —Å—Ç–æ—Ä–æ–Ω–∞–º–∏.

–ü—Ä–æ—Ü–µ—Å—Å –ø–æ–ª—É—á–µ–Ω–∏—è —Å–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç–∞ –±—ã–ª —Ç—Ä—É–¥–æ–µ–º–∫–∏–º, —Ç—Ä–µ–±–æ–≤–∞–ª –º–Ω–æ–≥–æ –±—É–º–∞–∂–Ω–æ–π —Ä–∞–±–æ—Ç—ã, –∞ —Ü–µ–Ω–∞ –Ω–∞ —Å–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç –±—ã–ª–∞ –¥–æ–≤–æ–ª—å–Ω–æ –≤—ã—Å–æ–∫–æ–π.

–ó–∞—Ç–µ–º –±—ã–ª —Å–æ–∑–¥–∞–Ω **<a href="https://letsencrypt.org/" class="external-link" target="_blank">Let's Encrypt</a>**.

–≠—Ç–æ –ø—Ä–æ–µ–∫—Ç Linux Foundation. –û–Ω –æ–±–µ—Å–ø–µ—á–∏–≤–∞—Ç –∞–≤—Ç–æ–º–∞—Ç–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω—É—é –≤—ã–¥–∞—á—É **–±–µ—Å–ø–ª–∞—Ç–Ω—ã—Ö HTTPS-—Å–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç–æ–≤**. –î–∞–Ω–Ω—ã–µ —Å–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç—ã –∏—Å–ø–æ–ª—å—É—é—Ç –≤—Å–µ —Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω—ã–µ –∫—Ä–∏–ø—Ç–æ–≥—Ä–∞—Ñ–∏—á–µ—Å–∫–∏–µ —Å—Ä–µ–¥—Å—Ç–≤–∞ –æ–±–µ—Å–ø–µ—á–µ–Ω–∏—è –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏, —Å –∫–æ—Ä–æ—Ç–∫–∏–º –ø–µ—Ä–∏–æ–¥–æ–º –¥–µ–π—Å—Ç–≤–∏—è (–æ–∫–æ–ª–æ 3 –º–µ—Å—è—Ü–µ–≤), –ø–æ—ç—Ç–æ–º—É **–±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å –¥–∞–Ω–Ω—ã—Ö —Å–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç–æ–≤ –≤—ã—à–µ** –∏–∑-–∑–∞ —É–º–µ–Ω—å—à–µ–Ω–æ–≥–æ —Å—Ä–æ–∫–∞ —Å–ª—É–∂–±—ã.

–î–æ–º–µ–Ω—ã –Ω–∞–¥–µ–∂–Ω–æ –ø—Ä–æ–≤–µ—Ä—è—é—Ç—Å—è, –∞ —Å–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç—ã –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –≥–µ–Ω–µ—Ä–∏—Ä—É—é—Ç—Å—è. –¢–∞–∫–∂–µ –≤–æ–∑–º–æ–∂–Ω–æ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ –¥–∞–Ω–Ω—ã—Ö —Å–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç–æ–≤.

–û—Å–Ω–æ–≤–Ω–∞—è –∏–¥–µ—è - —ç—Ç–æ –∞–≤—Ç–æ–º–∞—Ç–∏–∑–∏—Ä–æ–≤–∞—Ç—å –ø–æ–ª—É—á–µ–Ω–∏–µ –∏ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ —Å–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç–æ–≤, —á—Ç–æ–±—ã —É –≤–∞—Å –ø–æ—Å—Ç–æ—è–Ω–Ω–æ –∏–º–µ–ª—Å—è **–±–µ–∑–æ–ø–∞—Å–Ω—ã–π HTTPS, –±–µ—Å–ø–ª–∞—Ç–Ω–æ –∏ –Ω–∞–≤—Å–µ–≥–¥–∞**.

## HTTPS –¥–ª—è —Ä–∞–∑—Ä–∞–±–æ—Ç—á–∏–∫–æ–≤

–≠—Ç–æ –ø–æ—à–∞–≥–æ–≤—ã–π –ø—Ä–∏–º–µ—Ä —Ç–æ–≥–æ, –∫–∞–∫ –º–æ–∂–µ—Ç –≤—ã–≥–ª—è–¥–µ—Ç—å HTTPS API, –≤ –∫–æ—Ç–æ—Ä–æ–º –æ—Å–Ω–æ–≤–Ω–æ–µ –≤–Ω–∏–º–∞–Ω–∏–µ –±—É–¥–µ—Ç –æ–±—Ä–∞—â–µ–Ω–æ –Ω–∞ –∏–¥–µ–∏, –≤–∞–∂–Ω—ã–µ –¥–ª—è —Ä–∞–∑—Ä–∞–±–æ—Ç—á–∏–∫–∞.

### –î–æ–º–µ–Ω–Ω–æ–µ –∏–º—è

–í—Å–µ –Ω–∞—á–∏–Ω–∞–µ—Ç—Å—è —Å —Ç–æ–≥–æ, —á—Ç–æ –≤—ã **–ø–æ–ª—É—á–∞–µ—Ç–µ** –∫–∞–∫–æ–µ-—Ç–æ **–¥–æ–º–µ–Ω–Ω–æ–µ –∏–º—è**. –ü–æ—Å–ª–µ, –≤—ã –Ω–∞—Å—Ç—Ä–∞–∏–≤–∞–µ—Ç–µ –µ–≥–æ –Ω–∞ DNS-—Å–µ—Ä–≤–µ—Ä–µ (–≤–æ–∑–º–æ–∂–Ω–æ, —Ç–æ–≥–æ –∂–µ –æ–±–ª–∞—á–Ω–æ–≥–æ –ø—Ä–æ–≤–∞–π–¥–µ—Ä–∞).

–í—ã, —Å–∫–æ—Ä–µ–µ –≤—Å–µ–≥–æ, –ø–æ–ª—É—á–∏—Ç–µ –æ–±–ª–∞—á–Ω—ã–π —Å–µ—Ä–≤–µ—Ä (–≤–∏—Ä—Ç—É–∞–ª—å–Ω—É—é –º–∞—à–∏–Ω—É) –∏–ª–∏ —á—Ç–æ-—Ç–æ –ø–æ–¥–æ–±–Ω–æ–µ, –∏ —É –Ω–µ–≥–æ –±—É–¥–µ—Ç <abbr title="–û–Ω –Ω–µ –∏–∑–º–µ–Ω—è–µ—Ç—Å—è">—Ñ–∏–∫—Å–∏—Ä–æ–≤–∞–Ω–Ω—ã–π</abbr> **–ø—É–±–ª–∏—á–Ω—ã–π IP-–∞–¥—Ä–µ—Å**.

–í DNS-—Å–µ—Ä–≤–µ—Ä–µ (—Å–µ—Ä–≤–µ—Ä–∞—Ö) –≤–∞–º —Å—Ç–æ–∏—Ç –Ω–∞—Å—Ç—Ä–æ–∏—Ç—å "`A-–∑–∞–ø–∏—Å—å`", –∫–æ—Ç–æ—Ä–∞—è –ø–æ–∑–≤–æ–ª—è–µ—Ç **–≤–∞—à–µ–º—É –¥–æ–º–µ–Ω—É** —É–∫–∞–∑—ã–≤–∞—Ç—å –Ω–∞ –ø—É–±–ª–∏—á–Ω—ã–π **IP-–∞–¥—Ä–µ—Å –≤–∞—à–µ–≥–æ —Å–µ—Ä–≤–µ—Ä–∞**.

–í–µ—Ä–æ—è—Ç–Ω–µ–µ –≤—Å–µ–≥–æ, –≤—ã —Å–¥–µ–ª–∞–µ—Ç–µ —ç—Ç–æ –≤—Å–µ –æ–¥–∏–Ω —Ä–∞–∑, –ø—Ä–∏ –ø–µ—Ä–≤–∏—á–Ω–æ–π –Ω–∞—Å—Ç—Ä–æ–π–∫–µ.

!!! –ü–æ–¥—Å–∫–∞–∑–∫–∞
    –ß–∞—Å—Ç—å "–î–æ–º–µ–Ω–Ω–æ–µ –∏–º—è" –æ–±—ä—è—Å–Ω—è–µ—Ç—Å—è –Ω–∞–º–Ω–æ–≥–æ —Ä–∞–Ω—å—à–µ HTTPS, –Ω–æ –ø–æ—Å–∫–æ–ª—å–∫—É –≤—Å–µ –∑–∞–≤–∏—Å–∏—Ç –æ—Ç –¥–æ–º–µ–Ω–∞ –∏ IP-–∞–¥—Ä–µ—Å–∞, —Å—Ç–æ–∏—Ç —É–ø–æ–º—è–Ω—É—Ç—å –æ–± —ç—Ç–æ–º –∑–¥–µ—Å—å.

### DNS

–¢–µ–ø–µ—Ä—å –¥–∞–≤–∞–π—Ç–µ —Å–æ—Å—Ä–µ–¥–æ—Ç–æ—á–∏–º—Å—è –Ω–∞ –≤—Å–µ—Ö —Ñ–∞–∫—Ç–∏—á–µ—Å–∫–∏—Ö —á–∞—Å—Ç—è—Ö HTTPS.

–í–æ-–ø–µ—Ä–≤—ã—Ö, –±—Ä–∞—É–∑–µ—Ä –ø—Ä–æ–≤–µ—Ä—è–µ—Ç —Å –ø–æ–º–æ—â—å—é **DNS-—Å–µ—Ä–≤–µ—Ä–æ–≤**, –∫–∞–∫–æ–π **IP-–∞–¥—Ä–µ—Å —É –¥–æ–º–µ–Ω–∞**, –≤ –¥–∞–Ω–Ω–æ–º —Å–ª—É—á–∞–µ `someapp.example.com`.

DNS-—Å–µ—Ä–≤–µ—Ä–∞ –ø–æ–¥—Å–∫–∞–∂—É—Ç –±—Ä–∞—É–∑–µ—Ä—É  –∫–∞–∫–æ–π –∫–æ–Ω–∫—Ä–µ—Ç–Ω—ã–π **IP-–∞–¥—Ä–µ—Å** –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å. –≠—Ç–æ –±—É–¥–µ—Ç –ø—É–±–ª–∏—á–Ω—ã–π IP-–∞–¥—Ä–µ—Å, –∏—Å–ø–æ–ª—å–∑—É–µ–º—ã–π –≤–∞—à–∏–º —Å–µ—Ä–≤–µ—Ä–æ–º, –∫–æ—Ç–æ—Ä—ã–π –≤—ã –Ω–∞—Å—Ç—Ä–æ–∏–ª–∏ –≤ DNS-—Å–µ—Ä–≤–µ—Ä–∞—Ö.

<img src="/img/deployment/https/https01.svg">

### –ù–∞—á–∞–ª–æ TLS-—Ä—É–∫–æ–ø–æ–∂–∞—Ç–∏—è

–ü–æ—Å–ª–µ —ç—Ç–æ–≥–æ, –±—Ä–∞—É–∑–µ—Ä –±—É–¥–µ—Ç –≤–∑–∞–∏–º–æ–¥–µ–π—Å—Ç–≤–æ–≤–∞—Ç—å —Å –¥–∞–Ω–Ω—ã–º IP-–∞–¥—Ä–µ—Å–æ–º –Ω–∞ **443 –ø–æ—Ä—Ç–µ** (–ø–æ—Ä—Ç HTTPS).

–ü–µ—Ä–≤–∞—è —á–∞—Å—Ç—å –≤–∑–∞–∏–º–æ–¥–µ–π—Å—Ç–≤–∏—è —ç—Ç–æ –ø—Ä–æ—Å—Ç–æ —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏–µ —Å–æ–µ–¥–∏–Ω–µ–Ω–∏—è –º—É–∂–¥—É –∫–ª–∏–µ–Ω—Ç–æ–º –∏ —Å–µ—Ä–≤–µ—Ä–æ–º –¥–ª—è —Å–æ–≥–ª–∞—Å–æ–≤–∞–Ω–∏—è –∏—Å–ø–æ–ª—å–∑—É–µ–º—ã—Ö –∫—Ä–∏–ø—Ç–æ–≥—Ä–∞—Ñ–∏—á–µ—Å–∫–∏—Ö –∫–ª—é—á–µ–π –∏ —Ç.–¥.

<img src="/img/deployment/https/https02.svg">

–í–∑–∞–∏–º–æ–¥–µ–π—Å—Ç–≤–∏–µ –º–µ–∂–¥—É –∫–ª–∏–µ–Ω—Ç–æ–º –∏ —Å–µ—Ä–≤–µ—Ä–æ–º –¥–ª—è —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏—è TLS-—Å–æ–µ–¥–∏–Ω–µ–Ω–∏—è –∑–æ–≤–µ—Ç—Å—è **TLS-—Ä—É–∫–æ–ø–æ–∂–∞—Ç–∏–µ**.

### TLS —Å SNI —Ä–∞—Å—à–∏—Ä–µ–Ω–∏–µ–º

**–¢–æ–ª—å–∫–æ –æ–¥–∏–Ω –ø—Ä–æ—Ü–µ—Å—Å** –Ω–∞ —Å–µ—Ä–≤–µ—Ä–µ –º–æ–∂–µ—Ç —Å–ª—É—à–∞—Ç—å –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–Ω—ã–π **–ø–æ—Ä—Ç** –Ω–∞ –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–Ω–æ–º **IP-–∞–¥—Ä–µ—Å–µ**. –ú–æ–≥—É—Ç –±—ã—Ç—å –∏ –¥—Ä—É–≥–∏–µ –ø—Ä–æ—Ü–µ—Å—Å—ã, —Å–ª—É—à–∞—é—â–∏–µ –Ω–∞ –¥—Ä—É–≥–∏—Ö –ø–æ—Ä—Ç–∞—Ö —Ç–æ—Ç –∂–µ —Å–∞–º—ã–π IP-–∞–¥—Ä–µ—Å, –Ω–æ —Ç–æ–ª—å–∫–æ –æ–¥–∏–Ω –ø—Ä–æ—Ü–µ—Å—Å –¥–ª—è –∫–∞–∂–¥–æ–π –∫–æ–º–±–∏–Ω–∞—Ü–∏–∏ IP-–∞–¥—Ä–µ—Å–∞ –∏ –ø–æ—Ä—Ç–∞.

TLS (HTTPS) –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é –∏—Å–ø–æ–ª—å–∑—É–µ—Ç –ø–æ—Ä—Ç `443`. –¢–∞–∫ —á—Ç–æ, –∏–º–µ–Ω–Ω–æ —ç—Ç–æ—Ç –ø–æ—Ä—Ç –Ω–∞–º –∏ –Ω—É–∂–µ–Ω.

–¢–∞–∫ –∫–∞–∫ —Ç–æ–ª—å–∫–æ –æ–¥–∏–Ω –ø—Ä–æ—Ü–µ—Å—Å –º–æ–∂–µ—Ç —Å–ª—É—à–∞—Ç—å —ç—Ç–æ—Ç –ø–æ—Ä—Ç, —ç—Ç–∏–º –ø—Ä–æ—Ü–µ—Å—Å–æ–º –±—É–¥–µ—Ç **–ø—Ä–æ–∫—Å–∏-—Å–µ—Ä–≤–µ—Ä –∑–∞–≤–µ—Ä—à–µ–Ω–∏—è TLS**.

–£ –ø—Ä–æ–∫—Å–∏-—Å–µ—Ä–≤–µ—Ä–∞ –∑–∞–≤–µ—Ä—à–µ–Ω–∏—è TLS –±—É–¥–µ—Ç –¥–æ—Å—Ç—É–ø –∫ –æ–¥–Ω–æ–º—É –∏–ª–∏ –±–æ–ª–µ–µ **TLS —Å–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç–∞–º** (HTTPS —Å–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç–∞–º).

–ò—Å–ø–æ–ª—å—É—è **SNI —Ä–∞—Å—à–∏—Ä–µ–Ω–∏–µ**, –∫–æ—Ç–æ—Ä–æ–µ –æ–±—Å—É–∂–¥–∞–ª–æ—Å—å –≤—ã—à–µ, –ø—Ä–æ–∫—Å–∏-—Å–µ—Ä–≤–µ—Ä –∑–∞–≤–µ—Ä—à–µ–Ω–∏—è TLS –±—É–¥–µ—Ç –ø—Ä–æ–≤–µ—Ä—è—Ç—å –∫–∞–∫–æ–π –∏–∑ TLS (HTTPS) —Å–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç–æ–≤ –æ–Ω –¥–æ–ª–∂–µ–Ω –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –¥–ª—è —Å–æ–µ–¥–∏–Ω–µ–Ω–∏—è, –∏—Å–ø–æ–ª—å–∑—É—è —Ç–æ—Ç, —á—Ç–æ —Å–æ–≤–ø–∞–¥–∞–µ—Ç —Å –¥–æ–º–µ–Ω–æ–º –æ–∂–∏–¥–∞–µ–º—ã–º –∫–ª–∏–µ–Ω—Ç–æ–º.

–í —ç—Ç–æ–º —Å–ª—É—á–∞–µ—Ç, –±—É–¥–µ—Ç –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω —Å–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç –¥–ª—è `someapp.example.com`.

<img src="/img/deployment/https/https03.svg">

–ö–ª–∏–µ–Ω—Ç —É–∂–µ **–¥–æ–≤–µ—Ä—è–µ—Ç** —Å—É—â–Ω–æ—Å—Ç–∏, –∫–æ—Ç–æ—Ä–∞—è —Å–≥–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞–ª–∞ –¥–∞–Ω–Ω—ã–π TLS —Å–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç (–≤ —ç—Ç–æ–º —Å–ª—É—á–∞–µ—Ç Let's Encrypt, –Ω–æ –º—ã –æ–±—Å—É–¥–∏–º —ç—Ç–æ –ø–æ–∑–∂–µ), —Ç–∞–∫ —á—Ç–æ –æ–Ω –º–æ–∂–µ—Ç **–≤–µ—Ä–∏—Ñ–∏—Ü–∏—Ä–æ–≤–∞—Ç—å**, —á—Ç–æ —Å–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç –¥–µ–π—Å—Ç–≤–∏—Ç–µ–ª–µ–Ω.

–ó–∞—Ç–µ–º, –∏—Å–ø–æ–ª—å–∑—É—è —Å–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç, –∫–ª–∏–µ–Ω—Ç –∏ –ø—Ä–æ–∫—Å–∏-—Å–µ—Ä–≤–µ—Ä –∑–∞–≤–µ—Ä—à–µ–Ω–∏—è TLS **–æ–ø—Ä–µ–¥–µ–ª—è—é—Ç —Å–ø–æ—Å–æ–± —à–∏—Ñ—Ä–æ–≤–∞–Ω–∏—è** –¥–∞–ª—å–Ω–µ–π—à–µ–≥–æ **TCP-—Å–æ–µ–¥–∏–Ω–µ–Ω–∏–µ**. –≠—Ç–∏–º –∑–∞–∫–∞–Ω—á–∏–≤–∞–µ—Ç—Å—è **TLS-—Ä—É–∫–æ–ø–æ–∂–∞—Ç–∏–µ**.

–ü–æ—Å–ª–µ —ç—Ç–æ–≥–æ, –º–µ–∂–¥—É –∫–ª–∏–µ–Ω—Ç–æ–º –∏ —Å–µ—Ä–≤–µ—Ä–æ–º —É—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ—Ç—Å—è **–∑–∞—à–∏—Ñ—Ä–æ–≤–∞–Ω–Ω–æ–µ TCP-—Å–æ–µ–¥–∏–Ω–µ–Ω–∏–µ**, –∫–æ—Ç–æ—Ä–æ–µ –æ–±–µ—Å–ø–µ—á–∏–≤–∞–µ—Ç TLS. –≠—Ç–æ —Å–æ–µ–¥–∏–Ω–µ–Ω–∏–µ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –¥–ª—è –Ω–∞—á–∞–ª–∞ —Ñ–∞–∫—Ç–∏—á–µ—Å–∫–æ–≥–æ **HTTP-—Å–æ–µ–¥–∏–Ω–µ–Ω–∏—è**.

–í —ç—Ç–æ–º –∏ –∑–∞–∫–ª—é—á–∞–µ—Ç—Å—è —Å—É—Ç—å **HTTPS** - —ç—Ç–æ –ø—Ä–æ—Å—Ç–æ **HTTP** –≤–Ω—É—Ç—Ä–∏ **–∑–∞—â–∏—â–µ–Ω–Ω–æ–≥–æ TLS-—Å–æ–µ–¥–∏–Ω–µ–Ω–∏—è** –≤–º–µ—Å—Ç–æ —á–∏—Å—Ç–æ–≥–æ (–Ω–µ–∑–∞—à–∏—Ñ—Ä–æ–≤–∞–Ω–Ω–æ–≥–æ) TCP-—Å–æ–µ–¥–∏–Ω–µ–Ω–∏—è.

!!! –ü–æ–¥—Å–∫–∞–∑–∫–∞
    –û–±—Ä–∞—Ç–∏—Ç–µ –≤–Ω–∏–º–∞–Ω–∏–µ, —á—Ç–æ —à–∏—Ñ—Ä–æ–≤–∞–Ω–∏–µ —Å–æ–µ–¥–∏–Ω–µ–Ω–∏—è –ø—Ä–æ–∏—Å—Ö–æ–¥–∏—Ç –Ω–∞ **TCP-—É—Ä–æ–≤–Ω–µ**, –∞ –Ω–µ HTTP-—É—Ä–æ–≤–Ω–µ.

### HTTPS –∑–∞–ø—Ä–æ—Å

–¢–µ–ø–µ—Ä—å –∫–æ–≥–¥–∞ –º–µ–∂–¥—É –∫–ª–∏–µ–Ω—Ç–æ–º –∏ —Å–µ—Ä–≤–µ—Ä–æ–º (–∫–æ–Ω–∫—Ä–µ—Ç–Ω–æ –º–µ–∂–¥—É –±—Ä–∞—É–∑–µ—Ä–æ–º –∏ –ø—Ä–æ–∫—Å–∏-—Å–µ—Ä–≤–µ—Ä–æ–º –∑–∞–≤–µ—Ä—à–µ–Ω–∏—è TLS) —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–æ **–∑–∞—à–∏—Ñ—Ä–æ–≤–∞–Ω–Ω–æ–µ TCP-—Å–æ–µ–¥–∏–Ω–µ–Ω–∏–µ**, –æ–Ω–∏ –º–æ–≥—É—Ç –Ω–∞—á–∞—Ç—å **HTTP-–∫–æ–º–º—É–Ω–∏–∫–∞—Ü–∏—é**.

–ò—Ç–∞–∫, –∫–ª–∏–µ–Ω—Ç —à–ª–µ—Ç **HTTPS-–∑–∞–ø—Ä–æ—Å**. –≠—Ç–æ –≤—Å–µ–≥–æ –ª–∏—à—å –æ–±—ã—á–Ω—ã–π HTTP-–∑–∞–ø—Ä–æ—Å –ø–µ—Ä–µ–¥–∞–Ω–Ω—ã–π —á–µ—Ä–µ–∑ –∑–∞—à–∏—Ñ—Ä–æ–≤–∞–Ω–Ω–æ–µ TLS-—Å–æ–µ–¥–∏–Ω–µ–Ω–∏–µ.

<img src="/img/deployment/https/https04.svg">

### –†–∞—Å—à–∏—Ñ—Ä–æ–≤–∫–∞ –∑–∞–ø—Ä–æ—Å–∞

–ü—Ä–æ–∫—Å–∏-—Å–µ—Ä–≤–µ—Ä –∑–∞–≤–µ—Ä—à–µ–Ω–∏—è TLS –±—É–¥–µ—Ç –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –≤—ã–±—Ä–∞–Ω–Ω—ã–π —Å–ø–æ—Å–æ–± —à–∏—Ñ—Ä–æ–≤–∞–Ω–∏—è –¥–ª—è **—Ä–∞—Å—à–∏—Ñ—Ä–æ–≤–∫–∏ –∑–∞–ø—Ä–æ—Å–∞**, –∏ –ø–µ—Ä–µ–Ω–∞–ø—Ä–∞–≤–∏—Ç **–ø—Ä–æ—Å—Ç–æ–π (—Ä–∞—Å—à–∏—Ñ—Ä–æ–≤–∞–Ω–Ω—ã–π) HTTP-–∑–∞–ø—Ä–æ—Å** –ø—Ä–æ—Ü–µ—Å—Å—É –∑–∞–ø—É—â–µ–Ω–Ω–æ–≥–æ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è (–Ω–∞–ø—Ä–∏–º–µ—Ä –ø—Ä–æ—Ü–µ—Å—Å Uvicorn —Å –∑–∞–ø—É—â–µ–Ω–Ω—ã–º –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ–º FastAPI).

<img src="/img/deployment/https/https05.svg">

### HTTP –æ—Ç–≤–µ—Ç

–ü–æ—Å–ª–µ –æ–±—Ä–∞–±–æ—Ç–∫–∏ –∑–∞–ø—Ä–æ—Å–∞ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –Ω–∞–ø—Ä–∞–≤–∏—Ç **–ø—Ä–æ—Å—Ç–æ–π (–Ω–µ–∑–∞—à–∏—Ñ—Ä–æ–≤–∞–Ω–Ω—ã–π) HTTP-–æ—Ç–≤–µ—Ç** –ø—Ä–æ–∫—Å–∏-—Å–µ—Ä–≤–µ—Ä—É –∑–∞–≤–µ—Ä—à–µ–Ω–∏—è TLS.

<img src="/img/deployment/https/https06.svg">

### HTTPS –æ—Ç–≤–µ—Ç

–ü—Ä–æ–∫—Å–∏-—Å–µ—Ä–≤–µ—Ä –∑–∞–≤–µ—Ä—à–µ–Ω–∏—è TLS **–∑–∞—à–∏—Ñ—Ä—É–µ—Ç –æ—Ç–≤–µ—Ç** —Å –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ–º –≤—ã–±—Ä–∞–Ω–Ω–æ–≥–æ —Å–ø–æ—Å–æ–±–∞ —à–∏—Ñ—Ä–æ–≤–∞–Ω–∏—è (that started with the certificate for `someapp.example.com`), –∏ –æ—Ç–ø—Ä–∞–≤–∏—Ç –µ–≥–æ –æ–±—Ä–∞—Ç–Ω–æ –±—Ä–∞—É–∑–µ—Ä—É.

–î–∞–ª–µ–µ, –±—Ä–∞—É–∑–µ—Ä —É–¥–æ—Å—Ç–æ–≤–µ—Ä–∏—Ç—Å—è —á—Ç–æ –æ—Ç–≤–µ—Ç –≤–∞–ª–∏–¥–µ–Ω, –∑–∞—à–∏—Ñ—Ä–æ–≤–∞–Ω –ø—Ä–∞–≤–∏–ª—å–Ω—ã–º –∫—Ä–∏–ø—Ç–æ–≥—Ä–∞—Ñ–∏—á–µ—Å–∫–∏–º –∫–ª—é—á–æ–º –∏ —Ç.–¥. –ó–∞—Ç–µ–º –æ–Ω **—Ä–∞—Å—à–∏—Ñ—Ä–æ–≤—ã–≤–∞–µ—Ç –æ—Ç–≤–µ—Ç** –∏ –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞–µ—Ç –µ–≥–æ.

<img src="/img/deployment/https/https07.svg">

–ö–ª–∏–µ–Ω—Ç (–±—Ä–∞—É–∑–µ—Ä) –±—É–¥–µ—Ç –∑–Ω–∞—Ç—å, —á—Ç–æ –æ—Ç–≤–µ—Ç –ø—Ä–∏—à–µ–ª –æ—Ç –≤–µ—Ä–Ω–æ–≥–æ —Å–µ—Ä–≤–µ—Ä–∞, –ø–æ—Ç–æ–º—É —á—Ç–æ –±—É–¥–µ—Ç –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å—Å—è –∫—Ä–∏–ø—Ç–æ–≥—Ä–∞—Ñ–∏—è, –æ –∫–æ—Ç–æ—Ä–æ–π –æ–Ω–∏ –ø—Ä–µ–¥–≤–∞—Ä–∏—Ç–µ–ª—å–Ω–æ –¥–æ–≥–æ–≤–æ—Ä–∏–ª–∏—Å—å –ø—Ä–∏ –ø–æ–º–æ—â–∏ **HTTPS-—Å–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç–∞**.

### –ú–Ω–æ–∂–µ—Å—Ç–≤–µ–Ω–Ω—ã–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è

–ù–∞ –æ–¥–Ω–æ–º —Å–µ—Ä–≤–µ—Ä–µ (–∏–ª–∏ —Å–µ—Ä–≤–µ—Ä–∞—Ö), –º–æ–∂–µ—Ç –±—ã—Ç—å **–º–Ω–æ–∂–µ—Å—Ç–≤–æ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–π**, –Ω–∞–ø—Ä–∏–º–µ—Ä, –¥—Ä—É–≥–∏–µ API –ø—Ä–æ–≥—Ä–∞–º–º—ã –∏–ª–∏ –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö.

–¢–æ–ª—å–∫–æ –æ–¥–∏–Ω –ø—Ä–æ—Ü–µ—Å—Å –º–æ–∂–µ—Ç –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞—Ç—å –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–Ω—ã–π IP –∏ –ø–æ—Ä—Ç (–ø—Ä–æ–∫—Å–∏-—Å–µ—Ä–≤–µ—Ä –∑–∞–≤–µ—Ä—à–µ–Ω–∏—è TLS –≤ –Ω–∞—à–µ–º —Å–ª—É—á–∞–µ), –Ω–æ –¥—Ä—É–≥–∏–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è/–ø—Ä–æ—Ü–µ—Å—Å—ã –º–æ–≥—É—Ç –±—ã—Ç—å –∑–∞–ø—É—â–µ–Ω—ã –Ω–∞ —Å–µ—Ä–≤–µ—Ä–µ (—Å–µ—Ä–≤–µ—Ä–∞—Ö), –ø–æ–∫–∞ –æ–Ω–∏ –Ω–µ –ø—ã—Ç–∞—é—Ç—Å—è –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –æ–¥–Ω—É –∏ —Ç—É –∂–µ **–∫–æ–º–±–∏–Ω–∞—Ü–∏—é –ø—É–±–ª–∏—á–Ω–æ–≥–æ IP –∏ –ø–æ—Ä—Ç–∞**.

<img src="/img/deployment/https/https08.svg">

–¢–∞–∫–∏–º –æ–±—Ä–∞–∑–æ–º, –ø—Ä–æ–∫—Å–∏-—Å–µ—Ä–≤–µ—Ä –∑–∞–≤–µ—Ä—à–µ–Ω–∏—è TLS –º–æ–∂–µ—Ç –æ–±—Å–ª—É–∂–∏–≤–∞—Ç—å HTTPS –∏ —Å–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç—ã –¥–ª—è **–Ω–µ—Å–∫–æ–ª—å–∫–∏—Ö –¥–æ–º–µ–Ω–æ–≤**, –¥–ª—è –Ω–µ—Å–∫–æ–ª—å–∫–∏—Ö –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–π –∏ –æ—Ç–ø—Ä–∞–≤–ª—è—Ç—å –∑–∞–ø—Ä–æ—Å—ã –≤ —Å–æ–æ—Ç–≤–µ—Ç—Å–≤—É—é—â–∏–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è –¥–ª—è –∫–∞–∂–¥–æ–≥–æ —Å–ª—É—á–∞—è.

### –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ —Å–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç–∞

–í –∫–∞–∫–æ–π-—Ç–æ –º–æ–º–µ–Ω—Ç, —Å—Ä–æ–∫ –¥–µ–π—Å—Ç–≤–∏—è –ª—é–±–æ–≥–æ —Å–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç–∞ **–∏—Å—Ç–µ—á–µ—Ç** (–ø—Ä–∏–º–µ—Ä–Ω–æ —á–µ—Ä–µ–∑ 3 –º–µ—Å—è—Ü–∞ –ø–æ—Å–ª–µ –µ–≥–æ –ø–æ–ª—É—á–µ–Ω–∏—è).

–ü–æ—Å–ª–µ —ç—Ç–æ–≥–æ, –¥—Ä—É–≥–∞—è –ø—Ä–æ–≥—Ä–∞–º–º–∞ (–∏–Ω–æ–≥–¥–∞ —ç—Ç–æ –¥—Ä—É–≥–∞—è –ø—Ä–æ–≥—Ä–∞–º–º–∞, –∏–Ω–æ–≥–¥–∞ —ç—Ç–æ –º–æ–∂–µ—Ç –±—ã—Ç—å —Ç–æ—Ç –∂–µ –ø—Ä–æ–∫—Å–∏-—Å–µ—Ä–≤–µ—Ä –∑–∞–≤–µ—Ä—à–µ–Ω–∏—è TLS) —Å–≤—è–∂–µ—Ç—Å—è —Å Let's Encrypt –∏ –æ–±–Ω–æ–≤–∏—Ç —Å–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç(—ã).

<img src="/img/deployment/https/https.svg">

**TLS-—Å–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç—ã —Å–≤—è–∑–∞–Ω—ã —Å –¥–æ–º–µ–Ω–Ω—ã–º –∏–º–µ–Ω–µ–º**, –∞ –Ω–µ —Å IP-–∞–¥—Ä–µ—Å–æ–º.

–ò—Ç–∞–∫, –¥–ª—è –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è —Å–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç–∞, –ø—Ä–æ–≥—Ä–∞–º–º–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ **–¥–æ–∫–∞–∑–∞—Ç—å** –ø—Ä–æ–≤–µ—Ä—è—é—â–µ–º—É (Let's Encrypt), —á—Ç–æ –æ–Ω–∞ –≤ —Å–∞–º–æ–º –¥–µ–ª–µ **"–≤–ª–∞–¥–µ–µ—Ç" –∏ –∫–æ–Ω—Ç—Ä–æ–ª–∏—Ä—É–µ—Ç –¥–∞–Ω–Ω—ã–π –¥–æ–º–µ–Ω**.

–î–ª—è —ç—Ç–æ–≥–æ, –∞ —Ç–∞–∫–∂–µ –¥–ª—è —É–¥–æ–≤–ª–µ—Ç–≤–æ—Ä–µ–Ω–∏—è —Ä–∞–∑–ª–∏—á–Ω—ã—Ö –ø–æ—Ç—Ä–µ–±–Ω–æ—Å—Ç–µ–π –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–π, —Å—É—â–µ—Å—Ç–≤—É–µ—Ç –Ω–µ—Å–∫–æ–ª—å–∫–æ —Å–ø–æ—Å–æ–±–æ–≤. –í–æ—Ç –Ω–µ–∫–æ—Ç–æ—Ä—ã–µ –ø–æ–ø—É–ª—è—Ä–Ω—ã–µ —Å–ø–æ—Å–æ–±—ã:

* **–ò–∑–º–µ–Ω–∏—Ç—å –Ω–µ–∫–æ—Ç–æ—Ä—ã–µ –∑–∞–ø–∏—Å–∏ DNS**.
    * –î–ª—è —ç—Ç–æ–≥–æ –ø—Ä–æ–≥—Ä–∞–º–º–∞ –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è –¥–æ–ª–∂–Ω–∞ –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞—Ç—å API –ø—Ä–æ–≤–∞–π–¥–µ—Ä–∞ DNS, –ø–æ—ç—Ç–æ–º—É, –≤ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ –æ—Ç –∏—Å–ø–æ–ª—å–∑—É–µ–º–æ–≥–æ –≤–∞–º–∏ –ø—Ä–æ–≤–∞–π–¥–µ—Ä–∞ DNS, —ç—Ç–æ –º–æ–∂–µ—Ç –±—ã—Ç—å –≤–æ–∑–º–æ–∂–Ω–æ, –∞ –º–æ–∂–µ—Ç –∏ –Ω–µ—Ç.
* **–ó–∞–ø—É—Å–∫ –≤ –∫–∞—á–µ—Å—Ç–≤–µ —Å–µ—Ä–≤–µ—Ä–∞** (–ø–æ –∫—Ä–∞–π–Ω–µ–π –º–µ—Ä–µ, –Ω–∞ –≤—Ä–µ–º—è –ø–æ–ª—É—á–µ–Ω–∏—è —Å–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç–∞) –Ω–∞ –ø—É–±–ª–∏—á–Ω–æ–º IP-–∞–¥—Ä–µ—Å–µ, —Å–≤—è–∑–∞–Ω–Ω–æ–º —Å –¥–æ–º–µ–Ω–æ–º.
    * –ö–∞–∫ –±—ã–ª–æ —Å–∫–∞–∑–∞–Ω–æ –≤—ã—à–µ, —Ç–æ–ª—å–∫–æ –æ–¥–∏–Ω –ø—Ä–æ—Ü–µ—Å—Å –º–æ–∂–µ—Ç —Å–ª—É—à–∞—Ç—å –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–Ω—ã–π IP –∏ –ø–æ—Ä—Ç.
    * –ü–æ —ç—Ç–æ–π –ø—Ä–∏—á–∏–Ω–µ —É–¥–æ–±–Ω–æ, –∫–æ–≥–¥–∞ –ø—Ä–æ–∫—Å–∏-—Å–µ—Ä–≤–µ—Ä –∑–∞–≤–µ—Ä—à–µ–Ω–∏—è TLS —É–ø—Ä–∞–≤–ª—è–µ—Ç –ø—Ä–æ—Ü–µ—Å—Å–æ–º –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è —Å–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç–∞.
    * –° –¥—Ä—É–≥–æ–π —Å—Ç–æ—Ä–æ–Ω—ã, you might have to stop the TLS Termination Proxy momentarily, start the renewal program to acquire the certificates, then configure them with the TLS Termination Proxy, and then restart the TLS Termination Proxy. This is not ideal, as your app(s) will not be available during the time that the TLS Termination Proxy is off.

–í–µ—Å—å —ç—Ç–æ—Ç –ø—Ä–æ—Ü–µ—Å—Å –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è, –≤–æ –≤—Ä–µ–º—è –æ–±—Å–ª—É–∂–∏–≤–∞–Ω–∏—è –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è, –≥–ª–∞–≤–Ω–∞—è –ø—Ä–∏—á–∏–Ω–∞ –ø–æ –∫–æ—Ç–æ—Ä–æ–π –≤–∞–∂–Ω–æ –∏–º–µ—Ç—å **–æ—Ç–¥–µ–ª—å–Ω—É—é —Å–∏—Å—Ç–µ–º—É —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è HTTPS** —Å –ø—Ä–æ–∫—Å–∏-—Å–µ—Ä–≤–µ—Ä–æ–º –∑–∞–≤–µ—Ä—à–µ–Ω–∏—è TLS –≤–º–µ—Å—Ç–æ –ø—Ä–æ—Å—Ç–æ–≥–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è TLS-—Å–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç–æ–≤ —Å –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ–º –Ω–∞–ø—Ä—è–º—É—é —Å–µ—Ä–≤–µ—Ä–æ–º (–Ω–∞–ø—Ä–∏–º–µ—Ä Uvicorn).

## –†–µ–∑—é–º–µ

–ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ **HTTPS** –æ—á–µ–Ω—å –≤–∞–∂–Ω–æ, –¥–∞–∂–µ —Å–∫–æ—Ä–µ–µ **–∫—Ä–∏—Ç–∏—á–Ω–æ –≤–∞–∂–Ω–æ** –≤ –±–æ–ª—å—à–∏–Ω—Å—Ç–≤–µ —Å–ª—É—á–∞–µ–≤. –ù–∞–∏–±–æ–ª—å—à—É—é –ø–æ–ª—å–∑—É –æ—Ç HTTPS —Ä–∞–∑—Ä–∞–±–æ—Ç—á–∏–∫ –º–æ–∂–µ—Ç –ø–æ–ª—É—á–∏—Ç—å –ª–∏—à—å **–ø–æ–Ω–∏–º–∞—è –æ—Å–Ω–æ–≤–Ω—ã–µ –∫–æ–Ω—Ü–µ–ø—Ü–∏–∏** –∏ –∫–∞–∫ –æ–Ω–∏ —Ä–∞–±–æ—Ç–∞—é—Ç.

–ù–æ –ø–æ—Å–ª–µ –ø–æ–Ω–∏–º–∞–Ω–∏—è –æ—Å–Ω–æ–≤–Ω–æ–π –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏, —Å–æ–¥–µ—Ä–∂–∞—â–µ–π—Å—è –≤ **HTTPS –¥–ª—è —Ä–∞–∑—Ä–∞–±–æ—Ç—á–∏–∫–æ–≤**, –≤—ã —Å–º–æ–∂–µ—Ç–µ —Å –ª–µ–≥–∫–æ—Å—Ç—å—é –∫–æ–º–±–∏–Ω–∏—Ä–æ–≤–∞—Ç—å –∏ –Ω–∞—Å—Ç—Ä–∞–∏–≤–∞—Ç—å —Ä–∞–∑–ª–∏—á–Ω—ã–µ –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç—ã –¥–ª—è –ø–æ–º–æ—â–∏ –≤ —É–ø—Ä–∞–≤–ª–µ–Ω–∏–∏ –≤—Å–µ–º –ø—Ä–æ—Å—Ç—ã–º —Å–ø–æ—Å–æ–±–æ–º.

–í —Å–ª–µ–¥—É—é—â–∏—Ö –≥–ª–∞–≤–∞—Ö —è –ø–æ–∫–∞–∂—É –Ω–µ—Å–∫–æ–ª—å–∫–æ –∫–æ–Ω–∫—Ä–µ—Ç–Ω—ã—Ö –ø—Ä–∏–º–µ—Ä–æ–≤ –ø–æ –Ω–∞—Å—Ç—Ä–æ–π–∫–µ **HTTPS** –¥–ª—è –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–π **FastAPI**. üîí
