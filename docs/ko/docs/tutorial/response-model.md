# μ‘λ‹µ λ¨λΈ - λ°ν™ νƒ€μ… { #response-model-return-type }

*κ²½λ΅ μ²λ¦¬ ν•¨μ*μ **λ°ν™ νƒ€μ…**μ„ μ–΄λ…Έν…μ΄μ…ν•μ—¬ μ‘λ‹µμ— μ‚¬μ©λ  νƒ€μ…μ„ μ„ μ–Έν•  μ μμµλ‹λ‹¤.

ν•¨μ **λ§¤κ°λ³€μ**μ—μ„ μ…λ ¥ λ°μ΄ν„°λ¥Ό μ„ν•΄ μ‚¬μ©ν•λ” κ²ƒκ³Ό λ™μΌν•κ² **νƒ€μ… μ–΄λ…Έν…μ΄μ…**μ„ μ‚¬μ©ν•  μ μμΌλ©°, Pydantic λ¨λΈ, λ¦¬μ¤νΈ, λ”•μ…”λ„λ¦¬, μ •μ/λ¶λ¦¬μ–Έ κ°™μ€ μ¤μΉΌλΌ κ°’ λ“±μ„ μ‚¬μ©ν•  μ μμµλ‹λ‹¤.

{* ../../docs_src/response_model/tutorial001_01_py310.py hl[16,21] *}

FastAPIλ” μ΄ λ°ν™ νƒ€μ…μ„ μ‚¬μ©ν•μ—¬:

* λ°ν™λ λ°μ΄ν„°λ¥Ό **κ²€μ¦**ν•©λ‹λ‹¤.
    * λ°μ΄ν„°κ°€ μ ν¨ν•μ§€ μ•λ‹¤λ©΄(μ: ν•„λ“κ°€ λ„λ½λ κ²½μ°), μ΄λ” *μ—¬λ¬λ¶„μ* μ•± μ½”λ“κ°€ κΉ¨μ Έμ„ μλ„ν• κ°’μ„ λ°ν™ν•μ§€ λ»ν•λ‹¤λ” μλ―Έμ΄λ©°, μλ»λ λ°μ΄ν„°λ¥Ό λ°ν™ν•λ” λ€μ‹  μ„λ²„ μ¤λ¥λ¥Ό λ°ν™ν•©λ‹λ‹¤. μ΄λ ‡κ² ν•λ©΄ μ—¬λ¬λ¶„κ³Ό ν΄λΌμ΄μ–ΈνΈλ” κΈ°λ€ν• λ°μ΄ν„°μ™€ λ°μ΄ν„° ν•νƒλ¥Ό λ°›λ”λ‹¤λ” κ²ƒμ„ ν™•μ‹¤ν ν•  μ μμµλ‹λ‹¤.
* OpenAPI *κ²½λ΅ μ²λ¦¬*μ μ‘λ‹µμ— **JSON Schema**λ¥Ό μ¶”κ°€ν•©λ‹λ‹¤.
    * μ΄λ” **μλ™ λ¬Έμ„**μ—μ„ μ‚¬μ©λ©λ‹λ‹¤.
    * λν• μλ™ ν΄λΌμ΄μ–ΈνΈ μ½”λ“ μƒμ„± λ„κµ¬μ—μ„λ„ μ‚¬μ©λ©λ‹λ‹¤.

ν•μ§€λ§ κ°€μ¥ μ¤‘μ”ν• κ²ƒμ€:

* λ°ν™ νƒ€μ…μ— μ •μλ λ‚΄μ©μΌλ΅ μ¶λ ¥ λ°μ΄ν„°λ¥Ό **μ ν•ν•κ³  ν•„ν„°λ§**ν•©λ‹λ‹¤.
    * μ΄λ” νΉν **λ³΄μ•**μ— λ§¤μ° μ¤‘μ”ν•©λ‹λ‹¤. μ•„λμ—μ„ λ” μμ„Έν μ‚΄ν΄λ³΄κ² μµλ‹λ‹¤.

## `response_model` λ§¤κ°λ³€μ { #response-model-parameter }

νƒ€μ… μ„ μ–Έμ΄ λ§ν•λ” κ²ƒκ³Ό μ •ν™•ν μΌμΉν•μ§€ μ•λ” λ°μ΄ν„°λ¥Ό λ°ν™ν•΄μ•Ό ν•κ±°λ‚ λ°ν™ν•κ³  μ‹¶μ€ κ²½μ°κ°€ μμµλ‹λ‹¤.

μλ¥Ό λ“¤μ–΄, **λ”•μ…”λ„λ¦¬**λ‚ λ°μ΄ν„°λ² μ΄μ¤ κ°μ²΄λ¥Ό **λ°ν™**ν•κ³  μ‹¶μ§€λ§, **Pydantic λ¨λΈλ΅ μ„ μ–Έ**ν•κ³  μ‹¶μ„ μ μμµλ‹λ‹¤. μ΄λ ‡κ² ν•λ©΄ Pydantic λ¨λΈμ΄ λ°ν™ν• κ°μ²΄(μ: λ”•μ…”λ„λ¦¬λ‚ λ°μ΄ν„°λ² μ΄μ¤ κ°μ²΄)μ— λ€ν•΄ λ°μ΄ν„° λ¬Έμ„ν™”, κ²€μ¦ λ“± λ¨λ“  μ‘μ—…μ„ μν–‰ν•©λ‹λ‹¤.

λ°ν™ νƒ€μ… μ–΄λ…Έν…μ΄μ…μ„ μ¶”κ°€ν–λ‹¤λ©΄, λ„κµ¬μ™€ μ—λ””ν„°κ°€ ν•¨μκ°€ μ„ μ–Έν• νƒ€μ…(μ: Pydantic λ¨λΈ)κ³Ό λ‹¤λ¥Έ νƒ€μ…(μ: dict)μ„ λ°ν™ν•κ³  μλ‹¤λ” (μ¬λ°”λ¥Έ) μ¤λ¥λ΅ λ¶ν‰ν•  κ²ƒμ…λ‹λ‹¤.

κ·Έλ° κ²½μ°μ—λ” λ°ν™ νƒ€μ… λ€μ‹  *κ²½λ΅ μ²λ¦¬ λ°μ½”λ μ΄ν„°*μ λ§¤κ°λ³€μ `response_model`μ„ μ‚¬μ©ν•  μ μμµλ‹λ‹¤.

`response_model` λ§¤κ°λ³€μλ” λ¨λ“  *κ²½λ΅ μ²λ¦¬*μ—μ„ μ‚¬μ©ν•  μ μμµλ‹λ‹¤:

* `@app.get()`
* `@app.post()`
* `@app.put()`
* `@app.delete()`
* λ“±.

{* ../../docs_src/response_model/tutorial001_py310.py hl[17,22,24:27] *}

/// note | μ°Έκ³ 

`response_model`μ€ "λ°μ½”λ μ΄ν„°" λ©”μ„λ“(`get`, `post` λ“±)μ λ§¤κ°λ³€μμ…λ‹λ‹¤. λ¨λ“  λ§¤κ°λ³€μμ™€ bodyμ²λΌ, *κ²½λ΅ μ²λ¦¬ ν•¨μ*μ λ§¤κ°λ³€μκ°€ μ•„λ‹™λ‹λ‹¤.

///

`response_model`μ€ Pydantic λ¨λΈ ν•„λ“μ— μ„ μ–Έν•λ” κ²ƒκ³Ό λ™μΌν• νƒ€μ…μ„ λ°›μµλ‹λ‹¤. λ”°λΌμ„ Pydantic λ¨λΈμ΄ λ  μλ„ μκ³ , `List[Item]`μ²λΌ Pydantic λ¨λΈμ `list`κ°€ λ  μλ„ μμµλ‹λ‹¤.

FastAPIλ” μ΄ `response_model`μ„ μ‚¬μ©ν•΄ λ°μ΄ν„° λ¬Έμ„ν™”, κ²€μ¦ λ“±μ„ μν–‰ν•κ³ , λν• μ¶λ ¥ λ°μ΄ν„°λ¥Ό νƒ€μ… μ„ μ–Έμ— λ§κ² **λ³€ν™ν•κ³  ν•„ν„°λ§**ν•©λ‹λ‹¤.

/// tip | ν

μ—λ””ν„°, mypy λ“±μ—μ„ μ—„κ²©ν• νƒ€μ… μ²΄ν¬λ¥Ό μ‚¬μ©ν•κ³  μλ‹¤λ©΄, ν•¨μ λ°ν™ νƒ€μ…μ„ `Any`λ΅ μ„ μ–Έν•  μ μμµλ‹λ‹¤.

μ΄λ ‡κ² ν•λ©΄ μ—λ””ν„°μ— μλ„μ μΌλ΅ μ–΄λ–¤ κ°’μ΄λ“  λ°ν™ν•λ‹¤κ³  μ•λ ¤μ¤λ‹λ‹¤. ν•μ§€λ§ FastAPIλ” μ—¬μ „ν `response_model`μ„ μ‚¬μ©ν•μ—¬ λ°μ΄ν„° λ¬Έμ„ν™”, κ²€μ¦, ν•„ν„°λ§ λ“±μ„ μν–‰ν•©λ‹λ‹¤.

///

### `response_model` μ°μ„ μμ„ { #response-model-priority }

λ°ν™ νƒ€μ…κ³Ό `response_model`μ„ λ‘ λ‹¤ μ„ μ–Έν•λ©΄, `response_model`μ΄ μ°μ„ μμ„λ¥Ό κ°€μ§€λ©° FastAPIμ—μ„ μ‚¬μ©λ©λ‹λ‹¤.

μ΄λ ‡κ² ν•λ©΄ μ‘λ‹µ λ¨λΈκ³Ό λ‹¤λ¥Έ νƒ€μ…μ„ λ°ν™ν•λ” κ²½μ°μ—λ„ μ—λ””ν„°μ™€ mypy κ°™μ€ λ„κµ¬μ—μ„ μ‚¬μ©ν•  μ¬λ°”λ¥Έ νƒ€μ… μ–΄λ…Έν…μ΄μ…μ„ ν•¨μμ— μ¶”κ°€ν•  μ μμµλ‹λ‹¤. κ·Έλ¦¬κ³  λ™μ‹μ— FastAPIκ°€ `response_model`μ„ μ‚¬μ©ν•μ—¬ λ°μ΄ν„° κ²€μ¦, λ¬Έμ„ν™” λ“±μ„ μν–‰ν•κ² ν•  μλ„ μμµλ‹λ‹¤.

λν• `response_model=None`μ„ μ‚¬μ©ν•΄ ν•΄λ‹Ή *κ²½λ΅ μ²λ¦¬*μ— λ€ν• μ‘λ‹µ λ¨λΈ μƒμ„±μ„ λΉ„ν™μ„±ν™”ν•  μλ„ μμµλ‹λ‹¤. μ΄λ” μ ν¨ν• Pydantic ν•„λ“κ°€ μ•„λ‹ κ²ƒλ“¤μ— λ€ν•΄ νƒ€μ… μ–΄λ…Έν…μ΄μ…μ„ μ¶”κ°€ν•λ” κ²½μ°μ— ν•„μ”ν•  μ μμΌλ©°, μ•„λ μ„Ήμ… μ¤‘ ν•λ‚μ—μ„ μμ‹λ¥Ό λ³Ό μ μμµλ‹λ‹¤.

## λ™μΌν• μ…λ ¥ λ°μ΄ν„° λ°ν™ { #return-the-same-input-data }

μ—¬κΈ°μ„λ” ν‰λ¬Έ λΉ„λ°€λ²νΈλ¥Ό ν¬ν•¨ν•λ” `UserIn` λ¨λΈμ„ μ„ μ–Έν•©λ‹λ‹¤:

{* ../../docs_src/response_model/tutorial002_py310.py hl[7,9] *}

/// info | μ •λ³΄

`EmailStr`μ„ μ‚¬μ©ν•λ ¤λ©΄ λ¨Όμ € <a href="https://github.com/JoshData/python-email-validator" class="external-link" target="_blank">`email-validator`</a>λ¥Ό μ„¤μΉν•μ„Έμ”.

[κ°€μƒ ν™κ²½](../virtual-environments.md){.internal-link target=_blank}μ„ μƒμ„±ν•κ³ , ν™μ„±ν™”ν• λ‹¤μ μ„¤μΉν•΄μ•Ό ν•©λ‹λ‹¤. μλ¥Ό λ“¤μ–΄:

```console
$ pip install email-validator
```

λλ” λ‹¤μκ³Ό κ°™μ΄:

```console
$ pip install "pydantic[email]"
```

///

κ·Έλ¦¬κ³  μ΄ λ¨λΈμ„ μ‚¬μ©ν•μ—¬ μ…λ ¥μ„ μ„ μ–Έν•κ³  κ°™μ€ λ¨λΈλ΅ μ¶λ ¥μ„ μ„ μ–Έν•©λ‹λ‹¤:

{* ../../docs_src/response_model/tutorial002_py310.py hl[16] *}

μ΄μ  λΈλΌμ°μ €κ°€ λΉ„λ°€λ²νΈλ΅ μ‚¬μ©μλ¥Ό λ§λ“¤ λ•λ§λ‹¤ APIλ” μ‘λ‹µμΌλ΅ λ™μΌν• λΉ„λ°€λ²νΈλ¥Ό λ°ν™ν•©λ‹λ‹¤.

μ΄ κ²½μ°, λ™μΌν• μ‚¬μ©μκ°€ λΉ„λ°€λ²νΈλ¥Ό λ³΄λ‚΄λ” κ²ƒμ΄λ―€λ΅ λ¬Έμ κ°€ λμ§€ μ•μ„ μλ„ μμµλ‹λ‹¤.

ν•μ§€λ§ λ™μΌν• λ¨λΈμ„ λ‹¤λ¥Έ *κ²½λ΅ μ²λ¦¬*μ—μ„ μ‚¬μ©ν•λ©΄, λ¨λ“  ν΄λΌμ΄μ–ΈνΈμ—κ² μ‚¬μ©μμ λΉ„λ°€λ²νΈλ¥Ό λ³΄λ‚΄κ² λ  μλ„ μμµλ‹λ‹¤.

/// danger | μ„ν—

λ¨λ“  μ£Όμμ‚¬ν•­μ„ μ•κ³  μμΌλ©° λ¬΄μ—‡μ„ ν•λ”μ§€ μ •ν™•ν μ•κ³  μμ§€ μ•λ‹¤λ©΄, μ΄λ° λ°©μ‹μΌλ΅ μ‚¬μ©μμ ν‰λ¬Έ λΉ„λ°€λ²νΈλ¥Ό μ €μ¥ν•κ±°λ‚ μ‘λ‹µμΌλ΅ λ³΄λ‚΄μ§€ λ§μ„Έμ”.

///

## μ¶λ ¥ λ¨λΈ μ¶”κ°€ { #add-an-output-model }

λ€μ‹  ν‰λ¬Έ λΉ„λ°€λ²νΈλ¥Ό ν¬ν•¨ν•λ” μ…λ ¥ λ¨λΈκ³Ό, λΉ„λ°€λ²νΈκ°€ μ—†λ” μ¶λ ¥ λ¨λΈμ„ λ§λ“¤ μ μμµλ‹λ‹¤:

{* ../../docs_src/response_model/tutorial003_py310.py hl[9,11,16] *}

μ—¬κΈ°μ„ *κ²½λ΅ μ²λ¦¬ ν•¨μ*κ°€ λΉ„λ°€λ²νΈλ¥Ό ν¬ν•¨ν•λ” λ™μΌν• μ…λ ¥ μ‚¬μ©μλ¥Ό λ°ν™ν•λ”λΌλ„:

{* ../../docs_src/response_model/tutorial003_py310.py hl[24] *}

...λΉ„λ°€λ²νΈλ¥Ό ν¬ν•¨ν•μ§€ μ•λ” `UserOut` λ¨λΈλ΅ `response_model`μ„ μ„ μ–Έν–μµλ‹λ‹¤:

{* ../../docs_src/response_model/tutorial003_py310.py hl[22] *}

λ”°λΌμ„ **FastAPI**λ” μ¶λ ¥ λ¨λΈμ— μ„ μ–Έλμ§€ μ•μ€ λ¨λ“  λ°μ΄ν„°λ¥Ό (Pydanticμ„ μ‚¬μ©ν•μ—¬) ν•„ν„°λ§ν•©λ‹λ‹¤.

### `response_model` λλ” λ°ν™ νƒ€μ… { #response-model-or-return-type }

μ΄ κ²½μ° λ‘ λ¨λΈμ΄ μ„λ΅ λ‹¤λ¥΄κΈ° λ•λ¬Έμ—, ν•¨μ λ°ν™ νƒ€μ…μ„ `UserOut`μΌλ΅ μ–΄λ…Έν…μ΄μ…ν•λ©΄ μ—λ””ν„°μ™€ λ„κµ¬λ” μ„λ΅ λ‹¤λ¥Έ ν΄λμ¤μΈλ° μλ»λ νƒ€μ…μ„ λ°ν™ν•κ³  μλ‹¤κ³  λ¶ν‰ν•  κ²ƒμ…λ‹λ‹¤.

κ·Έλμ„ μ΄ μμ μ—μ„λ” `response_model` λ§¤κ°λ³€μλ΅ μ„ μ–Έν•΄μ•Ό ν•©λ‹λ‹¤.

...ν•μ§€λ§ μ•„λλ¥Ό κ³„μ† μ½μΌλ©΄ μ΄λ¥Ό κ·Ήλ³µν•λ” λ°©λ²•μ„ λ³Ό μ μμµλ‹λ‹¤.

## λ°ν™ νƒ€μ…κ³Ό λ°μ΄ν„° ν•„ν„°λ§ { #return-type-and-data-filtering }

μ΄μ „ μμ μ—μ„ κ³„μ†ν•΄ λ΄…μ‹λ‹¤. ν•¨μμ— **ν•λ‚μ νƒ€μ…μΌλ΅ μ–΄λ…Έν…μ΄μ…**μ„ ν•κ³  μ‹¶μ§€λ§, ν•¨μμ—μ„ μ‹¤μ λ΅λ” **λ” λ§μ€ λ°μ΄ν„°**λ¥Ό ν¬ν•¨ν•λ” κ²ƒμ„ λ°ν™ν•  μ μκΈΈ μ›ν–μµλ‹λ‹¤.

FastAPIκ°€ μ‘λ‹µ λ¨λΈμ„ μ‚¬μ©ν•΄ λ°μ΄ν„°λ¥Ό κ³„μ† **ν•„ν„°λ§**ν•κΈΈ μ›ν•©λ‹λ‹¤. κ·Έλμ„ ν•¨μκ°€ λ” λ§μ€ λ°μ΄ν„°λ¥Ό λ°ν™ν•λ”λΌλ„, μ‘λ‹µμ—λ” μ‘λ‹µ λ¨λΈμ— μ„ μ–Έλ ν•„λ“λ§ ν¬ν•¨λκ² ν•©λ‹λ‹¤.

μ΄μ „ μμ μ—μ„λ” ν΄λμ¤κ°€ λ‹¬λκΈ° λ•λ¬Έμ— `response_model` λ§¤κ°λ³€μλ¥Ό μ¨μ•Ό ν–μµλ‹λ‹¤. ν•μ§€λ§ μ΄λ” μ—λ””ν„°μ™€ λ„κµ¬κ°€ ν•¨μ λ°ν™ νƒ€μ…μ„ μ²΄ν¬ν•΄ μ£Όλ” μ§€μ›μ„ λ°›μ§€ λ»ν•λ‹¤λ” λ»μ΄κΈ°λ„ ν•©λ‹λ‹¤.

ν•μ§€λ§ λ€λ¶€λ¶„ μ΄λ° μ‘μ—…μ΄ ν•„μ”ν• κ²½μ°μ—λ”, μ΄ μμ μ²λΌ λ¨λΈλ΅ μΌλ¶€ λ°μ΄ν„°λ¥Ό **ν•„ν„°λ§/μ κ±°**ν•κΈΈ μ›ν•λ” κ²½μ°κ°€ λ§μµλ‹λ‹¤.

κ·Έλ¦¬κ³  κ·Έλ° κ²½μ°μ—λ” ν΄λμ¤μ™€ μƒμ†μ„ μ‚¬μ©ν•μ—¬ ν•¨μ **νƒ€μ… μ–΄λ…Έν…μ΄μ…**μ„ ν™μ©ν•΄ μ—λ””ν„°/λ„κµ¬μ—μ„ λ” λ‚μ€ μ§€μ›μ„ λ°›μΌλ©΄μ„λ„ FastAPIμ **λ°μ΄ν„° ν•„ν„°λ§**μ„ μ μ§€ν•  μ μμµλ‹λ‹¤.

{* ../../docs_src/response_model/tutorial003_01_py310.py hl[7:10,13:14,18] *}

μ΄λ¥Ό ν†µν•΄ μ΄ μ½”λ“λ” νƒ€μ… κ΄€μ μ—μ„ μ¬λ°”λ¥΄λ―€λ΅ μ—λ””ν„°μ™€ mypy λ“±μ λ„κµ¬ μ§€μ›μ„ λ°›μ„ μ μκ³ , λ™μ‹μ— FastAPIμ λ°μ΄ν„° ν•„ν„°λ§λ„ λ°›μ„ μ μμµλ‹λ‹¤.

μ΄κ² μ–΄λ–»κ² λ™μ‘ν• κΉμ”? ν™•μΈν•΄ λ΄…μ‹λ‹¤. π¤“

### νƒ€μ… μ–΄λ…Έν…μ΄μ…κ³Ό λ„κµ¬ μ§€μ› { #type-annotations-and-tooling }

λ¨Όμ € μ—λ””ν„°, mypy λ° κΈ°νƒ€ λ„κµ¬κ°€ μ΄λ¥Ό μ–΄λ–»κ² λ³΄λ”μ§€ μ‚΄ν΄λ΄…μ‹λ‹¤.

`BaseUser`λ” κΈ°λ³Έ ν•„λ“λ¥Ό κ°€μ§‘λ‹λ‹¤. κ·Έλ¦¬κ³  `UserIn`μ€ `BaseUser`λ¥Ό μƒμ†ν•κ³  `password` ν•„λ“λ¥Ό μ¶”κ°€ν•λ―€λ΅, λ‘ λ¨λΈμ λ¨λ“  ν•„λ“λ¥Ό ν¬ν•¨ν•κ² λ©λ‹λ‹¤.

ν•¨μ λ°ν™ νƒ€μ…μ„ `BaseUser`λ΅ μ–΄λ…Έν…μ΄μ…ν•μ§€λ§, μ‹¤μ λ΅λ” `UserIn` μΈμ¤ν„΄μ¤λ¥Ό λ°ν™ν•©λ‹λ‹¤.

μ—λ””ν„°, mypy λ° κΈ°νƒ€ λ„κµ¬λ” μ΄μ— λ€ν•΄ λ¶ν‰ν•μ§€ μ•μµλ‹λ‹¤. νƒ€μ΄ν•‘ κ΄€μ μ—μ„ `UserIn`μ€ `BaseUser`μ μ„λΈν΄λμ¤μ΄λ―€λ΅, `BaseUser`μΈ μ–΄λ–¤ κ²ƒμ΄ κΈ°λ€λλ” κ³³μ—μ„λ” *μ ν¨ν•* νƒ€μ…μ΄κΈ° λ•λ¬Έμ…λ‹λ‹¤.

### FastAPI λ°μ΄ν„° ν•„ν„°λ§ { #fastapi-data-filtering }

μ΄μ  FastAPIλ” λ°ν™ νƒ€μ…μ„ λ³΄κ³ , μ—¬λ¬λ¶„μ΄ λ°ν™ν•λ” κ°’μ΄ ν•΄λ‹Ή νƒ€μ…μ— μ„ μ–Έλ ν•„λ“ **λ§** ν¬ν•¨ν•λ„λ΅ λ³΄μ¥ν•©λ‹λ‹¤.

FastAPIλ” Pydanticμ„ λ‚΄λ¶€μ μΌλ΅ μ—¬λ¬ λ°©μ‹μΌλ΅ μ‚¬μ©ν•μ—¬, ν΄λμ¤ μƒμ†μ λ™μΌν• κ·μΉ™μ΄ λ°ν™ λ°μ΄ν„° ν•„ν„°λ§μ—λ” μ μ©λμ§€ μ•λ„λ΅ ν•©λ‹λ‹¤. κ·Έλ ‡μ§€ μ•μΌλ©΄ κΈ°λ€ν• κ²ƒλ³΄λ‹¤ ν›¨μ”¬ λ” λ§μ€ λ°μ΄ν„°λ¥Ό λ°ν™ν•κ² λ  μλ„ μμµλ‹λ‹¤.

μ΄λ ‡κ² ν•λ©΄ **λ„κµ¬ μ§€μ›**μ΄ μλ” νƒ€μ… μ–΄λ…Έν…μ΄μ…κ³Ό **λ°μ΄ν„° ν•„ν„°λ§**μ΄λΌλ” λ‘ κ°€μ§€ μ¥μ μ„ λ¨λ‘ μ–»μ„ μ μμµλ‹λ‹¤.

## λ¬Έμ„μ—μ„ λ³΄κΈ° { #see-it-in-the-docs }

μλ™ μƒμ„± λ¬Έμ„λ¥Ό λ³΄λ©΄ μ…λ ¥ λ¨λΈκ³Ό μ¶λ ¥ λ¨λΈμ΄ κ°μμ JSON Schemaλ¥Ό κ°€μ§€κ³  μμμ„ ν™•μΈν•  μ μμµλ‹λ‹¤:

<img src="/img/tutorial/response-model/image01.png">

κ·Έλ¦¬κ³  λ‘ λ¨λΈ λ¨λ‘ λ€ν™”ν• API λ¬Έμ„μ— μ‚¬μ©λ©λ‹λ‹¤:

<img src="/img/tutorial/response-model/image02.png">

## κΈ°νƒ€ λ°ν™ νƒ€μ… μ–΄λ…Έν…μ΄μ… { #other-return-type-annotations }

μ ν¨ν• Pydantic ν•„λ“κ°€ μ•„λ‹ κ²ƒμ„ λ°ν™ν•λ©΄μ„λ„, λ„κµ¬(μ—λ””ν„°, mypy λ“±)κ°€ μ κ³µν•λ” μ§€μ›μ„ λ°›κΈ° μ„ν•΄ ν•¨μμ— μ–΄λ…Έν…μ΄μ…μ„ λ‹¬μ•„λ‘λ” κ²½μ°κ°€ μμ„ μ μμµλ‹λ‹¤.

### μ‘λ‹µμ„ μ§μ ‘ λ°ν™ν•κΈ° { #return-a-response-directly }

κ°€μ¥ ν”ν• κ²½μ°λ” [κ³ κΈ‰ λ¬Έμ„μ—μ„ λ‚μ¤‘μ— μ„¤λ…ν•λ” λ€λ΅ Responseλ¥Ό μ§μ ‘ λ°ν™ν•λ” κ²ƒ](../advanced/response-directly.md){.internal-link target=_blank}μ…λ‹λ‹¤.

{* ../../docs_src/response_model/tutorial003_02_py39.py hl[8,10:11] *}

μ΄ κ°„λ‹¨ν• κ²½μ°λ” λ°ν™ νƒ€μ… μ–΄λ…Έν…μ΄μ…μ΄ `Response` ν΄λμ¤(λλ” κ·Έ μ„λΈν΄λμ¤)μ΄κΈ° λ•λ¬Έμ— FastAPIμ—μ„ μλ™μΌλ΅ μ²λ¦¬λ©λ‹λ‹¤.

κ·Έλ¦¬κ³  `RedirectResponse`μ™€ `JSONResponse`λ” λ¨λ‘ `Response`μ μ„λΈν΄λμ¤μ΄λ―€λ΅, νƒ€μ… μ–΄λ…Έν…μ΄μ…μ΄ μ¬λ°”λ¥΄κΈ° λ•λ¬Έμ— λ„κµ¬λ“¤λ„ λ§μ΅±ν•©λ‹λ‹¤.

### Response μ„λΈν΄λμ¤ μ–΄λ…Έν…μ΄μ… { #annotate-a-response-subclass }

νƒ€μ… μ–΄λ…Έν…μ΄μ…μ— `Response`μ μ„λΈν΄λμ¤λ¥Ό μ‚¬μ©ν•  μλ„ μμµλ‹λ‹¤:

{* ../../docs_src/response_model/tutorial003_03_py39.py hl[8:9] *}

μ΄λ” `RedirectResponse`κ°€ `Response`μ μ„λΈν΄λμ¤μ΄κΈ° λ•λ¬Έμ— λ™μ‘ν•λ©°, FastAPIκ°€ μ΄ κ°„λ‹¨ν• κ²½μ°λ¥Ό μλ™μΌλ΅ μ²λ¦¬ν•©λ‹λ‹¤.

### μ ν¨ν•μ§€ μ•μ€ λ°ν™ νƒ€μ… μ–΄λ…Έν…μ΄μ… { #invalid-return-type-annotations }

ν•μ§€λ§ μ ν¨ν• Pydantic νƒ€μ…μ΄ μ•„λ‹ λ‹¤λ¥Έ μ„μμ κ°μ²΄(μ: λ°μ΄ν„°λ² μ΄μ¤ κ°μ²΄)λ¥Ό λ°ν™ν•κ³ , ν•¨μμ—μ„ κ·Έλ ‡κ² μ–΄λ…Έν…μ΄μ…ν•λ©΄, FastAPIλ” κ·Έ νƒ€μ… μ–΄λ…Έν…μ΄μ…μΌλ΅λ¶€ν„° Pydantic μ‘λ‹µ λ¨λΈμ„ λ§λ“¤λ ¤κ³  μ‹λ„ν•λ‹¤κ°€ μ‹¤ν¨ν•©λ‹λ‹¤.

λν•, μ ν¨ν• Pydantic νƒ€μ…μ΄ μ•„λ‹ νƒ€μ…μ΄ ν•λ‚ μ΄μƒ ν¬ν•¨λ μ—¬λ¬ νƒ€μ… κ°„μ <abbr title='μ—¬λ¬ νƒ€μ… κ°„ unionμ€ "μ΄ νƒ€μ…λ“¤ μ¤‘ μ•„λ¬΄κ±°λ‚"λ¥Ό μλ―Έν•©λ‹λ‹¤.'>union</abbr>μ΄ μλ” κ²½μ°μ—λ„ λ™μΌν•©λ‹λ‹¤. μλ¥Ό λ“¤μ–΄, μ•„λλ” μ‹¤ν¨ν•©λ‹λ‹¤ π’¥:

{* ../../docs_src/response_model/tutorial003_04_py310.py hl[8] *}

...μ΄λ” νƒ€μ… μ–΄λ…Έν…μ΄μ…μ΄ Pydantic νƒ€μ…μ΄ μ•„λ‹κ³ , λ‹¨μΌ `Response` ν΄λμ¤/μ„λΈν΄λμ¤λ„ μ•„λ‹λ©°, `Response`μ™€ `dict` κ°„ union(λ‘ μ¤‘ μ•„λ¬΄κ±°λ‚)μ΄κΈ° λ•λ¬Έμ— μ‹¤ν¨ν•©λ‹λ‹¤.

### μ‘λ‹µ λ¨λΈ λΉ„ν™μ„±ν™” { #disable-response-model }

μ„ μμ μ—μ„ μ΄μ–΄μ„, FastAPIκ°€ μν–‰ν•λ” κΈ°λ³Έ λ°μ΄ν„° κ²€μ¦, λ¬Έμ„ν™”, ν•„ν„°λ§ λ“±μ„ μ›ν•μ§€ μ•μ„ μ μμµλ‹λ‹¤.

ν•μ§€λ§ μ—λ””ν„°λ‚ νƒ€μ… μ²΄μ»¤(μ: mypy) κ°™μ€ λ„κµ¬ μ§€μ›μ„ λ°›κΈ° μ„ν•΄ ν•¨μμ— λ°ν™ νƒ€μ… μ–΄λ…Έν…μ΄μ…μ€ μ μ§€ν•κ³  μ‹¶μ„ μλ„ μμµλ‹λ‹¤.

μ΄ κ²½μ° `response_model=None`μΌλ΅ μ„¤μ •ν•μ—¬ μ‘λ‹µ λ¨λΈ μƒμ„±μ„ λΉ„ν™μ„±ν™”ν•  μ μμµλ‹λ‹¤:

{* ../../docs_src/response_model/tutorial003_05_py310.py hl[7] *}

κ·Έλ¬λ©΄ FastAPIλ” μ‘λ‹µ λ¨λΈ μƒμ„±μ„ κ±΄λ„λ›°λ©°, FastAPI μ• ν”λ¦¬μΌ€μ΄μ…μ— μν–¥μ„ μ£Όμ§€ μ•κ³  ν•„μ”ν• λ°ν™ νƒ€μ… μ–΄λ…Έν…μ΄μ…μ„ μ–΄λ–¤ κ²ƒμ΄λ“  μ‚¬μ©ν•  μ μμµλ‹λ‹¤. π¤“

## μ‘λ‹µ λ¨λΈ μΈμ½”λ”© λ§¤κ°λ³€μ { #response-model-encoding-parameters }

μ‘λ‹µ λ¨λΈμ€ μ•„λμ™€ κ°™μ΄ κΈ°λ³Έκ°’μ„ κ°€μ§ μ μμµλ‹λ‹¤:

{* ../../docs_src/response_model/tutorial004_py310.py hl[9,11:12] *}

* `description: Union[str, None] = None` (λλ” Python 3.10μ—μ„ `str | None = None`)μ€ κΈ°λ³Έκ°’μΌλ΅ `None`μ„ κ°–μµλ‹λ‹¤.
* `tax: float = 10.5`λ” κΈ°λ³Έκ°’μΌλ΅ `10.5`λ¥Ό κ°–μµλ‹λ‹¤.
* `tags: List[str] = []`λ” κΈ°λ³Έκ°’μΌλ΅ λΉ λ¦¬μ¤νΈ `[]`λ¥Ό κ°–μµλ‹λ‹¤.

ν•μ§€λ§ μ‹¤μ λ΅ μ €μ¥λμ§€ μ•μ•μ„ κ²½μ° κ²°κ³Όμ—μ„ μ΄λ¥Ό μƒλµν•κ³  μ‹¶μ„ μ μμµλ‹λ‹¤.

μλ¥Ό λ“¤μ–΄, NoSQL λ°μ΄ν„°λ² μ΄μ¤μ— λ§μ€ μ„ νƒμ  μ†μ„±μ΄ μλ” λ¨λΈμ΄ μμ§€λ§, κΈ°λ³Έκ°’μΌλ΅ κ°€λ“ μ°¬ λ§¤μ° κΈ΄ JSON μ‘λ‹µμ„ λ³΄λ‚΄κ³  μ‹¶μ§€ μ•μµλ‹λ‹¤.

### `response_model_exclude_unset` λ§¤κ°λ³€μ μ‚¬μ© { #use-the-response-model-exclude-unset-parameter }

*κ²½λ΅ μ²λ¦¬ λ°μ½”λ μ΄ν„°* λ§¤κ°λ³€μ `response_model_exclude_unset=True`λ΅ μ„¤μ •ν•  μ μμµλ‹λ‹¤:

{* ../../docs_src/response_model/tutorial004_py310.py hl[22] *}

κ·Έλ¬λ©΄ μ΄λ¬ν• κΈ°λ³Έκ°’μ€ μ‘λ‹µμ— ν¬ν•¨λμ§€ μ•κ³ , μ‹¤μ λ΅ μ„¤μ •λ κ°’λ§ ν¬ν•¨λ©λ‹λ‹¤.

λ”°λΌμ„ IDκ°€ `foo`μΈ ν•­λ©μ— λ€ν•΄ ν•΄λ‹Ή *κ²½λ΅ μ²λ¦¬*λ΅ μ”μ²­μ„ λ³΄λ‚΄λ©΄, (κΈ°λ³Έκ°’μ„ μ μ™Έν•) μ‘λ‹µμ€ λ‹¤μκ³Ό κ°™μµλ‹λ‹¤:

```JSON
{
    "name": "Foo",
    "price": 50.2
}
```

/// info | μ •λ³΄

λ‹¤μλ„ μ‚¬μ©ν•  μ μμµλ‹λ‹¤:

* `response_model_exclude_defaults=True`
* `response_model_exclude_none=True`

`exclude_defaults` λ° `exclude_none`μ— λ€ν•΄ <a href="https://docs.pydantic.dev/1.10/usage/exporting_models/#modeldict" class="external-link" target="_blank">Pydantic λ¬Έμ„</a>μ— μ„¤λ…λ λ€λ΅ μ‚¬μ©ν•  μ μμµλ‹λ‹¤.

///

#### κΈ°λ³Έκ°’μ΄ μλ” ν•„λ“μ— κ°’μ΄ μλ” λ°μ΄ν„° { #data-with-values-for-fields-with-defaults }

ν•μ§€λ§ IDκ°€ `bar`μΈ ν•­λ©μ²λΌ, κΈ°λ³Έκ°’μ΄ μλ” λ¨λΈμ ν•„λ“μ— κ°’μ΄ μλ‹¤λ©΄:

```Python hl_lines="3  5"
{
    "name": "Bar",
    "description": "The bartenders",
    "price": 62,
    "tax": 20.2
}
```

μ‘λ‹µμ— ν¬ν•¨λ©λ‹λ‹¤.

#### κΈ°λ³Έκ°’κ³Ό λ™μΌν• κ°’μ„ κ°–λ” λ°μ΄ν„° { #data-with-the-same-values-as-the-defaults }

λ°μ΄ν„°κ°€ IDκ°€ `baz`μΈ ν•­λ©μ²λΌ κΈ°λ³Έκ°’κ³Ό λ™μΌν• κ°’μ„ κ°–λ”λ‹¤λ©΄:

```Python hl_lines="3  5-6"
{
    "name": "Baz",
    "description": None,
    "price": 50.2,
    "tax": 10.5,
    "tags": []
}
```

FastAPIλ” μ¶©λ¶„ν λ‘λ‘ν•΄μ„(μ‚¬μ‹¤, Pydanticμ΄ μ¶©λ¶„ν λ‘λ‘ν•©λ‹λ‹¤) `description`, `tax`, `tags`κ°€ κΈ°λ³Έκ°’κ³Ό λ™μΌν•λ”λΌλ„, κΈ°λ³Έκ°’μ—μ„ κ°€μ Έμ¨ κ²ƒμ΄ μ•„λ‹λΌ λ…μ‹μ μΌλ΅ μ„¤μ •λμ—λ‹¤λ” κ²ƒμ„ μ•μ•„λƒ…λ‹λ‹¤.

κ·Έλμ„ JSON μ‘λ‹µμ— ν¬ν•¨λ©λ‹λ‹¤.

/// tip | ν

κΈ°λ³Έκ°’μ€ `None`λΏλ§ μ•„λ‹λΌ μ–΄λ–¤ κ²ƒμ΄λ“  λ  μ μμµλ‹λ‹¤.

λ¦¬μ¤νΈ(`[]`), `float`μΈ `10.5` λ“±μ΄ λ  μ μμµλ‹λ‹¤.

///

### `response_model_include` λ° `response_model_exclude` { #response-model-include-and-response-model-exclude }

*κ²½λ΅ μ²λ¦¬ λ°μ½”λ μ΄ν„°* λ§¤κ°λ³€μ `response_model_include` λ° `response_model_exclude`λ¥Ό μ‚¬μ©ν•  μλ„ μμµλ‹λ‹¤.

μ΄λ“¤μ€ ν¬ν•¨(λ‚λ¨Έμ§€ μƒλµ)ν•κ±°λ‚ μ μ™Έ(λ‚λ¨Έμ§€ ν¬ν•¨)ν•  μ–΄νΈλ¦¬λ·°νΈ μ΄λ¦„μ„ λ‹΄μ€ `str`μ `set`μ„ λ°›μµλ‹λ‹¤.

Pydantic λ¨λΈμ΄ ν•λ‚λ§ μκ³  μ¶λ ¥μ—μ„ μΌλ¶€ λ°μ΄ν„°λ¥Ό μ κ±°ν•λ ¤λ” κ²½μ°, λΉ λ¥Έ μ§€λ¦„κΈΈλ΅ μ‚¬μ©ν•  μ μμµλ‹λ‹¤.

/// tip | ν

ν•μ§€λ§ μ΄λ¬ν• λ§¤κ°λ³€μ λ€μ‹ , μ„μ—μ„ μ„¤λ…ν• κ²ƒμ²λΌ μ—¬λ¬ ν΄λμ¤λ¥Ό μ‚¬μ©ν•λ” κ²ƒμ„ μ—¬μ „ν κ¶μ¥ν•©λ‹λ‹¤.

μ΄λ” μΌλ¶€ μ–΄νΈλ¦¬λ·°νΈλ¥Ό μƒλµν•κΈ° μ„ν•΄ `response_model_include` λλ” `response_model_exclude`λ¥Ό μ‚¬μ©ν•λ”λΌλ„, μ•±μ OpenAPI(λ° λ¬Έμ„)μ— μƒμ„±λλ” JSON Schemaκ°€ μ—¬μ „ν μ „μ²΄ λ¨λΈμ— λ€ν• μ¤ν‚¤λ§μ΄κΈ° λ•λ¬Έμ…λ‹λ‹¤.

λΉ„μ·ν•κ² λ™μ‘ν•λ” `response_model_by_alias`μ—λ„ λ™μΌν•κ² μ μ©λ©λ‹λ‹¤.

///

{* ../../docs_src/response_model/tutorial005_py310.py hl[29,35] *}

/// tip | ν

λ¬Έλ²• `{"name", "description"}`μ€ λ‘ κ°’μ„ κ°–λ” `set`μ„ λ§λ“­λ‹λ‹¤.

μ΄λ” `set(["name", "description"])`κ³Ό λ™μΌν•©λ‹λ‹¤.

///

#### `set` λ€μ‹  `list` μ‚¬μ©ν•κΈ° { #using-lists-instead-of-sets }

`set`μ„ μ“°λ” κ²ƒμ„ μκ³  `list`λ‚ `tuple`μ„ λ€μ‹  μ‚¬μ©ν•λ”λΌλ„, FastAPIλ” μ΄λ¥Ό `set`μΌλ΅ λ³€ν™ν•λ―€λ΅ μ¬λ°”λ¥΄κ² λ™μ‘ν•©λ‹λ‹¤:

{* ../../docs_src/response_model/tutorial006_py310.py hl[29,35] *}

## μ”μ•½ { #recap }

μ‘λ‹µ λ¨λΈμ„ μ •μν•κ³  νΉν κ°μΈμ •λ³΄κ°€ ν•„ν„°λ§λλ„λ΅ λ³΄μ¥ν•λ ¤λ©΄ *κ²½λ΅ μ²λ¦¬ λ°μ½”λ μ΄ν„°*μ λ§¤κ°λ³€μ `response_model`μ„ μ‚¬μ©ν•μ„Έμ”.

λ…μ‹μ μΌλ΅ μ„¤μ •λ κ°’λ§ λ°ν™ν•λ ¤λ©΄ `response_model_exclude_unset`μ„ μ‚¬μ©ν•μ„Έμ”.
