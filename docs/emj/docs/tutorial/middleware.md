# ğŸ› ï¸

ğŸ‘† ğŸ’ª ğŸš® ğŸ› ï¸ **FastAPI** ğŸˆ¸.

"ğŸ› ï¸" ğŸ”¢ ğŸ‘ˆ ğŸ‘· â®ï¸ ğŸ”  **ğŸ“¨** â­ âš«ï¸ ğŸ› ï¸ ğŸ™† ğŸ¯ *â¡ ğŸ› ï¸*. &amp; â®ï¸ ğŸ”  **ğŸ“¨** â­ ğŸ›¬ âš«ï¸.

* âš«ï¸ âœŠ ğŸ”  **ğŸ“¨** ğŸ‘ˆ ğŸ‘Ÿ ğŸ‘† ğŸˆ¸.
* âš«ï¸ ğŸ’ª â¤´ï¸ ğŸ•³ ğŸ‘ˆ **ğŸ“¨** âš–ï¸ ğŸƒ ğŸ™† ğŸ’ª ğŸ“Ÿ.
* â¤´ï¸ âš«ï¸ ğŸš¶â€â™€ï¸ **ğŸ“¨** ğŸ› ï¸ ğŸ‚ ğŸˆ¸ ( *â¡ ğŸ› ï¸*).
* âš«ï¸ â¤´ï¸ âœŠ **ğŸ“¨** ğŸ— ğŸˆ¸ ( *â¡ ğŸ› ï¸*).
* âš«ï¸ ğŸ’ª ğŸ•³ ğŸ‘ˆ **ğŸ“¨** âš–ï¸ ğŸƒ ğŸ™† ğŸ’ª ğŸ“Ÿ.
* â¤´ï¸ âš«ï¸ ğŸ“¨ **ğŸ“¨**.

!!! note "ğŸ“¡ â„¹"
    ğŸš¥ ğŸ‘† âœ”ï¸ ğŸ”— â®ï¸ `yield`, ğŸšª ğŸ“Ÿ ğŸ”œ ğŸƒ *â®ï¸* ğŸ› ï¸.

    ğŸš¥ ğŸ“¤ ğŸ™† ğŸ–¥ ğŸ“‹ (ğŸ“„ âª), ğŸ‘« ğŸ”œ ğŸƒ *â®ï¸* ğŸŒ ğŸ› ï¸.

## âœ ğŸ› ï¸

âœ ğŸ› ï¸ ğŸ‘† âš™ï¸ ğŸ‘¨â€ğŸ¨ `@app.middleware("http")` ğŸ”› ğŸ” ğŸ”¢.

ğŸ› ï¸ ğŸ”¢ ğŸ“¨:

*  `request`.
* ğŸ”¢ `call_next` ğŸ‘ˆ ğŸ”œ ğŸ“¨ `request` ğŸ”¢.
    * ğŸ‘‰ ğŸ”¢ ğŸ”œ ğŸš¶â€â™€ï¸ `request` ğŸ”— *â¡ ğŸ› ï¸*.
    * â¤´ï¸ âš«ï¸ ğŸ“¨ `response` ğŸ— ğŸ”— *â¡ ğŸ› ï¸*.
* ğŸ‘† ğŸ’ª â¤´ï¸ ğŸ”€ ğŸŒ… `response` â­ ğŸ›¬ âš«ï¸.

```Python hl_lines="8-9  11  14"
{!../../../docs_src/middleware/tutorial001.py!}
```

!!! tip
    âœ”ï¸ ğŸ¤¯ ğŸ‘ˆ ğŸ›ƒ Â© ğŸš ğŸ’ª ğŸš® <a href="https://developer.mozilla.org/en-US/docs/Web/HTTP/Headers" class="external-link" target="_blank">âš™ï¸ 'âœ–-' ğŸ”¡</a>.

    âœ‹ï¸ ğŸš¥ ğŸ‘† âœ”ï¸ ğŸ›ƒ ğŸš ğŸ‘ˆ ğŸ‘† ğŸ’š ğŸ‘©â€ğŸ’» ğŸ–¥ ğŸ’ª ğŸ‘€, ğŸ‘† ğŸ’ª ğŸš® ğŸ‘« ğŸ‘† âšœ ğŸ“³ ([âšœ (âœ–ï¸-ğŸ‡¨ğŸ‡³ â„¹ ğŸ¤)](cors.md){.internal-link target=_blank}) âš™ï¸ ğŸ”¢ `expose_headers` ğŸ“„ <a href="https://www.starlette.io/middleware/#corsmiddleware" class="external-link" target="_blank">ğŸ’ƒ âšœ ğŸ©º</a>.

!!! note "ğŸ“¡ â„¹"
    ğŸ‘† ğŸ’ª âš™ï¸ `from starlette.requests import Request`.

    **FastAPI** ğŸšš âš«ï¸ ğŸª ğŸ‘†, ğŸ‘©â€ğŸ’». âœ‹ï¸ âš«ï¸ ğŸ‘Ÿ ğŸ”— âšªï¸â¡ï¸ ğŸ’ƒ.

### â­ &amp; â®ï¸ `response`

ğŸ‘† ğŸ’ª ğŸš® ğŸ“Ÿ ğŸƒ â®ï¸ `request`, â­ ğŸ™† *â¡ ğŸ› ï¸* ğŸ“¨ âš«ï¸.

&amp; â®ï¸ `response` ğŸ—, â­ ğŸ›¬ âš«ï¸.

ğŸ–¼, ğŸ‘† ğŸ’ª ğŸš® ğŸ›ƒ ğŸš `X-Process-Time` âš— ğŸ•° ğŸ¥ˆ ğŸ‘ˆ âš«ï¸ âœŠ ğŸ› ï¸ ğŸ“¨ &amp; ğŸ— ğŸ“¨:

```Python hl_lines="10  12-13"
{!../../../docs_src/middleware/tutorial001.py!}
```

## ğŸ ğŸ› ï¸

ğŸ‘† ğŸ’ª âª âœ ğŸŒ– ğŸ”ƒ ğŸ ğŸ› ï¸ [ğŸ§ ğŸ‘©â€ğŸ’» ğŸ¦®: ğŸ§ ğŸ› ï¸](../advanced/middleware.md){.internal-link target=_blank}.

ğŸ‘† ğŸ”œ âœ ğŸ”ƒ â” ğŸµ <abbr title="Cross-Origin Resource Sharing">âšœ</abbr> â®ï¸ ğŸ› ï¸ â­ ğŸ“„.
