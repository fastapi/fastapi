# Header å‚æ•°æ¨¡å‹ { #header-parameter-models }

å¦‚æœæ‚¨æœ‰ä¸€ç»„ç›¸å…³çš„ **header å‚æ•°**ï¼Œæ‚¨å¯ä»¥åˆ›å»ºä¸€ä¸ª **Pydantic æ¨¡å‹**æ¥å£°æ˜å®ƒä»¬ã€‚

è¿™å°†å…è®¸æ‚¨åœ¨**å¤šä¸ªåœ°æ–¹**èƒ½å¤Ÿ**é‡ç”¨æ¨¡å‹**ï¼Œå¹¶ä¸”å¯ä»¥ä¸€æ¬¡æ€§å£°æ˜æ‰€æœ‰å‚æ•°çš„éªŒè¯å’Œå…ƒæ•°æ®ã€‚ğŸ˜

/// note | æ³¨æ„

è‡ª FastAPI ç‰ˆæœ¬ `0.115.0` èµ·æ”¯æŒæ­¤åŠŸèƒ½ã€‚ğŸ¤“

///

## ä½¿ç”¨ Pydantic æ¨¡å‹çš„ Header å‚æ•° { #header-parameters-with-a-pydantic-model }

åœ¨ **Pydantic æ¨¡å‹**ä¸­å£°æ˜æ‰€éœ€çš„ **header å‚æ•°**ï¼Œç„¶åå°†å‚æ•°å£°æ˜ä¸º `Header` :

{* ../../docs_src/header_param_models/tutorial001_an_py310.py hl[9:14,18] *}

**FastAPI** å°†ä»è¯·æ±‚ä¸­æ¥æ”¶åˆ°çš„ **headers** ä¸­**æå–**å‡º**æ¯ä¸ªå­—æ®µ**çš„æ•°æ®ï¼Œå¹¶æä¾›æ‚¨å®šä¹‰çš„ Pydantic æ¨¡å‹ã€‚

## æŸ¥çœ‹æ–‡æ¡£ { #check-the-docs }

æ‚¨å¯ä»¥åœ¨æ–‡æ¡£ UI çš„ `/docs` ä¸­æŸ¥çœ‹æ‰€éœ€çš„ headersï¼š

<div class="screenshot">
<img src="/img/tutorial/header-param-models/image01.png">
</div>

## ç¦æ­¢é¢å¤–çš„ Headers { #forbid-extra-headers }

åœ¨æŸäº›ç‰¹æ®Šä½¿ç”¨æƒ…å†µä¸‹ï¼ˆå¯èƒ½å¹¶ä¸å¸¸è§ï¼‰ï¼Œæ‚¨å¯èƒ½å¸Œæœ›**é™åˆ¶**æ‚¨æƒ³è¦æ¥æ”¶çš„ headersã€‚

æ‚¨å¯ä»¥ä½¿ç”¨ Pydantic çš„æ¨¡å‹é…ç½®æ¥ç¦æ­¢ï¼ˆ `forbid` ï¼‰ä»»ä½•é¢å¤–ï¼ˆ `extra` ï¼‰å­—æ®µï¼š

{* ../../docs_src/header_param_models/tutorial002_an_py310.py hl[10] *}

å¦‚æœå®¢æˆ·å°è¯•å‘é€ä¸€äº›**é¢å¤–çš„ headers**ï¼Œä»–ä»¬å°†æ”¶åˆ°**é”™è¯¯**å“åº”ã€‚

ä¾‹å¦‚ï¼Œå¦‚æœå®¢æˆ·ç«¯å°è¯•å‘é€ä¸€ä¸ªå€¼ä¸º `plumbus` çš„ `tool` headerï¼Œå®¢æˆ·ç«¯å°†æ”¶åˆ°ä¸€ä¸ª**é”™è¯¯**å“åº”ï¼Œå‘ŠçŸ¥ä»–ä»¬ header å‚æ•° `tool` æ˜¯ä¸å…è®¸çš„ï¼š

```json
{
    "detail": [
        {
            "type": "extra_forbidden",
            "loc": ["header", "tool"],
            "msg": "Extra inputs are not permitted",
            "input": "plumbus",
        }
    ]
}
```

## ç¦ç”¨ä¸‹åˆ’çº¿è½¬æ¢ { #disable-convert-underscores }

ä¸å¸¸è§„ header å‚æ•°ä¸€æ ·ï¼Œå½“å‚æ•°åä¸­åŒ…å«ä¸‹åˆ’çº¿å­—ç¬¦æ—¶ï¼Œå®ƒä»¬ä¼šè¢«**è‡ªåŠ¨è½¬æ¢ä¸ºè¿å­—ç¬¦**ã€‚

ä¾‹å¦‚ï¼Œå¦‚æœä½ åœ¨ä»£ç ä¸­æœ‰ä¸€ä¸ª header å‚æ•° `save_data`ï¼Œé‚£ä¹ˆæœŸæœ›çš„ HTTP header å°†æ˜¯ `save-data`ï¼Œå¹¶ä¸”å®ƒä¼šä»¥è¿™ç§å½¢å¼æ˜¾ç¤ºåœ¨æ–‡æ¡£ä¸­ã€‚

å¦‚æœç”±äºæŸäº›åŸå› ä½ éœ€è¦ç¦ç”¨è¿™ç§è‡ªåŠ¨è½¬æ¢ï¼Œä½ ä¹Ÿå¯ä»¥å¯¹ header å‚æ•°çš„ Pydantic æ¨¡å‹è¿™æ ·åšã€‚

{* ../../docs_src/header_param_models/tutorial003_an_py310.py hl[19] *}

/// warning | è­¦å‘Š

åœ¨å°† `convert_underscores` è®¾ç½®ä¸º `False` ä¹‹å‰ï¼Œè¯·è®°ä½æŸäº› HTTP ä»£ç†å’ŒæœåŠ¡å™¨ä¸å…è®¸ä½¿ç”¨åŒ…å«ä¸‹åˆ’çº¿çš„ headersã€‚

///

## æ€»ç»“ { #summary }

æ‚¨å¯ä»¥ä½¿ç”¨ **Pydantic æ¨¡å‹**åœ¨ **FastAPI** ä¸­å£°æ˜ **headers**ã€‚ğŸ˜
