# 路径操作装饰器中的依赖关系

在某些情况下，你并不需要在你的 *路径操作函数* 获得依赖项的返回值。

或者依赖项不返回值。

但你仍然需要执行/解析它

对于这些情况，您可以在 *路径操作装饰器* 中添加 `dependencies` 的 `list` ，而不是使用 `Depends` 声明一个 *路径操作函数* 的参数。 

## 为 *路径操作装饰器* 增加 `依赖项`

*路径操作函数* 接收一个可选的参数 `dependencies`.

它应该是 `Depends()` 的一个 `list`:

```Python hl_lines="17"
{!../../../docs_src/dependencies/tutorial006.py!}
```

这些依赖项将以与普通依赖项相同的方式执行/解析。但是它们的值(如果它们返回任何值)不会被传递给您的 *路径操作函数* 。

!!! tip
    一些编辑器检查未使用的函数参数，并将其显示为错误。

    在 *路径操作装饰器* 中使用这些 `依赖项` ，可以确保它们被执行，同时避免编辑器/工具错误提示。

    它还可以帮助新开发人员避免在代码中看到未使用的参数而认为它是不必要的混淆。

!!! info
    在这个例子中，我们使用了自定义消息头 `X-Key` 和 `X-Token`.

    但在实际情况下，当实现安全性时，您将通过使用集成的[Security utilities (the next chapter)](../security/index.md){.internal-link target=_blank}获得更多好处。

## 依赖错误和返回值

您可以使用常规的依赖项 *函数* 。

### 依赖的需求

它们可以声明请求需求(比如消息头)或其他子依赖项:

```Python hl_lines="6  11"
{!../../../docs_src/dependencies/tutorial006.py!}
```

### 抛出异常

这些依赖项可以 `引发` 异常，就像正常依赖项一样:

```Python hl_lines="8  13"
{!../../../docs_src/dependencies/tutorial006.py!}
```

### 返回值

它们可以返回值，也可以不返回值，这些值不会被使用。

所以，你可以重用一个你已经在其他地方使用过的普通依赖(返回一个值)，即使这个值不会被使用，这个依赖也会被执行:

```Python hl_lines="9  14"
{!../../../docs_src/dependencies/tutorial006.py!}
```

## 一组路径操作的依赖关系

稍后，当您阅读如何构造大型应用程序([大型应用程序-多个文件](../../tutorial/bigger-applications.md){.internal-link target=_blank})时，您将了解如何为一组 *路径操作* 声明单个的 `依赖项` 参数。

## 全局依赖项

接下来，我们将看到如何向整个 `FastAPI` 应用程序添加依赖项，以便它们应用于每个*路径操作*。