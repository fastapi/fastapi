# 测试 WebSockets

测试 WebSockets 也使用 `TestClient`。

为此，要在 `with` 语句中使用 `TestClient` 连接 WebSocket。

```Python hl_lines="27-31"
{!../../../docs_src/app_testing/tutorial002.py!}
```

!!! note "笔记"

    更多细节详见 <a href="https://www.starlette.io/testclient/#testing-websocket-sessions" class="external-link" target="_blank">Starlette 官档 - 测试 WebSockets</a>。
